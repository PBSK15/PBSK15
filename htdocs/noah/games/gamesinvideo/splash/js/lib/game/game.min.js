/* Built with IMPACT - impactjs.com */
(function(e){Math.rand=function(g,f){if(g.isInt()&&f.isInt()){return ~~(Math.random()*(f-g+1))+g}else{return(Math.random()*(f-g))+g}};Math.distance=function(h,j,g,i){var f=g-h,k=i-j;return Math.sqrt(f*f+k*k)};Math.lerp=function(h,g,f){return h+f*(g-h)};Number.prototype.lerp=function(g,f){return Math.lerp(this,g,f)};Number.prototype.map=function(g,h,f,i){return f+(i-f)*((this-g)/(h-g))};Number.prototype.commaFormat=function(){return(this+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")};Number.prototype.limit=function(g,f){return Math.min(f,Math.max(g,this))};Number.prototype.round=function(f){f=Math.pow(10,f||0);return Math.round(this*f)/f};Number.prototype.isInt=function(){return this%1==0};Number.prototype.toInt=function(){return(this|0)};Number.prototype.toRad=function(){return(this/180)*Math.PI};Number.prototype.toDeg=function(){return(this*180)/Math.PI};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.camelCase=function(){return this.replace(/-\D/g,function(f){return f.charAt(1).toUpperCase()})};String.prototype.ucwords=function(){return(this+"").replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,function(f){return f.toUpperCase()})};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};Object.defineProperty(Array.prototype,"erase",{value:function(g){var f=this.indexOf(g);if(f>-1){this.splice(f,1)}return this}});Object.defineProperty(Array.prototype,"random",{value:function(){return this[Math.rand(0,this.length-1)]}});Object.defineProperty(Array.prototype,"shuffle",{value:function(){for(var g,f,h=this.length;h;g=parseInt(Math.random()*h),f=this[--h],this[h]=this[g],this[g]=f){}return this}});Function.prototype.bind=Function.prototype.bind||function(f){var g=this;return function(){return g.apply(f,arguments)}};var d={baked:false,lib:"js/",prefix:e.ImpactPrefix||"",device:{},modules:{},_current:null,_loadQueue:[],_waitForOnload:0,nocache:document.location.href.match(/\?nocache/)?"?"+Date.now():"",$:function(f){return f.charAt(0)=="#"?document.getElementById(f.substr(1)):document.getElementsByTagName(f)},$new:function(f){return document.createElement(f)},log:function(){console.log.apply(console,arguments)},copy:function(g){if(!g||typeof g!="object"||g instanceof HTMLElement||g instanceof d.Class){return g}else{if(g instanceof Array){var h=0,f=g.length,j=[];for(;h<f;h++){j[h]=d.copy(g[h])}return j}else{var h,j={};for(h in g){j[h]=d.copy(g[h])}return j}}},merge:function(h,f){for(var g in f){var i=f[g];if(typeof i!="object"||i instanceof HTMLElement||i instanceof d.Class||i===null){h[g]=i}else{if(!h[g]||typeof h[g]!="object"){h[g]=(i instanceof Array)?[]:{}}d.merge(h[g],i)}}return h},ksort:function(j){if(!j||typeof j!="object"){return[]}var h=[],f=[],g;for(g in j){h.push(g)}h.sort();for(g=0;g<h.length;g++){f.push(j[h[g]])}return f},boot:function(){var g={};var k=navigator.userAgent;g.pixelRatio=e.devicePixelRatio||1;g.screen={width:e.screen.availWidth*g.pixelRatio,height:e.screen.availHeight*g.pixelRatio};g.iPod=/ipod/i.test(k);g.iPhone=/iphone/i.test(k);g.iPad=/ipad/i.test(k);g.iOS=g.iPhone||g.iPad||g.iPod;g.iOSVersion=g.iOS?parseFloat(((k.match(/os (\d+_\d+)?/i)||["",""])[1]+"").replace("_",".")):-1;g.kindle=/silk/i.test(k);g.android=/android/i.test(k);g.androidPhone=/(?=.*\bandroid\b)(?=.*\bmobile\b)/i.test(k);g.androidTablet=(!g.androidPhone&&/Android/i.test(k))||g.kindle;g.android=g.androidPhone||g.androidTablet;g.androidVersion=parseFloat(k.slice(k.indexOf("Android")+8));if(isNaN(g.androidVersion)){g.androidVersion=99}g.winPhone=/(iemobile|windows phone)/i.test(k);g.winTablet=/(?=.*\bwindows\b)(?=.*\\btouch\b)/i.test(k);g.chrome=k.toLowerCase().indexOf("chrome")>-1;g.safari=k.toLowerCase().indexOf("safari")>-1;g.mobile=g.iOS||g.android||g.winPhone||/mobile/i.test(k);g.tablet=g.iPad||g.androidTablet||g.winTablet;g.touchDevice=(("ontouchstart" in e)||(e.navigator.msMaxTouchPoints));g.crosswalk=/crosswalk/i.test(k);g.cocoonJS=!!navigator.isCocoonJS;g.ejecta=/ejecta/i.test(k);var m=d.$("meta");for(var j=0,h=false,l;l=m[j++];){if(l.name=="viewport"){h=true}}if(!h){var f=d.$new("meta");f.name="viewport";f.content="initial-scale=1, maximum-scale=1, user-scalable=no";if(g.iOSVersion==7.1){f.content+=", minimal-ui"}d.$("head")[0].appendChild(f)}d.device=g},module:function(f){if(d._current){throw ('Module "'+d._current.name+'" defines nothing')}if(d.modules[f]&&d.modules[f].body){throw ('Module "'+f+'" is already defined')}d._current={name:f,requires:[],loaded:false,body:null};d.modules[f]=d._current;d._loadQueue.push(d._current);return d},requires:function(){d._current.requires=Array.prototype.slice.call(arguments);return d},defines:function(f){d._current.body=f||function(){};d._current=null;d._initDOMReady()},_initDOMReady:function(){if(d.modules["dom.ready"]){d._execModules();return}d.boot();d.modules["dom.ready"]={requires:[],loaded:false,body:null};d._waitForOnload++;if(document.readyState==="complete"){d._DOMReady()}else{document.addEventListener("DOMContentLoaded",d._DOMReady,false);window.addEventListener("load",d._DOMReady,false)}},_DOMReady:function(){if(!d.modules["dom.ready"].loaded){if(!document.body){return setTimeout(d._DOMReady,10)}d.modules["dom.ready"].loaded=true;d._waitForOnload--;d._execModules()}return 0},_loadScript:function(h,g){d.modules[h]={name:h,requires:[],loaded:false,body:null};d._waitForOnload++;var i=d.prefix+d.lib+h.replace(/\./g,"/")+".js"+d.nocache;var f=d.$new("script");f.type="text/javascript";f.src=i;f.onload=function(){d._waitForOnload--;d._execModules()};f.onerror=function(){throw ("Failed to load module "+h+" at "+i+" required from "+g)};d.$("head")[0].appendChild(f)},_execModules:function(){var g=false;for(var n=0;n<d._loadQueue.length;n++){var k=d._loadQueue[n];var f=true;for(var l=0;l<k.requires.length;l++){var h=k.requires[l];if(!d.modules[h]){f=false;d._loadScript(h,k.name)}else{if(!d.modules[h].loaded){f=false}}}if(f&&k.body){d._loadQueue.splice(n,1);k.loaded=true;k.body();g=true;n--}}if(g){d._execModules()}else{if(!d.baked&&d._waitForOnload==0&&d._loadQueue.length!=0){var o=[];for(var n=0;n<d._loadQueue.length;n++){var q=[];var p=d._loadQueue[n].requires;for(var l=0;l<p.length;l++){var k=d.modules[p[l]];if(!k||!k.loaded){q.push(p[l])}}o.push(d._loadQueue[n].name+" (requires: "+q.join(", ")+")")}throw ("Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading: \n"+o.join("\n"))}}}};var a=false,c=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,b=function(i){var h=this.prototype,g={},f;for(f in i){if(typeof i[f]=="function"&&typeof h[f]=="function"&&c.test(i[f])){g[f]=h[f];h[f]=(function(j,k){return function(){var m=this.parent;this.parent=g[j];var l=k.apply(this,arguments);this.parent=m;return l}})(f,i[f])}else{h[f]=i[f]}}};d.Class=function(){};d.Class.extend=function(j){var i=this.prototype;a=true;var h=new this;a=false;for(var g in j){h[g]=typeof j[g]=="function"&&typeof i[g]=="function"&&c.test(j[g])?(function(k,l){return function(){var n=this.parent;this.parent=i[k];var m=l.apply(this,arguments);this.parent=n;return m}})(g,j[g]):j[g]}function f(){if(!a){if(this.staticInstantiate){var l=this.staticInstantiate.apply(this,arguments);if(l){return l}}for(var k in this){if(typeof(this[k])=="object"){this[k]=d.copy(this[k])}}if(this.init){this.init.apply(this,arguments)}}return this}f.prototype=h;f.prototype.constructor=f;f.extend=d.Class.extend;f.inject=b;return f};if(e.impactMixin){d.merge(d,e.impactMixin)}e.ig=d})(window);ig.baked=true;ig.module("lib.impact.impact").requires("dom.ready").defines();ig.config={version:"1.1",gameWrapper:"game-wrapper",gameDimensions:{width:{min:1024,max:1380},height:{min:768,max:768}},videos:["scene_1_16x9","scene_2_16x9","scene_3_16x9"],wordRace:{points:100,miss:3,easy:{time:60,spawn:2,speed:0.2},hard:{time:60,spawn:2,speed:0.4},pro:{time:60,spawn:3,speed:0.4}},catchIt:{walkSpeed:900,easy:{total:5,time:60,objects:5,spawn:2,fallRate:180},hard:{total:10,time:90,objects:10,spawn:2,fallRate:180},pro:{total:10,time:90,objects:10,spawn:3,fallRate:240}},matchIt:{time:30},sound:{object:{flipflops:"ON_GAME_177_PU_COCO_01B",bathingsuit:"bathingsuit",lifepreserver:"ON_GAME_173_PU_COCO_01B",sunglasses:"ON_GAME_185_PU_COCO_01B",umbrella:"ON_GAME_189_PU_COCO_02A",cucumber:"ON_GAME_283_PU_COCO_01A",lettuce:"ON_GAME_279_PU_COCO_01B",pineapple:"ON_GAME_291_PU_COCO_01B",grapes:"ON_GAME_287_PU_COCO_02B",strawberries:"ON_GAME_295_PU_COCO_01B"},threeMisses:"3misses",goodJob:"good-job",gotIt:"got-it",keepTrying:"keep-trying",keepWatchingVideo:"keep-watching-video",matchIt:"match-it",wordRace:"word-race",nice:"nice",notRight:"not-right",ohNo:"oh-no",perfectScore:"perfect-score",perfect:"perfect",playAgain:"play-again",playMatchIt:"play-match-it",play:"play",playGames:"play-games",takeChallenge:"take-a-challenge",thatsRight:"thats-right",tryAgain:"try-again",changeLevel:"change-your-level",chooseLevel:"choose-your-level",difficultyEasy:"easy",difficultyHard:"hard",difficultyPro:"pro",youCatchIt:"you-catch-it",missedIt:"missed-it",catchAllFive:"catch-all-five",catchAllTen:"catch-all-ten",directionsIntro_1:ig.device.mobile?"ON_GAME_404_PU_NOAH_01A":"roll-over-to-hear-in-spanish-2",directionsIntro_2:ig.device.mobile?"ON_GAME_402_PU_NOAH_01C":"move-your-mouse-around",raceInstructions:ig.device.mobile?"ON_GAME_405_PU_NOAH_01B":"race-instructions",matchInstructions:ig.device.mobile?"ON_GAME_403_PU_NOAH_01A":"click-an-image-to-make-a-match",catchInstructions:ig.device.mobile?"ON_GAME_407_PU_NOAH_01C":"catch-it-directions-2",endGoFaster:"end-go-faster",endTimeUp:"end-time-up",youMadeItThroughAll:"you-made-it-through-all",youMadeItToHard:"you-made-it-to-hard",youMadeItToPro:"you-made-it-to-pro"}};ig.baked=true;ig.module("config").defines();ig.strings={LOADING:"LOADING",MENU:{TITLE:"Games",BTN_MATCH_IT:"MATCH IT        ",BTN_WORD_RACE:"WORD RACE",BTN_CATCH:"YOU CATCH IT, YOU KEEP IT"},CATCH:{EASY_DIFFICULTY:"EASY LEVEL",HARD_DIFFICULTY:"HARD LEVEL",PRO_DIFFICULTY:"PRO LEVEL",CATCH_N_THINGS:"Catch    {objects}    things",TITLE_1:"You Catch It, You Keep It!",TITLE_2:"Si lo atrapaste, quédatelo",ITEMS:"ITEMS",POPUP_MISS:"Miss!",DISPLAY_TIME:"Time:\n{time}",END_GOOD_JOB:"Good job!",END_MISSES:"Oh no, you had three misses! Try again...",END_STATS:"{correct} items caught, {miss} missed",END_SCORE:"your score: {score}"},RACE:{INSTRUCTIONS_1:"Pick up as many right things as you can in",INSTRUCTIONS_2:"{time} seconds.",POPUP_MISS:"Miss!",POPUP_CORRECT:"+{points} Points!",DISPLAY_SCORE:"Score:\n{score}",DISPLAY_TIME:"Time:\n{time}",DISPLAY_MISS:"Miss:\n{miss}",END_HEADER_OHNO:"Oh no!",END_HEADER_TIMESUP:"Time's up!",END_SCORE:"Your Score: {score}",END_STATS:"{correct} collected, {miss} missed",},MATCH:{MATCH_IT:"Match It",MATCH_IT_ES:"Combínalo",DISPLAY_TIME:"Time: {time}",INSTRUCTIONS_1:ig.device.mobile?"Tap the items to hear how to saw them in Spanish":"Move your mouse around to learn some Spanish words",INSTRUCTIONS_2:ig.device.mobile?"Tap an image, then tap a word to make a match!":"Click an image, then click a word to make a match!",END_HEADER_OHNO:"Oh no!",END_HEADER_OUT_OF_TIME:"You ran out of time!",END_HEADER_GOOD_JOB:"Good job!",END_HEADER_TIME_WAS:"Your time was:",END_TIME:"{time} seconds",END_MESSAGE:"Play again to get a better time."},BTN_KEEP_WATCHING:"KEEP WATCHING",BTN_PLAY:"PLAY",BTN_NEXT:"NEXT",BTN_PLAY_AGAIN:"PLAY AGAIN",BTN_CHANGE_LEVEL:"CHANGE LEVEL",DIRECTIONS_STEP:ig.device.mobile?"Tap the items to hear how to say them in Spanish.":"Roll over the items to hear how to say them in Spanish!",DIFFICULTY_BACK:"Back to words",DIFFICULTY_TITLE:"Choose your level",DIFFICULTY_EASY:"Easy",DIFFICULTY_HARD:"Hard",DIFFICULTY_PRO:"Pro",CHANGE_YOUR_DIFFICULTY:"Change Your Level",OBJECT_FLIPFLOPS:"las chancletas",OBJECT_BATHINGSUIT:"el traje de baño",OBJECT_LIFEPRESERVER:"el flotador",OBJECT_SUNGLASSES:"las gafas de sol",OBJECT_UMBRELLA:"la sombrilla",OBJECT_CUCUMBER:"el pepino",OBJECT_LETTUCE:"la lechuga",OBJECT_PINEAPPLE:"la piña",OBJECT_GRAPES:"las uvas",OBJECT_STRAWBERRIES:"las fresas"};ig.baked=true;ig.module("strings").defines();ig.baked=true;ig.module("lib.impact.system").defines(function(){ig.System=ig.Class.extend({width:480,height:320,scale:1,fixedWidth:960,fixedHeight:640,fixedScale:1,init:function(){this.scale=this.getUrlVar("scale")||this.scale;window.addEventListener("load",this.onPageLoad.bind(this),false);window.addEventListener("resize",this.onResizeWindow.bind(this),false);window.addEventListener("orientationchange",this.onResizeWindow.bind(this),false);window.addEventListener("scroll",this.hideAddressBar,false);document.ontouchmove=function(a){a.preventDefault()};this.onPageLoad()},resize:function(d,a,g){this.width=d*this.scale;this.height=a*this.scale;this.fixedScale=1/this.scale;this.fixedWidth=this.width*this.fixedScale;this.fixedHeight=this.height*this.fixedScale;var f=ig.$("#"+ig.config.gameWrapper);var e=f?f.getElementsByTagName("canvas"):[ig.$("#canvas")];for(var c=0,b;b=e[c++];){b.width=this.width;b.height=this.height}},getUrlVar:function(a){var b={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(c,d,e){b[d]=e});return b[a]||null},lastInnerSize:0,onResizeWindow:function(m){if(!ig.config){return}setTimeout(this.hideAddressBar,100);if(!m&&this.lastInnerSize==window.innerWidth+window.innerHeight){return}var b=window.innerWidth,a=window.innerHeight,j=ig.$("#"+ig.config.gameWrapper),h=ig.config.gameDimensions.width.min,k=ig.config.gameDimensions.width.max,i=ig.config.gameDimensions.height.min,l=ig.config.gameDimensions.height.max,f=b/h,e=a/i,c=h,g=i,d;if(f>e){if(b>k*e){c=k}else{if(b<h*e){c=h}else{c=b/e}}}else{if(a>l*f){g=l}else{if(a<i*f){g=i}else{g=a/f}}}c=~~c;g=~~g;this.resize(c,g,this.scale);if(j){d=f>e?a/g:b/c;j.style.maxWidth=j.style.maxHeight=j.style.margin="";j.style.width=~~(c*d)+"px";j.style.height=~~(g*d)+"px";j.style.marginTop=~~((a-(g*d))*0.5)+"px"}setTimeout(this.hideAddressBar,100);this.lastInnerSize=b+a},onPageLoad:function(){this.hideAddressBar();this.onResizeWindow()},hideAddressBar:function(){setTimeout(function(){window.scrollTo&&window.scrollTo(0,0)},0)}});ig.system=new ig.System});ig.baked=true;ig.module("lib.impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:false,isUsingKeyboard:false,isUsingAccelerometer:false,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},touch:{},touchCount:0,init:function(a){this.initMouse(a);this.initKeyboard();this.initAccelerometer()},initMouse:function(a){if(this.isUsingMouse){return}this.isUsingMouse=true;var b=this.mousemove.bind(this);document.addEventListener("mousewheel",b,false);document.addEventListener("DOMMouseScroll",b,false);if(a){a.on("stagemousedown",this.keydown.bind(this));a.on("stagemouseup",this.keyup.bind(this));a.on("stagemousemove",this.mousemove.bind(this))}},initKeyboard:function(){if(this.isUsingKeyboard){return}this.isUsingKeyboard=true;window.addEventListener("keydown",this.keydown.bind(this),false);window.addEventListener("keyup",this.keyup.bind(this),false)},initAccelerometer:function(){if(this.isUsingAccelerometer){return}window.addEventListener("devicemotion",this.devicemotion.bind(this),false)},mousewheel:function(b){var d=b.wheelDelta?b.wheelDelta:(b.detail*-1),a=d>0?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN,c=this.bindings[a];if(c){this.actions[c]=true;this.presses[c]=true;this.delayedKeyup[c]=true;b.stopPropagation();b.preventDefault()}},mousemove:function(c){var d=ig.system.scale,a=c.stageX*d,f=c.stageY*d,b=c.pointerID,e;this.mouse.x=a;this.mouse.y=f;if(b>0){if(c.type=="stagemousedown"){this.touch[b]={x:a,y:f};this.touchCount++}else{if(c.type=="stagemouseup"){delete this.touch[b];this.touchCount--}else{e=this.touch[b];e.x=a;e.y=f}}}},keydown:function(c){var a=c.target.tagName;if(a=="INPUT"||a=="TEXTAREA"||a=="SELECT"){return}var b=c.type=="keydown"?c.keyCode:(c.button==2?ig.KEY.MOUSE2:ig.KEY.MOUSE1);if(c instanceof createjs.MouseEvent){this.mousemove(c)}var d=this.bindings[b];if(d){this.actions[d]=true;if(!this.locks[d]){this.presses[d]=true;this.locks[d]=true}if(b>0){c.stopPropagation();c.preventDefault()}}},keyup:function(c){var a=c.target.tagName;if(a=="INPUT"||a=="TEXTAREA"||a=="SELECT"){return}var b=c.type=="keyup"?c.keyCode:(c.button==2?ig.KEY.MOUSE2:ig.KEY.MOUSE1);if(c instanceof createjs.MouseEvent){this.mousemove(c)}var d=this.bindings[b];if(d){this.delayedKeyup[d]=true;c.stopPropagation();c.preventDefault()}},devicemotion:function(a){this.accel=a.accelerationIncludingGravity},bind:function(a,b){if(a>0){this.initKeyboard()}this.bindings[a]=b||a+""},unbind:function(a){var b=this.bindings[a];this.delayedKeyup[b]=true;this.bindings[a]=null},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(a){return this.actions[a]},pressed:function(a){return this.presses[a]},released:function(a){return !!this.delayedKeyup[a]},clearPressed:function(){var a;for(a in this.delayedKeyup){this.actions[a]=false;this.locks[a]=false;delete this.delayedKeyup[a]}for(a in this.presses){delete this.presses[a]}}})});ig.baked=true;ig.module("lib.impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,ignoreTimeScale:false,init:function(b,a){this.base=ig.Timer.time;this.last=ig.Timer.time;this.ignoreTimeScale=!!a;this.target=b||0},set:function(a){this.target=a||0;return this.reset()},reset:function(){this.base=this.ignoreTimeScale?ig.Timer.timeIgnoreScale:ig.Timer.time;this.pausedAt=0;return this},tick:function(){var a=this.ignoreTimeScale?ig.Timer.timeIgnoreScale:ig.Timer.time,b=a-this.last;this.last=a;return this.pausedAt?0:b},delta:function(){if(this.ignoreTimeScale){return(this.pausedAt||ig.Timer.timeIgnoreScale)-this.base-this.target}else{return(this.pausedAt||ig.Timer.time)-this.base-this.target}},pause:function(){if(!this.pausedAt){this.pausedAt=this.ignoreTimeScale?ig.Timer.timeIgnoreScale:ig.Timer.time}return this},resume:function(){if(this.pausedAt){this.base+=(this.ignoreTimeScale?ig.Timer.timeIgnoreScale:ig.Timer.time)-this.pausedAt;this.pausedAt=0}return this}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeIgnoreScale=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var b=Date.now(),c=(b-ig.Timer._last)*0.001,a=Math.min(c,ig.Timer.maxStep);ig.Timer.time+=a*ig.Timer.timeScale;ig.Timer.timeIgnoreScale+=a;ig.Timer._last=b}});
/*
* PreloadJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{};(function(){var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="0.6.0";a.buildDate="Thu, 11 Dec 2014 23:32:09 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(a,c){function b(){this.constructor=a}b.prototype=c.prototype;return(a.prototype=new b())};this.createjs=this.createjs||{};createjs.promote=function(b,d){var c=b.prototype,a=(Object.getPrototypeOf&&Object.getPrototypeOf(c))||c.__proto__;if(a){c[(d+="_")+"constructor"]=a.constructor;for(var e in a){if(c.hasOwnProperty(e)&&(typeof a[e]=="function")){c[d+e]=a[e]}}}return b};this.createjs=this.createjs||{};createjs.indexOf=function(d,b){for(var c=0,a=d.length;c<a;c++){if(b===d[c]){return c}}return -1};this.createjs=this.createjs||{};(function(){createjs.proxy=function(c,a){var b=Array.prototype.slice.call(arguments,2);return function(){return c.apply(a,Array.prototype.slice.call(arguments,0).concat(b))}}}());this.createjs=this.createjs||{};(function(){function a(){throw"BrowserDetect cannot be instantiated"}var b=a.agent=window.navigator.userAgent;a.isWindowPhone=(b.indexOf("IEMobile")>-1)||(b.indexOf("Windows Phone")>-1);a.isFirefox=(b.indexOf("Firefox")>-1);a.isOpera=(window.opera!=null);a.isChrome=(b.indexOf("Chrome")>-1);a.isIOS=(b.indexOf("iPod")>-1||b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1)&&!a.isWindowPhone;a.isAndroid=(b.indexOf("Android")>-1)&&!a.isWindowPhone;a.isBlackberry=(b.indexOf("Blackberry")>-1);createjs.BrowserDetect=a}());this.createjs=this.createjs||{};(function(){function a(e,d,c){this.type=e;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!d;this.cancelable=!!c;this.timeStamp=(new Date()).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.immediatePropagationStopped=false;this.removed=false}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&true};b.stopPropagation=function(){this.propagationStopped=true};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};b.remove=function(){this.removed=true};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.set=function(c){for(var d in c){this[d]=c[d]}return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a}());this.createjs=this.createjs||{};(function(){function a(e,c,d){this.Event_constructor("error");this.title=e;this.message=c;this.data=d}var b=createjs.extend(a,createjs.Event);b.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(a,"Event")}());this.createjs=this.createjs||{};(function(){function a(){this._listeners=null;this._captureListeners=null}var b=a.prototype;a.initialize=function(c){c.addEventListener=b.addEventListener;c.on=b.on;c.removeEventListener=c.off=b.removeEventListener;c.removeAllEventListeners=b.removeAllEventListeners;c.hasEventListener=b.hasEventListener;c.dispatchEvent=b.dispatchEvent;c._dispatchEvent=b._dispatchEvent;c.willTrigger=b.willTrigger};b.addEventListener=function(f,g,d){var e;if(d){e=this._captureListeners=this._captureListeners||{}}else{e=this._listeners=this._listeners||{}}var c=e[f];if(c){this.removeEventListener(f,g,d)}c=e[f];if(!c){e[f]=[g]}else{c.push(g)}return g};b.on=function(f,h,e,d,g,c){if(h.handleEvent){e=e||h;h=h.handleEvent}e=e||this;return this.addEventListener(f,function(i){h.call(e,i,g);d&&i.remove()},c)};b.removeEventListener=function(h,j,d){var g=d?this._captureListeners:this._listeners;if(!g){return}var c=g[h];if(!c){return}for(var f=0,e=c.length;f<e;f++){if(c[f]==j){if(e==1){delete (g[h])}else{c.splice(f,1)}break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(c){if(!c){this._listeners=this._captureListeners=null}else{if(this._listeners){delete (this._listeners[c])}if(this._captureListeners){delete (this._captureListeners[c])}}};b.dispatchEvent=function(h){if(typeof h=="string"){var f=this._listeners;if(!f||!f[h]){return false}h=new createjs.Event(h)}else{if(h.target&&h.clone){h=h.clone()}}try{h.target=this}catch(k){}if(!h.bubbles||!this.parent){this._dispatchEvent(h,2)}else{var j=this,g=[j];while(j.parent){g.push(j=j.parent)}var d,c=g.length;for(d=c-1;d>=0&&!h.propagationStopped;d--){g[d]._dispatchEvent(h,1+(d==0))}for(d=1;d<c&&!h.propagationStopped;d++){g[d]._dispatchEvent(h,3)}}return h.defaultPrevented};b.hasEventListener=function(e){var d=this._listeners,c=this._captureListeners;return !!((d&&d[e])||(c&&c[e]))};b.willTrigger=function(c){var d=this;while(d){if(d.hasEventListener(c)){return true}d=d.parent}return false};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(j,f){var d,h=(f==1)?this._captureListeners:this._listeners;if(j&&h){var c=h[j.type];if(!c||!(d=c.length)){return}try{j.currentTarget=this}catch(k){}try{j.eventPhase=f}catch(k){}j.removed=false;c=c.slice();for(var g=0;g<d&&!j.immediatePropagationStopped;g++){var m=c[g];if(m.handleEvent){m.handleEvent(j)}else{m(j)}if(j.removed){this.off(j.type,m,f==1);j.removed=false}}}};createjs.EventDispatcher=a}());this.createjs=this.createjs||{};(function(a){function b(d,e){this.Event_constructor("progress");this.loaded=d;this.total=(e==null)?1:e;this.progress=(e==0)?0:this.loaded/this.total}var c=createjs.extend(b,createjs.Event);c.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(b,"Event")}(window));
/* JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */
(function(){var b=typeof define==="function"&&define.amd;var d={"function":true,object:true};var g=d[typeof exports]&&exports&&!exports.nodeType&&exports;var h=d[typeof window]&&window||this,a=g&&d[typeof module]&&module&&!module.nodeType&&typeof global=="object"&&global;if(a&&(a.global===a||a.window===a||a.self===a)){h=a}function i(ad,X){ad||(ad=h.Object());X||(X=h.Object());var M=ad.Number||h.Number,T=ad.String||h.String,z=ad.Object||h.Object,U=ad.Date||h.Date,V=ad.SyntaxError||h.SyntaxError,ac=ad.TypeError||h.TypeError,L=ad.Math||h.Math,aa=ad.JSON||h.JSON;if(typeof aa=="object"&&aa){X.stringify=aa.stringify;X.parse=aa.parse}var m=z.prototype,u=m.toString,q,l,N;var D=new U(-3509827334573292);try{D=D.getUTCFullYear()==-109252&&D.getUTCMonth()===0&&D.getUTCDate()===1&&D.getUTCHours()==10&&D.getUTCMinutes()==37&&D.getUTCSeconds()==6&&D.getUTCMilliseconds()==708}catch(v){}function n(ae){if(n[ae]!==N){return n[ae]}var af;if(ae=="bug-string-char-index"){af="a"[0]!="a"}else{if(ae=="json"){af=n("json-stringify")&&n("json-parse")}else{var am,aj='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(ae=="json-stringify"){var ak=X.stringify,al=typeof ak=="function"&&D;if(al){(am=function(){return 1}).toJSON=am;try{al=ak(0)==="0"&&ak(new M())==="0"&&ak(new T())=='""'&&ak(u)===N&&ak(N)===N&&ak()===N&&ak(am)==="1"&&ak([am])=="[1]"&&ak([N])=="[null]"&&ak(null)=="null"&&ak([N,u,null])=="[null,null,null]"&&ak({a:[am,true,false,null,"\x00\b\n\f\r\t"]})==aj&&ak(null,am)==="1"&&ak([1,2],null,1)=="[\n 1,\n 2\n]"&&ak(new U(-8640000000000000))=='"-271821-04-20T00:00:00.000Z"'&&ak(new U(8640000000000000))=='"+275760-09-13T00:00:00.000Z"'&&ak(new U(-62198755200000))=='"-000001-01-01T00:00:00.000Z"'&&ak(new U(-1))=='"1969-12-31T23:59:59.999Z"'}catch(ag){al=false}}af=al}if(ae=="json-parse"){var ai=X.parse;if(typeof ai=="function"){try{if(ai("0")===0&&!ai(false)){am=ai(aj);var ah=am.a.length==5&&am.a[0]===1;if(ah){try{ah=!ai('"\t"')}catch(ag){}if(ah){try{ah=ai("01")!==1}catch(ag){}}if(ah){try{ah=ai("1.")!==1}catch(ag){}}}}}catch(ag){ah=false}}af=ah}}}return n[ae]=!!af}if(!n("json")){var W="[object Function]",S="[object Date]",P="[object Number]",Q="[object String]",G="[object Array]",C="[object Boolean]";var H=n("bug-string-char-index");if(!D){var r=L.floor;var ab=[0,31,59,90,120,151,181,212,243,273,304,334];var F=function(ae,af){return ab[af]+365*(ae-1970)+r((ae-1969+(af=+(af>1)))/4)-r((ae-1901+af)/100)+r((ae-1601+af)/400)}}if(!(q=m.hasOwnProperty)){q=function(ag){var ae={},af;if((ae.__proto__=null,ae.__proto__={toString:1},ae).toString!=u){q=function(aj){var ai=this.__proto__,ah=aj in (this.__proto__=null,this);this.__proto__=ai;return ah}}else{af=ae.constructor;q=function(ai){var ah=(this.constructor||af).prototype;return ai in this&&!(ai in ah&&this[ai]===ah[ai])}}ae=null;return q.call(this,ag)}}l=function(ag,aj){var ah=0,ae,af,ai;(ae=function(){this.valueOf=0}).prototype.valueOf=0;af=new ae();for(ai in af){if(q.call(af,ai)){ah++}}ae=af=null;if(!ah){af=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];l=function(al,ap){var ao=u.call(al)==W,an,am;var ak=!ao&&typeof al.constructor!="function"&&d[typeof al.hasOwnProperty]&&al.hasOwnProperty||q;for(an in al){if(!(ao&&an=="prototype")&&ak.call(al,an)){ap(an)}}for(am=af.length;an=af[--am];ak.call(al,an)&&ap(an)){}}}else{if(ah==2){l=function(al,ao){var ak={},an=u.call(al)==W,am;for(am in al){if(!(an&&am=="prototype")&&!q.call(ak,am)&&(ak[am]=1)&&q.call(al,am)){ao(am)}}}}else{l=function(al,ao){var an=u.call(al)==W,am,ak;for(am in al){if(!(an&&am=="prototype")&&q.call(al,am)&&!(ak=am==="constructor")){ao(am)}}if(ak||q.call(al,(am="constructor"))){ao(am)}}}}return l(ag,aj)};if(!n("json-stringify")){var p={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"};var K="000000";var t=function(ae,af){return(K+(af||0)).slice(-ae)};var B="\\u00";var E=function(ak){var af='"',ai=0,aj=ak.length,ae=!H||aj>10;var ah=ae&&(H?ak.split(""):ak);for(;ai<aj;ai++){var ag=ak.charCodeAt(ai);switch(ag){case 8:case 9:case 10:case 12:case 13:case 34:case 92:af+=p[ag];break;default:if(ag<32){af+=B+t(2,ag.toString(16));break}af+=ae?ah[ai]:ak.charAt(ai)}}return af+'"'};var o=function(ak,aC,ai,an,az,ae,al){var av,ag,ar,aB,aA,am,ay,aw,at,ap,au,af,aj,ah,ax,aq;try{av=aC[ak]}catch(ao){}if(typeof av=="object"&&av){ag=u.call(av);if(ag==S&&!q.call(av,"toJSON")){if(av>-1/0&&av<1/0){if(F){aA=r(av/86400000);for(ar=r(aA/365.2425)+1970-1;F(ar+1,0)<=aA;ar++){}for(aB=r((aA-F(ar,0))/30.42);F(ar,aB+1)<=aA;aB++){}aA=1+aA-F(ar,aB);am=(av%86400000+86400000)%86400000;ay=r(am/3600000)%24;aw=r(am/60000)%60;at=r(am/1000)%60;ap=am%1000}else{ar=av.getUTCFullYear();aB=av.getUTCMonth();aA=av.getUTCDate();ay=av.getUTCHours();aw=av.getUTCMinutes();at=av.getUTCSeconds();ap=av.getUTCMilliseconds()}av=(ar<=0||ar>=10000?(ar<0?"-":"+")+t(6,ar<0?-ar:ar):t(4,ar))+"-"+t(2,aB+1)+"-"+t(2,aA)+"T"+t(2,ay)+":"+t(2,aw)+":"+t(2,at)+"."+t(3,ap)+"Z"}else{av=null}}else{if(typeof av.toJSON=="function"&&((ag!=P&&ag!=Q&&ag!=G)||q.call(av,"toJSON"))){av=av.toJSON(ak)}}}if(ai){av=ai.call(aC,ak,av)}if(av===null){return"null"}ag=u.call(av);if(ag==C){return""+av}else{if(ag==P){return av>-1/0&&av<1/0?""+av:"null"}else{if(ag==Q){return E(""+av)}}}if(typeof av=="object"){for(ah=al.length;ah--;){if(al[ah]===av){throw ac()}}al.push(av);au=[];ax=ae;ae+=az;if(ag==G){for(aj=0,ah=av.length;aj<ah;aj++){af=o(aj,av,ai,an,az,ae,al);au.push(af===N?"null":af)}aq=au.length?(az?"[\n"+ae+au.join(",\n"+ae)+"\n"+ax+"]":("["+au.join(",")+"]")):"[]"}else{l(an||av,function(aE){var aD=o(aE,av,ai,an,az,ae,al);if(aD!==N){au.push(E(aE)+":"+(az?" ":"")+aD)}});aq=au.length?(az?"{\n"+ae+au.join(",\n"+ae)+"\n"+ax+"}":("{"+au.join(",")+"}")):"{}"}al.pop();return aq}};X.stringify=function(ae,ag,ah){var af,an,al,ak;if(d[typeof ag]&&ag){if((ak=u.call(ag))==W){an=ag}else{if(ak==G){al={};for(var aj=0,ai=ag.length,am;aj<ai;am=ag[aj++],((ak=u.call(am)),ak==Q||ak==P)&&(al[am]=1)){}}}}if(ah){if((ak=u.call(ah))==P){if((ah-=ah%1)>0){for(af="",ah>10&&(ah=10);af.length<ah;af+=" "){}}}else{if(ak==Q){af=ah.length<=10?ah:ah.slice(0,10)}}}return o("",(am={},am[""]=ae,am),an,al,af,"",[])}}if(!n("json-parse")){var O=T.fromCharCode;var k={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"};var I,Z;var J=function(){I=Z=null;throw V()};var A=function(){var aj=Z,ah=aj.length,ai,ag,ae,ak,af;while(I<ah){af=aj.charCodeAt(I);switch(af){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:ai=H?aj.charAt(I):aj[I];I++;return ai;case 34:for(ai="@",I++;I<ah;){af=aj.charCodeAt(I);if(af<32){J()}else{if(af==92){af=aj.charCodeAt(++I);switch(af){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:ai+=k[af];I++;break;case 117:ag=++I;for(ae=I+4;I<ae;I++){af=aj.charCodeAt(I);if(!(af>=48&&af<=57||af>=97&&af<=102||af>=65&&af<=70)){J()}}ai+=O("0x"+aj.slice(ag,I));break;default:J()}}else{if(af==34){break}af=aj.charCodeAt(I);ag=I;while(af>=32&&af!=92&&af!=34){af=aj.charCodeAt(++I)}ai+=aj.slice(ag,I)}}}if(aj.charCodeAt(I)==34){I++;return ai}J();default:ag=I;if(af==45){ak=true;af=aj.charCodeAt(++I)}if(af>=48&&af<=57){if(af==48&&((af=aj.charCodeAt(I+1)),af>=48&&af<=57)){J()}ak=false;for(;I<ah&&((af=aj.charCodeAt(I)),af>=48&&af<=57);I++){}if(aj.charCodeAt(I)==46){ae=++I;for(;ae<ah&&((af=aj.charCodeAt(ae)),af>=48&&af<=57);ae++){}if(ae==I){J()}I=ae}af=aj.charCodeAt(I);if(af==101||af==69){af=aj.charCodeAt(++I);if(af==43||af==45){I++}for(ae=I;ae<ah&&((af=aj.charCodeAt(ae)),af>=48&&af<=57);ae++){}if(ae==I){J()}I=ae}return +aj.slice(ag,I)}if(ak){J()}if(aj.slice(I,I+4)=="true"){I+=4;return true}else{if(aj.slice(I,I+5)=="false"){I+=5;return false}else{if(aj.slice(I,I+4)=="null"){I+=4;return null}}}J()}}return"$"};var Y=function(af){var ae,ag;if(af=="$"){J()}if(typeof af=="string"){if((H?af.charAt(0):af[0])=="@"){return af.slice(1)}if(af=="["){ae=[];for(;;ag||(ag=true)){af=A();if(af=="]"){break}if(ag){if(af==","){af=A();if(af=="]"){J()}}else{J()}}if(af==","){J()}ae.push(Y(af))}return ae}else{if(af=="{"){ae={};for(;;ag||(ag=true)){af=A();if(af=="}"){break}if(ag){if(af==","){af=A();if(af=="}"){J()}}else{J()}}if(af==","||typeof af!="string"||(H?af.charAt(0):af[0])!="@"||A()!=":"){J()}ae[af.slice(1)]=Y(A())}return ae}}J()}return af};var R=function(ag,af,ah){var ae=w(ag,af,ah);if(ae===N){delete ag[af]}else{ag[af]=ae}};var w=function(ah,ag,ai){var af=ah[ag],ae;if(typeof af=="object"&&af){if(u.call(af)==G){for(ae=af.length;ae--;){R(af,ae,ai)}}else{l(af,function(aj){R(af,aj,ai)})}}return ai.call(ah,ag,af)};X.parse=function(ag,ah){var ae,af;I=0;Z=""+ag;ae=Y(A());if(A()!="$"){J()}I=Z=null;return ah&&u.call(ah)==W?w((af={},af[""]=ae,af),"",ah):ae}}}X.runInContext=i;return X}if(g&&!b){i(h,g)}else{var e=h.JSON,j=h.JSON3,c=false;var f=i(h,(h.JSON3={noConflict:function(){if(!c){c=true;h.JSON=e;h.JSON3=j;e=j=null}return f}}));h.JSON={parse:f.parse,stringify:f.stringify}}if(b){define(function(){return f})}}).call(this);(function(){var a={};a.parseXML=function(f,c){var b=null;try{if(window.DOMParser){var g=new DOMParser();b=g.parseFromString(f,c)}else{b=new ActiveXObject("Microsoft.XMLDOM");b.async=false;b.loadXML(f)}}catch(d){}return b};a.parseJSON=function(b){if(b==null){return null}try{return JSON.parse(b)}catch(c){throw c}};createjs.DataUtils=a}());this.createjs=this.createjs||{};(function(){function a(){this.src=null;this.type=null;this.id=null;this.maintainOrder=false;this.callback=null;this.data=null;this.method=createjs.LoadItem.GET;this.values=null;this.headers=null;this.withCredentials=false;this.mimeType=null;this.crossOrigin=null;this.loadTimeout=8000}var c=a.prototype={};var b=a;b.create=function(e){if(typeof e=="string"){var d=new a();d.src=e;return d}else{if(e instanceof b){return e}else{if(e instanceof Object){return e}else{throw new Error("Type not recognized.")}}}};c.set=function(d){for(var e in d){this[e]=d[e]}return this};createjs.LoadItem=b}());(function(){var a={};a.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i;a.RELATIVE_PATT=(/^[./]*?\//i);a.EXTENSION_PATT=/\/?[^/]+\.(\w{1,5})$/i;a.parseURI=function(d){var c={absolute:false,relative:false};if(d==null){return c}var e=d.indexOf("?");if(e>-1){d=d.substr(0,e)}var b;if(a.ABSOLUTE_PATT.test(d)){c.absolute=true}else{if(a.RELATIVE_PATT.test(d)){c.relative=true}}if(b=d.match(a.EXTENSION_PATT)){c.extension=b[1].toLowerCase()}return c};a.formatQueryString=function(c,b){if(c==null){throw new Error("You must specify data.")}var d=[];for(var e in c){d.push(e+"="+escape(c[e]))}if(b){d=d.concat(b)}return d.join("&")};a.buildPath=function(f,e){if(e==null){return f}var d=[];var b=f.indexOf("?");if(b!=-1){var c=f.slice(b+1);d=d.concat(c.split("&"))}if(b!=-1){return f.slice(0,b)+"?"+this._formatQueryString(e,d)}else{return f+"?"+this._formatQueryString(e,d)}};a.isCrossDomain=function(c){var e=document.createElement("a");e.href=c.src;var b=document.createElement("a");b.href=location.href;var d=(e.hostname!="")&&(e.port!=b.port||e.protocol!=b.protocol||e.hostname!=b.hostname);return d};a.isLocal=function(b){var c=document.createElement("a");c.href=b.src;return c.hostname==""&&c.protocol=="file:"};a.isBinary=function(b){switch(b){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return true;default:return false}};a.isImageTag=function(b){return b instanceof HTMLImageElement};a.isAudioTag=function(b){if(window.HTMLAudioElement){return b instanceof HTMLAudioElement}else{return false}};a.isVideoTag=function(b){if(window.HTMLVideoElement){return b instanceof HTMLVideoElement}else{false}};a.isText=function(b){switch(b){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:return true;default:return false}};a.getTypeByExtension=function(b){if(b==null){return createjs.AbstractLoader.TEXT}switch(b.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}};createjs.RequestUtils=a}());this.createjs=this.createjs||{};(function(){function a(f,e,d){this.EventDispatcher_constructor();this.loaded=false;this.canceled=false;this.progress=0;this.type=d;this.resultFormatter=null;if(f){this._item=createjs.LoadItem.create(f)}else{this._item=null}this._preferXHR=e;this._result=null;this._rawResult=null;this._loadedItems=null;this._tagSrcAttribute=null;this._tag=null}var c=createjs.extend(a,createjs.EventDispatcher);var b=a;b.POST="POST";b.GET="GET";b.BINARY="binary";b.CSS="css";b.IMAGE="image";b.JAVASCRIPT="javascript";b.JSON="json";b.JSONP="jsonp";b.MANIFEST="manifest";b.SOUND="sound";b.VIDEO="video";b.SPRITESHEET="spritesheet";b.SVG="svg";b.TEXT="text";b.XML="xml";c.getItem=function(){return this._item};c.getResult=function(d){return d?this._rawResult:this._result};c.getTag=function(){return this._tag};c.setTag=function(d){this._tag=d};c.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",this,this);var d=new createjs.Event("initialize");d.loader=this._request;this.dispatchEvent(d);this._request.load()};c.cancel=function(){this.canceled=true;this.destroy()};c.destroy=function(){if(this._request){this._request.removeAllEventListeners();this._request.destroy()}this._request=null;this._item=null;this._rawResult=null;this._result=null;this._loadItems=null;this.removeAllEventListeners()};c.getLoadedItems=function(){return this._loadedItems};c._createRequest=function(){if(!this._preferXHR){this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)}else{this._request=new createjs.XHRRequest(this._item)}};c._createTag=function(d){return null};c._sendLoadStart=function(){if(this._isCanceled()){return}this.dispatchEvent("loadstart")};c._sendProgress=function(e){if(this._isCanceled()){return}var d=null;if(typeof(e)=="number"){this.progress=e;d=new createjs.ProgressEvent(this.progress)}else{d=e;this.progress=e.loaded/e.total;d.progress=this.progress;if(isNaN(this.progress)||this.progress==Infinity){this.progress=0}}this.hasEventListener("progress")&&this.dispatchEvent(d)};c._sendComplete=function(){if(this._isCanceled()){return}this.loaded=true;var d=new createjs.Event("complete");d.rawResult=this._rawResult;if(this._result!=null){d.result=this._result}this.dispatchEvent(d)};c._sendError=function(d){if(this._isCanceled()||!this.hasEventListener("error")){return}if(d==null){d=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")}this.dispatchEvent(d)};c._isCanceled=function(){if(window.createjs==null||this.canceled){return true}return false};c.resultFormatter=null;c.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var d=this.resultFormatter&&this.resultFormatter(this);var f=this;if(d instanceof Function){d(function(g){f._result=g;f._sendComplete()})}else{this._result=d||this._rawResult;this._sendComplete()}break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":if(!this._isCanceled()){this.dispatchEvent(e.type)}break}};c.buildPath=function(e,d){return createjs.RequestUtils.buildPath(e,d)};c.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(e,d,c){this.AbstractLoader_constructor(e,d,c);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src"}var b=createjs.extend(a,createjs.AbstractLoader);b.load=function(){if(!this._tag){this._tag=this._createTag(this._item.src)}this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};b._createTag=function(){};b._createRequest=function(){if(!this._preferXHR){this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)}else{this._request=new createjs.XHRRequest(this._item)}};b._formatResult=function(c){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;if(this._preferXHR){c.getTag().src=c.getResult(true)}return c.getTag()};createjs.AbstractMediaLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){var a=function(c){this._item=c};var b=createjs.extend(a,createjs.EventDispatcher);b.load=function(){};b.destroy=function(){};b.cancel=function(){};createjs.AbstractRequest=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(e,c,d){this.AbstractRequest_constructor(e);this._tag=c;this._tagSrcAttribute=d;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=false;this._startTagVisibility=null}var b=createjs.extend(a,createjs.AbstractRequest);b.load=function(){if(this._tag.parentNode==null){window.document.body.appendChild(this._tag);this._addedToDOM=true}this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);var c=new createjs.Event("initialize");c.loader=this._tag;this.dispatchEvent(c);this._hideTag();this._tag[this._tagSrcAttribute]=this._item.src};b.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var c=this._tag;if(c.readyState=="loaded"||c.readyState=="complete"){this._handleTagComplete()}};b._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};b._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;if(this._addedToDOM&&this._tag.parentNode!=null){this._tag.parentNode.removeChild(this._tag)}};b._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};b._showTag=function(){this._tag.style.visibility=this._startTagVisibility};b._handleStalled=function(){};createjs.TagRequest=createjs.promote(a,"AbstractRequest")}());this.createjs=this.createjs||{};(function(){function a(f,d,e){this.AbstractRequest_constructor(f);this._tag=d;this._tagSrcAttribute=e;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var c=createjs.extend(a,createjs.TagRequest);var b=a;c.load=function(){this._tag.onstalled=createjs.proxy(this._handleStalled,this);this._tag.onprogress=createjs.proxy(this._handleProgress,this);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,false);this.TagRequest_load()};c._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var d=this._tag;if(d.readyState=="loaded"||d.readyState=="complete"){this._handleTagComplete()}};c._handleStalled=function(){};c._handleProgress=function(d){if(!d||d.loaded>0&&d.total==0){return}var e=new createjs.ProgressEvent(d.loaded,d.total);this.dispatchEvent(e)};c._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;this._tag.onprogress=null;this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(a,"TagRequest")}());this.createjs=this.createjs||{};(function(){function a(c){this.AbstractRequest_constructor(c);this._request=null;this._loadTimeout=null;this._xhrLevel=1;this._response=null;this._rawResponse=null;this._canceled=false;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);if(!this._createXHR(c)){}}var b=createjs.extend(a,createjs.AbstractRequest);a.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];b.getResult=function(c){if(c&&this._rawResponse){return this._rawResponse}return this._response};b.cancel=function(){this.canceled=true;this._clean();this._request.abort()};b.load=function(){if(this._request==null){this._handleError();return}this._request.addEventListener("loadstart",this._handleLoadStartProxy,false);this._request.addEventListener("progress",this._handleProgressProxy,false);this._request.addEventListener("abort",this._handleAbortProxy,false);this._request.addEventListener("error",this._handleErrorProxy,false);this._request.addEventListener("timeout",this._handleTimeoutProxy,false);this._request.addEventListener("load",this._handleLoadProxy,false);this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,false);if(this._xhrLevel==1){this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout)}try{if(!this._item.values||this._item.method==createjs.AbstractLoader.GET){this._request.send()}else{if(this._item.method==createjs.AbstractLoader.POST){this._request.send(createjs.RequestUtils.formatQueryString(this._item.values))}}}catch(c){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,c))}};b.setResponseType=function(c){this._request.responseType=c};b.getAllResponseHeaders=function(){if(this._request.getAllResponseHeaders instanceof Function){return this._request.getAllResponseHeaders()}else{return null}};b.getResponseHeader=function(c){if(this._request.getResponseHeader instanceof Function){return this._request.getResponseHeader(c)}else{return null}};b._handleProgress=function(c){if(!c||c.loaded>0&&c.total==0){return}var d=new createjs.ProgressEvent(c.loaded,c.total);this.dispatchEvent(d)};b._handleLoadStart=function(c){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};b._handleAbort=function(c){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,c))};b._handleError=function(c){this._clean();this.dispatchEvent(new createjs.ErrorEvent(c.message))};b._handleReadyStateChange=function(c){if(this._request.readyState==4){this._handleLoad()}};b._handleLoad=function(d){if(this.loaded){return}this.loaded=true;var c=this._checkError();if(c){this._handleError(c);return}this._response=this._getResponse();this._clean();this.dispatchEvent(new createjs.Event("complete"))};b._handleTimeout=function(c){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,c))};b._checkError=function(){var c=parseInt(this._request.status);switch(c){case 404:case 0:return new Error(c)}return null};b._getResponse=function(){if(this._response!=null){return this._response}if(this._request.response!=null){return this._request.response}try{if(this._request.responseText!=null){return this._request.responseText}}catch(c){}try{if(this._request.responseXML!=null){return this._request.responseXML}}catch(c){}return null};b._createXHR=function(p){var d=createjs.RequestUtils.isCrossDomain(p);var g={};var o=null;if(window.XMLHttpRequest){o=new XMLHttpRequest();if(d&&o.withCredentials===undefined&&window.XDomainRequest){o=new XDomainRequest()}}else{for(var j=0,h=s.ACTIVEX_VERSIONS.length;j<h;j++){var k=s.ACTIVEX_VERSIONS[j];try{o=new ActiveXObject(axVersions);break}catch(m){}}if(o==null){return false}}if(p.mimeType&&o.overrideMimeType){o.overrideMimeType(p.mimeType)}this._xhrLevel=(typeof o.responseType==="string")?2:1;var c=null;if(p.method==createjs.AbstractLoader.GET){c=createjs.RequestUtils.buildPath(p.src,p.values)}else{c=p.src}o.open(p.method||createjs.AbstractLoader.GET,c,true);if(d&&o instanceof XMLHttpRequest&&this._xhrLevel==1){g.Origin=location.origin}if(p.values&&p.method==createjs.AbstractLoader.POST){g["Content-Type"]="application/x-www-form-urlencoded"}if(!d&&!g["X-Requested-With"]){g["X-Requested-With"]="XMLHttpRequest"}if(p.headers){for(var f in p.headers){g[f]=p.headers[f]}}for(f in g){o.setRequestHeader(f,g[f])}if(o instanceof XMLHttpRequest&&p.withCredentials!==undefined){o.withCredentials=p.withCredentials}this._request=o;return true};b._clean=function(){clearTimeout(this._loadTimeout);this._request.removeEventListener("loadstart",this._handleLoadStartProxy);this._request.removeEventListener("progress",this._handleProgressProxy);this._request.removeEventListener("abort",this._handleAbortProxy);this._request.removeEventListener("error",this._handleErrorProxy);this._request.removeEventListener("timeout",this._handleTimeoutProxy);this._request.removeEventListener("load",this._handleLoadProxy);this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)};b.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(a,"AbstractRequest")}());this.createjs=this.createjs||{};(function(){function a(e,f,d){this.AbstractLoader_constructor();this.init(e,f,d)}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;c.init=function(e,f,d){this.useXHR=true;this.preferXHR=true;this._preferXHR=true;this.setPreferXHR(e);this.stopOnError=false;this.maintainScriptOrder=true;this.next=null;this._paused=false;this._basePath=f;this._crossOrigin=d;this._typeCallbacks={};this._extensionCallbacks={};this._loadStartWasDispatched=false;this._maxConnections=1;this._currentlyLoadingScript=null;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults={};this._numItems=0;this._numItemsLoaded=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=NaN;this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader,];this._defaultLoaderLength=this._availableLoaders.length};b.loadTimeout=8000;b.LOAD_TIMEOUT=0;b.BINARY=createjs.AbstractLoader.BINARY;b.CSS=createjs.AbstractLoader.CSS;b.IMAGE=createjs.AbstractLoader.IMAGE;b.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT;b.JSON=createjs.AbstractLoader.JSON;b.JSONP=createjs.AbstractLoader.JSONP;b.MANIFEST=createjs.AbstractLoader.MANIFEST;b.SOUND=createjs.AbstractLoader.SOUND;b.VIDEO=createjs.AbstractLoader.VIDEO;b.SVG=createjs.AbstractLoader.SVG;b.TEXT=createjs.AbstractLoader.TEXT;b.XML=createjs.AbstractLoader.XML;b.POST=createjs.AbstractLoader.POST;b.GET=createjs.AbstractLoader.GET;c.registerLoader=function(d){if(!d||!d.canLoadItem){throw new Error("loader is of an incorrect type.")}else{if(this._availableLoaders.indexOf(d)!=-1){throw new Error("loader already exists.")}}this._availableLoaders.unshift(d)};c.unregisterLoader=function(e){var d=this._availableLoaders.indexOf(e);if(d!=-1&&d<this._defaultLoaderLength-1){this._availableLoaders.splice(d,1)}};c.setUseXHR=function(d){return this.setPreferXHR(d)};c.setPreferXHR=function(d){this.preferXHR=(d!=false&&window.XMLHttpRequest!=null);return this.preferXHR};c.removeAll=function(){this.remove()};c.remove=function(e){var f=null;if(e&&!(e instanceof Array)){f=[e]}else{if(e){f=e}else{if(arguments.length>0){return}}}var d=false;if(!f){this.close();for(var l in this._loadItemsById){this._disposeItem(this._loadItemsById[l])}this.init(this.preferXHR,this._basePath)}else{while(f.length){var j=f.pop();var h=this.getResult(j);for(g=this._loadQueue.length-1;g>=0;g--){k=this._loadQueue[g].getItem();if(k.id==j||k.src==j){this._loadQueue.splice(g,1)[0].cancel();break}}for(g=this._loadQueueBackup.length-1;g>=0;g--){k=this._loadQueueBackup[g].getItem();if(k.id==j||k.src==j){this._loadQueueBackup.splice(g,1)[0].cancel();break}}if(h){delete this._loadItemsById[h.id];delete this._loadItemsBySrc[h.src];this._disposeItem(h)}else{for(var g=this._currentLoads.length-1;g>=0;g--){var k=this._currentLoads[g].getItem();if(k.id==j||k.src==j){this._currentLoads.splice(g,1)[0].cancel();d=true;break}}}}if(d){this._loadNext()}}};c.reset=function(){this.close();for(var g in this._loadItemsById){this._disposeItem(this._loadItemsById[g])}var e=[];for(var f=0,d=this._loadQueueBackup.length;f<d;f++){e.push(this._loadQueueBackup[f].getItem())}this.loadManifest(e,false)};c.installPlugin=function(f){if(f==null){return}if(f.getPreloadHandlers!=null){var g=f.getPreloadHandlers();g.scope=f;if(g.types!=null){for(var e=0,d=g.types.length;e<d;e++){this._typeCallbacks[g.types[e]]=g}}if(g.extensions!=null){for(e=0,d=g.extensions.length;e<d;e++){this._extensionCallbacks[g.extensions[e]]=g}}}};c.setMaxConnections=function(d){this._maxConnections=d;if(!this._paused&&this._loadQueue.length>0){this._loadNext()}};c.loadFile=function(d,e,g){if(d==null){var f=new createjs.ErrorEvent("PRELOAD_NO_FILE");this._sendError(f);return}this._addItem(d,null,g);if(e!==false){this.setPaused(false)}else{this.setPaused(true)}};c.loadManifest=function(h,g,m){var e=null;var k=null;if(h instanceof Array){if(h.length==0){var j=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");this._sendError(j);return}e=h}else{if(typeof(h)==="string"){e=[{src:h,type:b.MANIFEST}]}else{if(typeof(h)=="object"){if(h.src!==undefined){if(h.type==null){h.type=b.MANIFEST}else{if(h.type!=b.MANIFEST){var j=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(j)}}e=[h]}else{if(h.manifest!==undefined){e=h.manifest;k=h.path}}}else{var j=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");this._sendError(j);return}}}for(var f=0,d=e.length;f<d;f++){this._addItem(e[f],k,m)}if(g!==false){this.setPaused(false)}else{this.setPaused(true)}};c.load=function(){this.setPaused(false)};c.getItem=function(d){return this._loadItemsById[d]||this._loadItemsBySrc[d]};c.getResult=function(f,d){var e=this._loadItemsById[f]||this._loadItemsBySrc[f];if(e==null){return null}var g=e.id;if(d&&this._loadedRawResults[g]){return this._loadedRawResults[g]}return this._loadedResults[g]};c.getItems=function(g){var e=[];for(var h=0,f=this._loadQueueBackup.length;h<f;h++){var d=this._loadQueueBackup[h];var j=d.getItem();if(g===true&&!d.loaded){continue}e.push({item:j,result:this.getResult(j.id),rawResult:this.getResult(j.id,true)})}return e};c.setPaused=function(d){this._paused=d;if(!this._paused){this._loadNext()}};c.close=function(){while(this._currentLoads.length){this._currentLoads.pop().cancel()}this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=false;this._itemCount=0;this._lastProgress=NaN};c._addItem=function(f,g,h){var e=this._createLoadItem(f,g,h);if(e==null){return}var d=this._createLoader(e);if(d!=null){e._loader=d;this._loadQueue.push(d);this._loadQueueBackup.push(d);this._numItems++;this._updateProgress();if((this.maintainScriptOrder&&e.type==createjs.LoadQueue.JAVASCRIPT)||e.maintainOrder===true){this._scriptOrder.push(e);this._loadedScripts.push(null)}}};c._createLoadItem=function(h,n,k){var l=createjs.LoadItem.create(h);if(l==null){return null}var f=createjs.RequestUtils.parseURI(l.src);if(f.extension){l.ext=f.extension}if(l.type==null){l.type=createjs.RequestUtils.getTypeByExtension(l.ext)}var e="";var j=k||this._basePath;var g=l.src;if(!f.absolute&&!f.relative){if(n){e=n;var d=createjs.RequestUtils.parseURI(n);g=n+g;if(j!=null&&!d.absolute&&!d.relative){e=j+e}}else{if(j!=null){e=j}}}l.src=e+l.src;l.path=e;if(l.id===undefined||l.id===null||l.id===""){l.id=g}var i=this._typeCallbacks[l.type]||this._extensionCallbacks[l.ext];if(i){var m=i.callback.call(i.scope,l,this);if(m===false){return null}else{if(m===true){}else{if(m!=null){l._loader=m}}}f=createjs.RequestUtils.parseURI(l.src);if(f.extension!=null){l.ext=f.extension}}this._loadItemsById[l.id]=l;this._loadItemsBySrc[l.src]=l;if(l.loadTimeout==null){l.loadTimeout=b.loadTimeout}if(l.crossOrigin==null){l.crossOrigin=this._crossOrigin}return l};c._createLoader=function(g){if(g._loader!=null){return g._loader}var f=this.preferXHR;for(var e=0;e<this._availableLoaders.length;e++){var d=this._availableLoaders[e];if(d&&d.canLoadItem(g)){return new d(g,f)}}return null};c._loadNext=function(){if(this._paused){return}if(!this._loadStartWasDispatched){this._sendLoadStart();this._loadStartWasDispatched=true}if(this._numItems==this._numItemsLoaded){this.loaded=true;this._sendComplete();if(this.next&&this.next.load){this.next.load()}}else{this.loaded=false}for(var e=0;e<this._loadQueue.length;e++){if(this._currentLoads.length>=this._maxConnections){break}var d=this._loadQueue[e];if(!this._canStartLoad(d)){continue}this._loadQueue.splice(e,1);e--;this._loadItem(d)}};c._loadItem=function(d){d.on("fileload",this._handleFileLoad,this);d.on("progress",this._handleProgress,this);d.on("complete",this._handleFileComplete,this);d.on("error",this._handleError,this);d.on("fileerror",this._handleFileError,this);this._currentLoads.push(d);this._sendFileStart(d.getItem());d.load()};c._handleFileLoad=function(d){d.target=null;this.dispatchEvent(d)};c._handleFileError=function(d){var e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,d.item);this._sendError(e)};c._handleError=function(e){var d=e.target;this._numItemsLoaded++;this._finishOrderedItem(d,true);this._updateProgress();var f=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,d.getItem());this._sendError(f);if(!this.stopOnError){this._removeLoadItem(d);this._loadNext()}};c._handleFileComplete=function(h){var e=h.target;var g=e.getItem();var d=e.getResult();this._loadedResults[g.id]=d;var f=e.getResult(true);if(f!=null&&f!==d){this._loadedRawResults[g.id]=f}this._saveLoadedItems(e);this._removeLoadItem(e);if(!this._finishOrderedItem(e)){this._processFinishedLoad(g,e)}};c._saveLoadedItems=function(d){var g=d.getLoadedItems();if(g===null){return}for(var e=0;e<g.length;e++){var f=g[e].item;this._loadItemsBySrc[f.src]=f;this._loadItemsById[f.id]=f;this._loadedResults[f.id]=g[e].result;this._loadedRawResults[f.id]=g[e].rawResult}};c._finishOrderedItem=function(d,f){var g=d.getItem();if((this.maintainScriptOrder&&g.type==createjs.LoadQueue.JAVASCRIPT)||g.maintainOrder){if(d instanceof createjs.JavaScriptLoader){this._currentlyLoadingScript=false}var e=createjs.indexOf(this._scriptOrder,g);if(e==-1){return false}this._loadedScripts[e]=(f===true)?true:g;this._checkScriptLoadOrder();return true}return false};c._checkScriptLoadOrder=function(){var e=this._loadedScripts.length;for(var f=0;f<e;f++){var g=this._loadedScripts[f];if(g===null){break}if(g===true){continue}var h=this._loadedResults[g.id];if(g.type==createjs.LoadQueue.JAVASCRIPT){(document.body||document.getElementsByTagName("body")[0]).appendChild(h)}var d=g._loader;this._processFinishedLoad(g,d);this._loadedScripts[f]=true}};c._processFinishedLoad=function(e,d){this._numItemsLoaded++;this._updateProgress();this._sendFileComplete(e,d);this._loadNext()};c._canStartLoad=function(d){if(!this.maintainScriptOrder||d.preferXHR){return true}var h=d.getItem();if(h.type!=createjs.LoadQueue.JAVASCRIPT){return true}if(this._currentlyLoadingScript){return false}var f=this._scriptOrder.indexOf(h);var g=0;while(g<f){var e=this._loadedScripts[g];if(e==null){return false}g++}this._currentlyLoadingScript=true;return true};c._removeLoadItem=function(d){var g=d.getItem();delete g._loader;var e=this._currentLoads.length;for(var f=0;f<e;f++){if(this._currentLoads[f]==d){this._currentLoads.splice(f,1);break}}};c._handleProgress=function(e){var d=e.target;this._sendFileProgress(d.getItem(),d.progress);this._updateProgress()};c._updateProgress=function(){var f=this._numItemsLoaded/this._numItems;var h=this._numItems-this._numItemsLoaded;if(h>0){var e=0;for(var g=0,d=this._currentLoads.length;g<d;g++){e+=this._currentLoads[g].progress}f+=(e/h)*(h/this._numItems)}if(this._lastProgress!=f){this._sendProgress(f);this._lastProgress=f}};c._disposeItem=function(d){delete this._loadedResults[d.id];delete this._loadedRawResults[d.id];delete this._loadItemsById[d.id];delete this._loadItemsBySrc[d.src]};c._sendFileProgress=function(f,d){if(this._isCanceled()){this._cleanUp();return}if(!this.hasEventListener("fileprogress")){return}var e=new createjs.Event("fileprogress");e.progress=d;e.loaded=d;e.total=1;e.item=f;this.dispatchEvent(e)};c._sendFileComplete=function(f,d){if(this._isCanceled()){return}var e=new createjs.Event("fileload");e.loader=d;e.item=f;e.result=this._loadedResults[f.id];e.rawResult=this._loadedRawResults[f.id];if(f.completeHandler){f.completeHandler(e)}this.hasEventListener("fileload")&&this.dispatchEvent(e)};c._sendFileStart=function(e){var d=new createjs.Event("filestart");d.item=e;this.hasEventListener("filestart")&&this.dispatchEvent(d)};c.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function b(d){this.AbstractLoader_constructor(d,true,createjs.AbstractLoader.TEXT)}var c=createjs.extend(b,createjs.AbstractLoader);var a=b;a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.TEXT};createjs.TextLoader=createjs.promote(b,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function b(d){this.AbstractLoader_constructor(d,true,createjs.AbstractLoader.BINARY);this.on("initialize",this._updateXHR,this)}var c=createjs.extend(b,createjs.AbstractLoader);var a=b;a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.BINARY};c._updateXHR=function(d){d.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(b,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(e,d){this.AbstractLoader_constructor(e,d,createjs.AbstractLoader.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";if(d){this._tag=document.createElement("style")}else{this._tag=document.createElement("link")}this._tag.rel="stylesheet";this._tag.type="text/css"}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.CSS};c._formatResult=function(e){if(this._preferXHR){var d=e.getTag();var f=document.getElementsByTagName("head")[0];f.appendChild(d);if(d.styleSheet){d.styleSheet.cssText=e.getResult(true)}else{var g=document.createTextNode(e.getResult(true));d.appendChild(g)}}else{d=this._tag}return d};createjs.CSSLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(e,d){this.AbstractLoader_constructor(e,d,createjs.AbstractLoader.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";if(createjs.RequestUtils.isImageTag(e)){this._tag=e}else{if(createjs.RequestUtils.isImageTag(e.src)){this._tag=e.src}else{if(createjs.RequestUtils.isImageTag(e.tag)){this._tag=e.tag}}}if(this._tag!=null){this._preferXHR=false}else{this._tag=document.createElement("img")}this.on("initialize",this._updateXHR,this)}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.IMAGE};c.load=function(){if(this._tag.src!=""&&this._tag.complete){this._sendComplete();return}var d=this._item.crossOrigin;if(d==true){d="Anonymous"}if(d!=null&&!createjs.RequestUtils.isLocal(this._item.src)){this._tag.crossOrigin=d}this.AbstractLoader_load()};c._updateXHR=function(d){d.loader.mimeType="text/plain; charset=x-user-defined-binary";if(d.loader.setResponseType){d.loader.setResponseType("blob")}};c._formatResult=function(d){var e=this;return function(h){var g=e._tag;var f=window.URL||window.webkitURL;if(!e._preferXHR){}else{if(f){var i=f.createObjectURL(d.getResult(true));g.src=i;g.onload=function(){f.revokeObjectURL(e.src)}}else{g.src=d.getItem().src}}if(g.complete){h(g)}else{g.onload=function(){h(this)}}}};createjs.ImageLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(e,d){this.AbstractLoader_constructor(e,d,createjs.AbstractLoader.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(document.createElement("script"))}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.JAVASCRIPT};c._formatResult=function(e){var d=e.getTag();if(this._preferXHR){d.text=e.getResult(true)}return d};createjs.JavaScriptLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function b(d){this.AbstractLoader_constructor(d,true,createjs.AbstractLoader.JSON);this.resultFormatter=this._formatResult}var c=createjs.extend(b,createjs.AbstractLoader);var a=b;a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.JSON&&!d._loadAsJSONP};c._formatResult=function(d){var f=null;try{f=createjs.DataUtils.parseJSON(d.getResult(true))}catch(h){var g=new createjs.ErrorEvent("JSON_FORMAT",null,h);this._sendError(g);return h}return f};createjs.JSONLoader=createjs.promote(b,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(d){this.AbstractLoader_constructor(d,false,createjs.AbstractLoader.JSONP);this.setTag(document.createElement("script"));this.getTag().type="text/javascript"}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.JSONP||d._loadAsJSONP};c.cancel=function(){this.AbstractLoader_cancel();this._dispose()};c.load=function(){if(this._item.callback==null){throw new Error("callback is required for loading JSONP requests.")}if(window[this._item.callback]!=null){throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.")}window[this._item.callback]=createjs.proxy(this._handleLoad,this);window.document.body.appendChild(this._tag);this._tag.src=this._item.src};c._handleLoad=function(d){this._result=this._rawResult=d;this._sendComplete();this._dispose()};c._dispose=function(){window.document.body.removeChild(this._tag);delete window[this._item.callback]};createjs.JSONPLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(d){this.AbstractLoader_constructor(d,null,createjs.AbstractLoader.MANIFEST);this._manifestQueue=null}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.MANIFEST_PROGRESS=0.25;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.MANIFEST};c.load=function(){this.AbstractLoader_load()};c._createRequest=function(){var d=this._item.callback;if(d!=null){this._request=new createjs.JSONPLoader(this._item)}else{this._request=new createjs.JSONLoader(this._item)}};c.handleEvent=function(d){switch(d.type){case"complete":this._rawResult=d.target.getResult(true);this._result=d.target.getResult();this._sendProgress(b.MANIFEST_PROGRESS);this._loadManifest(this._result);return;case"progress":d.loaded*=b.MANIFEST_PROGRESS;this.progress=d.loaded/d.total;if(isNaN(this.progress)||this.progress==Infinity){this.progress=0}this._sendProgress(d);return}this.AbstractLoader_handleEvent(d)};c.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};c._loadManifest=function(e){if(e&&e.manifest){var d=this._manifestQueue=new createjs.LoadQueue();d.on("fileload",this._handleManifestFileLoad,this);d.on("progress",this._handleManifestProgress,this);d.on("complete",this._handleManifestComplete,this,true);d.on("error",this._handleManifestError,this,true);d.loadManifest(e)}else{this._sendComplete()}};c._handleManifestFileLoad=function(d){d.target=null;this.dispatchEvent(d)};c._handleManifestComplete=function(d){this._loadedItems=this._manifestQueue.getItems(true);this._sendComplete()};c._handleManifestProgress=function(d){this.progress=d.progress*(1-b.MANIFEST_PROGRESS)+b.MANIFEST_PROGRESS;this._sendProgress(this.progress)};c._handleManifestError=function(d){var e=new createjs.Event("fileerror");e.item=d.data;this.dispatchEvent(e)};createjs.ManifestLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function c(e,d){this.AbstractMediaLoader_constructor(e,d,createjs.AbstractLoader.SOUND);if(createjs.RequestUtils.isAudioTag(e)){this._tag=e}else{if(createjs.RequestUtils.isAudioTag(e.src)){this._tag=e}else{if(createjs.RequestUtils.isAudioTag(e.tag)){this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src}}}if(this._tag!=null){this._preferXHR=false}}var b=createjs.extend(c,createjs.AbstractMediaLoader);var a=c;a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.SOUND};b._createTag=function(e){var d=document.createElement("audio");d.autoplay=false;d.preload="none";d.src=e;return d};createjs.SoundLoader=createjs.promote(c,"AbstractMediaLoader")}());this.createjs=this.createjs||{};(function(){function b(e,d){this.AbstractMediaLoader_constructor(e,d,createjs.AbstractLoader.VIDEO);if(createjs.RequestUtils.isVideoTag(e)||createjs.RequestUtils.isVideoTag(e.src)){this.setTag(createjs.RequestUtils.isVideoTag(e)?e:e.src);this._preferXHR=false}else{this.setTag(this._createTag())}}var c=createjs.extend(b,createjs.AbstractMediaLoader);var a=b;c._createTag=function(){return document.createElement("video")};a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.VIDEO};createjs.VideoLoader=createjs.promote(b,"AbstractMediaLoader")}());this.createjs=this.createjs||{};(function(){function b(d){this.AbstractLoader_constructor(d,null,createjs.AbstractLoader.SPRITESHEET);this._manifestQueue=null}var c=createjs.extend(b,createjs.AbstractLoader);var a=b;a.SPRITESHEET_PROGRESS=0.25;a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.SPRITESHEET};c.destroy=function(){this.AbstractLoader_destroy;this._manifestQueue.close()};c._createRequest=function(){var d=this._item.callback;if(d!=null&&d instanceof Function){this._request=new createjs.JSONPLoader(this._item)}else{this._request=new createjs.JSONLoader(this._item)}};c.handleEvent=function(d){switch(d.type){case"complete":this._rawResult=d.target.getResult(true);this._result=d.target.getResult();this._sendProgress(a.SPRITESHEET_PROGRESS);this._loadManifest(this._result);return;case"progress":d.loaded*=a.SPRITESHEET_PROGRESS;this.progress=d.loaded/d.total;if(isNaN(this.progress)||this.progress==Infinity){this.progress=0}this._sendProgress(d);return}this.AbstractLoader_handleEvent(d)};c._loadManifest=function(e){if(e&&e.images){var d=this._manifestQueue=new createjs.LoadQueue();d.on("complete",this._handleManifestComplete,this,true);d.on("fileload",this._handleManifestFileLoad,this);d.on("progress",this._handleManifestProgress,this);d.on("error",this._handleManifestError,this,true);d.loadManifest(e.images)}};c._handleManifestFileLoad=function(e){var f=e.result;if(f!=null){var d=this.getResult().images;var g=d.indexOf(e.item.src);d[g]=f}};c._handleManifestComplete=function(d){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=this._manifestQueue.getItems(true);this._sendComplete()};c._handleManifestProgress=function(d){this.progress=d.progress*(1-a.SPRITESHEET_PROGRESS)+a.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};c._handleManifestError=function(d){var e=new createjs.Event("fileerror");e.item=d.data;this.dispatchEvent(e)};createjs.SpriteSheetLoader=createjs.promote(b,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(e,d){this.AbstractLoader_constructor(e,d,createjs.AbstractLoader.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";if(d){this.setTag(document.createElement("svg"))}else{this.setTag(document.createElement("object"));this.getTag().type="image/svg+xml"}this.getTag().style.visibility="hidden"}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.SVG};c._formatResult=function(e){var f=createjs.DataUtils.parseXML(e.getResult(true),"text/xml");var d=e.getTag();if(!this._preferXHR&&document.body.contains(d)){document.body.removeChild(d)}if(f.documentElement!=null){d.appendChild(f.documentElement);d.style.visibility="visible";return d}else{return f}};createjs.SVGLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function a(d){this.AbstractLoader_constructor(d,true,createjs.AbstractLoader.XML);this.resultFormatter=this._formatResult}var c=createjs.extend(a,createjs.AbstractLoader);var b=a;b.canLoadItem=function(d){return d.type==createjs.AbstractLoader.XML};c._formatResult=function(d){return createjs.DataUtils.parseXML(d.getResult(true),"text/xml")};createjs.XMLLoader=createjs.promote(a,"AbstractLoader")}());ig.baked=true;ig.module("lib.plugins.createjs.preload").defines();
/*
* TweenJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{};createjs.extend=function(a,c){function b(){this.constructor=a}b.prototype=c.prototype;return(a.prototype=new b())};this.createjs=this.createjs||{};createjs.promote=function(b,d){var c=b.prototype,a=(Object.getPrototypeOf&&Object.getPrototypeOf(c))||c.__proto__;if(a){c[(d+="_")+"constructor"]=a.constructor;for(var e in a){if(c.hasOwnProperty(e)&&(typeof a[e]=="function")){c[d+e]=a[e]}}}return b};this.createjs=this.createjs||{};(function(){function a(e,d,c){this.type=e;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!d;this.cancelable=!!c;this.timeStamp=(new Date()).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.immediatePropagationStopped=false;this.removed=false}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&true};b.stopPropagation=function(){this.propagationStopped=true};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};b.remove=function(){this.removed=true};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.set=function(c){for(var d in c){this[d]=c[d]}return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a}());this.createjs=this.createjs||{};(function(){function a(){this._listeners=null;this._captureListeners=null}var b=a.prototype;a.initialize=function(c){c.addEventListener=b.addEventListener;c.on=b.on;c.removeEventListener=c.off=b.removeEventListener;c.removeAllEventListeners=b.removeAllEventListeners;c.hasEventListener=b.hasEventListener;c.dispatchEvent=b.dispatchEvent;c._dispatchEvent=b._dispatchEvent;c.willTrigger=b.willTrigger};b.addEventListener=function(f,g,d){var e;if(d){e=this._captureListeners=this._captureListeners||{}}else{e=this._listeners=this._listeners||{}}var c=e[f];if(c){this.removeEventListener(f,g,d)}c=e[f];if(!c){e[f]=[g]}else{c.push(g)}return g};b.on=function(f,h,e,d,g,c){if(h.handleEvent){e=e||h;h=h.handleEvent}e=e||this;return this.addEventListener(f,function(i){h.call(e,i,g);d&&i.remove()},c)};b.removeEventListener=function(h,j,d){var g=d?this._captureListeners:this._listeners;if(!g){return}var c=g[h];if(!c){return}for(var f=0,e=c.length;f<e;f++){if(c[f]==j){if(e==1){delete (g[h])}else{c.splice(f,1)}break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(c){if(!c){this._listeners=this._captureListeners=null}else{if(this._listeners){delete (this._listeners[c])}if(this._captureListeners){delete (this._captureListeners[c])}}};b.dispatchEvent=function(h){if(typeof h=="string"){var f=this._listeners;if(!f||!f[h]){return false}h=new createjs.Event(h)}else{if(h.target&&h.clone){h=h.clone()}}try{h.target=this}catch(k){}if(!h.bubbles||!this.parent){this._dispatchEvent(h,2)}else{var j=this,g=[j];while(j.parent){g.push(j=j.parent)}var d,c=g.length;for(d=c-1;d>=0&&!h.propagationStopped;d--){g[d]._dispatchEvent(h,1+(d==0))}for(d=1;d<c&&!h.propagationStopped;d++){g[d]._dispatchEvent(h,3)}}return h.defaultPrevented};b.hasEventListener=function(e){var d=this._listeners,c=this._captureListeners;return !!((d&&d[e])||(c&&c[e]))};b.willTrigger=function(c){var d=this;while(d){if(d.hasEventListener(c)){return true}d=d.parent}return false};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(j,f){var d,h=(f==1)?this._captureListeners:this._listeners;if(j&&h){var c=h[j.type];if(!c||!(d=c.length)){return}try{j.currentTarget=this}catch(k){}try{j.eventPhase=f}catch(k){}j.removed=false;c=c.slice();for(var g=0;g<d&&!j.immediatePropagationStopped;g++){var m=c[g];if(m.handleEvent){m.handleEvent(j)}else{m(j)}if(j.removed){this.off(j.type,m,f==1);j.removed=false}}}};createjs.EventDispatcher=a}());this.createjs=this.createjs||{};(function(){function c(){throw"Ticker cannot be instantiated."}c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=false;c.timingMode=null;c.maxDelta=0;c.paused=false;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){!c._inited&&c.init();return c._addEventListener.apply(c,arguments)};c._inited=false;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=true;c.setInterval=function(d){c._interval=d;if(!c._inited){return}c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(d){c.setInterval(1000/d)};c.getFPS=function(){return 1000/c._interval};try{Object.defineProperties(c,{interval:{get:c.getInterval,set:c.setInterval},framerate:{get:c.getFPS,set:c.setFPS}})}catch(b){console.log(b)}c.init=function(){if(c._inited){return}c._inited=true;c._times=[];c._tickTimes=[];c._startTime=c._getTime();c._times.push(c._lastTime=0);c.interval=c._interval};c.reset=function(){if(c._raf){var d=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;d&&d(c._timerId)}else{clearTimeout(c._timerId)}c.removeAllEventListeners("tick");c._timerId=c._times=c._tickTimes=null;c._startTime=c._lastTime=c._ticks=0;c._inited=false};c.getMeasuredTickTime=function(f){var d=0,g=c._tickTimes;if(!g||g.length<1){return -1}f=Math.min(g.length,f||(c.getFPS()|0));for(var e=0;e<f;e++){d+=g[e]}return d/f};c.getMeasuredFPS=function(d){var e=c._times;if(!e||e.length<2){return -1}d=Math.min(e.length-1,d||(c.getFPS()|0));return 1000/((e[0]-e[d])/d)};c.setPaused=function(d){c.paused=d};c.getPaused=function(){return c.paused};c.getTime=function(d){return c._startTime?c._getTime()-(d?c._pausedTime:0):-1};c.getEventTime=function(d){return c._startTime?(c._lastTime||c._startTime)-(d?c._pausedTime:0):-1};c.getTicks=function(d){return c._ticks-(d?c._pausedTicks:0)};c._handleSynch=function(){c._timerId=null;c._setupTick();if(c._getTime()-c._lastTime>=(c._interval-1)*0.97){c._tick()}};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(c._timerId!=null){return}var e=c.timingMode||(c.useRAF&&c.RAF_SYNCHED);if(e==c.RAF_SYNCHED||e==c.RAF){var d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(d){c._timerId=d(e==c.RAF?c._handleRAF:c._handleSynch);c._raf=true;return}}c._raf=false;c._timerId=setTimeout(c._handleTimeout,c._interval)};c._tick=function(){var f=c.paused;var h=c._getTime();var e=h-c._lastTime;c._lastTime=h;c._ticks++;if(f){c._pausedTicks++;c._pausedTime+=e}if(c.hasEventListener("tick")){var g=new createjs.Event("tick");var d=c.maxDelta;g.delta=(d&&e>d)?d:e;g.paused=f;g.time=h;g.runTime=h-c._pausedTime;c.dispatchEvent(g)}c._tickTimes.unshift(c._getTime()-h);while(c._tickTimes.length>100){c._tickTimes.pop()}c._times.unshift(h);while(c._times.length>100){c._times.pop()}};var a=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return((a&&a.call(performance))||(new Date().getTime()))-c._startTime};createjs.Ticker=c}());this.createjs=this.createjs||{};(function(){function b(e,d,c){this.ignoreGlobalPause=false;this.loop=false;this.duration=0;this.pluginData=c||{};this.target=e;this.position=null;this.passive=false;this._paused=false;this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];this._prevPosition=0;this._stepPosition=0;this._prevPos=-1;this._target=e;this._useTicks=false;this._inited=false;if(d){this._useTicks=d.useTicks;this.ignoreGlobalPause=d.ignoreGlobalPause;this.loop=d.loop;d.onChange&&this.addEventListener("change",d.onChange);if(d.override){b.removeTweens(e)}}if(d&&d.paused){this._paused=true}else{createjs.Tween._register(this,true)}if(d&&d.position!=null){this.setPosition(d.position,b.NONE)}}var a=createjs.extend(b,createjs.EventDispatcher);b.NONE=0;b.LOOP=1;b.REVERSE=2;b.IGNORE={};b._tweens=[];b._plugins={};b.get=function(f,e,c,d){if(d){b.removeTweens(f)}return new b(f,e,c)};b.tick=function(g,e){var f=b._tweens.slice();for(var d=f.length-1;d>=0;d--){var c=f[d];if((e&&!c.ignoreGlobalPause)||c._paused){continue}c.tick(c._useTicks?1:g)}};b.handleEvent=function(c){if(c.type=="tick"){this.tick(c.delta,c.paused)}};b.removeTweens=function(f){if(!f.tweenjs_count){return}var e=b._tweens;for(var d=e.length-1;d>=0;d--){var c=e[d];if(c._target==f){c._paused=true;e.splice(d,1)}}f.tweenjs_count=0};b.removeAllTweens=function(){var f=b._tweens;for(var e=0,c=f.length;e<c;e++){var d=f[e];d._paused=true;d.target.tweenjs_count=0}f.length=0};b.hasActiveTweens=function(c){if(c){return c.tweenjs_count}return b._tweens&&!!b._tweens.length};b.installPlugin=function(m,o){var q=m.priority;if(q==null){m.priority=q=0}for(var h=0,e=o.length,c=b._plugins;h<e;h++){var d=o[h];if(!c[d]){c[d]=[m]}else{var k=c[d];for(var f=0,g=k.length;f<g;f++){if(q<k[f].priority){break}}c[d].splice(f,0,m)}}};b._register=function(d,e){var g=d._target;var f=b._tweens;if(e){if(g){g.tweenjs_count=g.tweenjs_count?g.tweenjs_count+1:1}f.push(d);if(!b._inited&&createjs.Ticker){createjs.Ticker.addEventListener("tick",b);b._inited=true}}else{if(g){g.tweenjs_count--}var c=f.length;while(c--){if(f[c]==d){f.splice(c,1);return}}}};a.wait=function(d,c){if(d==null||d<=0){return this}var e=this._cloneProps(this._curQueueProps);return this._addStep({d:d,p0:e,e:this._linearEase,p1:e,v:c})};a.to=function(c,d,e){if(isNaN(d)||d<0){d=0}return this._addStep({d:d||0,p0:this._cloneProps(this._curQueueProps),e:e,p1:this._cloneProps(this._appendQueueProps(c))})};a.call=function(e,d,c){return this._addAction({f:e,p:d?d:[this],o:c?c:this._target})};a.set=function(c,d){return this._addAction({f:this._set,o:this,p:[c,d?d:this._target]})};a.play=function(c){if(!c){c=this}return this.call(c.setPaused,[false],c)};a.pause=function(c){if(!c){c=this}return this.call(c.setPaused,[true],c)};a.setPosition=function(j,k){if(j<0){j=0}if(k==null){k=1}var g=j;var e=false;if(g>=this.duration){if(this.loop){g=g%this.duration}else{g=this.duration;e=true}}if(g==this._prevPos){return e}var c=this._prevPos;this.position=this._prevPos=g;this._prevPosition=j;if(this._target){if(e){this._updateTargetProps(null,1)}else{if(this._steps.length>0){for(var f=0,d=this._steps.length;f<d;f++){if(this._steps[f].t>g){break}}var h=this._steps[f-1];this._updateTargetProps(h,(this._stepPosition=g-h.t)/h.d)}}}if(k!=0&&this._actions.length>0){if(this._useTicks){this._runActions(g,g)}else{if(k==1&&g<c){if(c!=this.duration){this._runActions(c,this.duration)}this._runActions(0,g,true)}else{this._runActions(c,g)}}}if(e){this.setPaused(true)}this.dispatchEvent("change");return e};a.tick=function(c){if(this._paused){return}this.setPosition(this._prevPosition+c)};a.setPaused=function(c){if(this._paused===!!c){return this}this._paused=!!c;b._register(this,!c);return this};a.w=a.wait;a.t=a.to;a.c=a.call;a.s=a.set;a.toString=function(){return"[Tween]"};a.clone=function(){throw ("Tween can not be cloned.")};a._updateTargetProps=function(d,j){var r,q,o,p,m,g;if(!d&&j==1){this.passive=false;r=q=this._curQueueProps}else{this.passive=!!d.v;if(this.passive){return}if(d.e){j=d.e(j,0,1,1)}r=d.p0;q=d.p1}for(var c in this._initQueueProps){if((p=r[c])==null){r[c]=p=this._initQueueProps[c]}if((m=q[c])==null){q[c]=m=p}if(p==m||j==0||j==1||(typeof(p)!="number")){o=j==1?m:p}else{o=p+(m-p)*j}var h=false;if(g=b._plugins[c]){for(var f=0,e=g.length;f<e;f++){var k=g[f].tween(this,c,o,r,q,j,!!d&&r==q,!d);if(k==b.IGNORE){h=true}else{o=k}}}if(!h){this._target[c]=o}}};a._runActions=function(m,c,l){var o=m;var h=c;var g=-1;var f=this._actions.length;var e=1;if(m>c){o=c;h=m;g=f;f=e=-1}while((g+=e)!=f){var d=this._actions[g];var n=d.t;if(n==h||(n>o&&n<h)||(l&&n==m)){d.f.apply(d.o,d.p)}}};a._appendQueueProps=function(h){var d,f,g,e,c;for(var j in h){if(this._initQueueProps[j]===undefined){f=this._target[j];if(d=b._plugins[j]){for(g=0,e=d.length;g<e;g++){f=d[g].init(this,j,f)}}this._initQueueProps[j]=this._curQueueProps[j]=(f===undefined)?null:f}else{f=this._curQueueProps[j]}}for(var j in h){f=this._curQueueProps[j];if(d=b._plugins[j]){c=c||{};for(g=0,e=d.length;g<e;g++){if(d[g].step){d[g].step(this,j,f,h[j],c)}}}this._curQueueProps[j]=h[j]}if(c){this._appendQueueProps(c)}return this._curQueueProps};a._cloneProps=function(c){var d={};for(var e in c){d[e]=c[e]}return d};a._addStep=function(c){if(c.d>0){this._steps.push(c);c.t=this.duration;this.duration+=c.d}return this};a._addAction=function(c){c.t=this.duration;this._actions.push(c);return this};a._set=function(c,d){for(var e in c){d[e]=c[e]}};createjs.Tween=createjs.promote(b,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(d,e,c){this.EventDispatcher_constructor();this.ignoreGlobalPause=false;this.duration=0;this.loop=false;this.position=null;this._paused=false;this._tweens=[];this._labels=null;this._labelList=null;this._prevPosition=0;this._prevPos=-1;this._useTicks=false;if(c){this._useTicks=c.useTicks;this.loop=c.loop;this.ignoreGlobalPause=c.ignoreGlobalPause;c.onChange&&this.addEventListener("change",c.onChange)}if(d){this.addTween.apply(this,d)}this.setLabels(e);if(c&&c.paused){this._paused=true}else{createjs.Tween._register(this,true)}if(c&&c.position!=null){this.setPosition(c.position,createjs.Tween.NONE)}}var b=createjs.extend(a,createjs.EventDispatcher);b.addTween=function(e){var c=arguments.length;if(c>1){for(var d=0;d<c;d++){this.addTween(arguments[d])}return arguments[0]}else{if(c==0){return null}}this.removeTween(e);this._tweens.push(e);e.setPaused(true);e._paused=false;e._useTicks=this._useTicks;if(e.duration>this.duration){this.duration=e.duration}if(this._prevPos>=0){e.setPosition(this._prevPos,createjs.Tween.NONE)}return e};b.removeTween=function(e){var c=arguments.length;if(c>1){var f=true;for(var d=0;d<c;d++){f=f&&this.removeTween(arguments[d])}return f}else{if(c==0){return false}}var g=this._tweens;var d=g.length;while(d--){if(g[d]==e){g.splice(d,1);if(e.duration>=this.duration){this.updateDuration()}return true}}return false};b.addLabel=function(e,c){this._labels[e]=c;var g=this._labelList;if(g){for(var f=0,d=g.length;f<d;f++){if(c<g[f].position){break}}g.splice(f,0,{label:e,position:c})}};b.setLabels=function(c){this._labels=c?c:{}};b.getLabels=function(){var c=this._labelList;if(!c){c=this._labelList=[];var e=this._labels;for(var d in e){c.push({label:d,position:e[d]})}c.sort(function(g,f){return g.position-f.position})}return c};b.getCurrentLabel=function(){var f=this.getLabels();var e=this.position;var c=f.length;if(c){for(var d=0;d<c;d++){if(e<f[d].position){break}}return(d==0)?null:f[d-1].label}return null};b.gotoAndPlay=function(c){this.setPaused(false);this._goto(c)};b.gotoAndStop=function(c){this.setPaused(true);this._goto(c)};b.setPosition=function(g,h){if(g<0){g=0}var f=this.loop?g%this.duration:g;var d=!this.loop&&g>=this.duration;if(f==this._prevPos){return d}this._prevPosition=g;this.position=this._prevPos=f;for(var e=0,c=this._tweens.length;e<c;e++){this._tweens[e].setPosition(f,h);if(f!=this._prevPos){return false}}if(d){this.setPaused(true)}this.dispatchEvent("change");return d};b.setPaused=function(c){this._paused=!!c;createjs.Tween._register(this,!c)};b.updateDuration=function(){this.duration=0;for(var e=0,c=this._tweens.length;e<c;e++){var d=this._tweens[e];if(d.duration>this.duration){this.duration=d.duration}}};b.tick=function(c){this.setPosition(this._prevPosition+c)};b.resolve=function(c){var d=Number(c);if(isNaN(d)){d=this._labels[c]}return d};b.toString=function(){return"[Timeline]"};b.clone=function(){throw ("Timeline can not be cloned.")};b._goto=function(c){var d=this.resolve(c);if(d!=null){this.setPosition(d)}};createjs.Timeline=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(){throw"Ease cannot be instantiated."}a.linear=function(b){return b};a.none=a.linear;a.get=function(b){if(b<-1){b=-1}if(b>1){b=1}return function(c){if(b==0){return c}if(b<0){return c*(c*-b+1+b)}return c*((2-c)*b+(1-b))}};a.getPowIn=function(b){return function(c){return Math.pow(c,b)}};a.getPowOut=function(b){return function(c){return 1-Math.pow(1-c,b)}};a.getPowInOut=function(b){return function(c){if((c*=2)<1){return 0.5*Math.pow(c,b)}return 1-0.5*Math.abs(Math.pow(2-c,b))}};a.quadIn=a.getPowIn(2);a.quadOut=a.getPowOut(2);a.quadInOut=a.getPowInOut(2);a.cubicIn=a.getPowIn(3);a.cubicOut=a.getPowOut(3);a.cubicInOut=a.getPowInOut(3);a.quartIn=a.getPowIn(4);a.quartOut=a.getPowOut(4);a.quartInOut=a.getPowInOut(4);a.quintIn=a.getPowIn(5);a.quintOut=a.getPowOut(5);a.quintInOut=a.getPowInOut(5);a.sineIn=function(b){return 1-Math.cos(b*Math.PI/2)};a.sineOut=function(b){return Math.sin(b*Math.PI/2)};a.sineInOut=function(b){return -0.5*(Math.cos(Math.PI*b)-1)};a.getBackIn=function(b){return function(c){return c*c*((b+1)*c-b)}};a.backIn=a.getBackIn(1.7);a.getBackOut=function(b){return function(c){return(--c*c*((b+1)*c+b)+1)}};a.backOut=a.getBackOut(1.7);a.getBackInOut=function(b){b*=1.525;return function(c){if((c*=2)<1){return 0.5*(c*c*((b+1)*c-b))}return 0.5*((c-=2)*c*((b+1)*c+b)+2)}};a.backInOut=a.getBackInOut(1.7);a.circIn=function(b){return -(Math.sqrt(1-b*b)-1)};a.circOut=function(b){return Math.sqrt(1-(--b)*b)};a.circInOut=function(b){if((b*=2)<1){return -0.5*(Math.sqrt(1-b*b)-1)}return 0.5*(Math.sqrt(1-(b-=2)*b)+1)};a.bounceIn=function(b){return 1-a.bounceOut(1-b)};a.bounceOut=function(b){if(b<1/2.75){return(7.5625*b*b)}else{if(b<2/2.75){return(7.5625*(b-=1.5/2.75)*b+0.75)}else{if(b<2.5/2.75){return(7.5625*(b-=2.25/2.75)*b+0.9375)}else{return(7.5625*(b-=2.625/2.75)*b+0.984375)}}}};a.bounceInOut=function(b){if(b<0.5){return a.bounceIn(b*2)*0.5}return a.bounceOut(b*2-1)*0.5+0.5};a.getElasticIn=function(b,d){var c=Math.PI*2;return function(e){if(e==0||e==1){return e}var f=d/c*Math.asin(1/b);return -(b*Math.pow(2,10*(e-=1))*Math.sin((e-f)*c/d))}};a.elasticIn=a.getElasticIn(1,0.3);a.getElasticOut=function(b,d){var c=Math.PI*2;return function(e){if(e==0||e==1){return e}var f=d/c*Math.asin(1/b);return(b*Math.pow(2,-10*e)*Math.sin((e-f)*c/d)+1)}};a.elasticOut=a.getElasticOut(1,0.3);a.getElasticInOut=function(b,d){var c=Math.PI*2;return function(e){var f=d/c*Math.asin(1/b);if((e*=2)<1){return -0.5*(b*Math.pow(2,10*(e-=1))*Math.sin((e-f)*c/d))}return b*Math.pow(2,-10*(e-=1))*Math.sin((e-f)*c/d)*0.5+1}};a.elasticInOut=a.getElasticInOut(1,0.3*1.5);createjs.Ease=a}());this.createjs=this.createjs||{};(function(){function a(){throw ("MotionGuidePlugin cannot be instantiated.")}a.priority=0;a._rotOffS;a._rotOffE;a._rotNormS;a._rotNormE;a.install=function(){createjs.Tween.installPlugin(a,["guide","x","y","rotation"]);return createjs.Tween.IGNORE};a.init=function(b,e,c){var d=b.target;if(!d.hasOwnProperty("x")){d.x=0}if(!d.hasOwnProperty("y")){d.y=0}if(!d.hasOwnProperty("rotation")){d.rotation=0}if(e=="rotation"){b.__needsRot=true}return e=="guide"?null:c};a.step=function(h,f,w,p,H){if(f=="rotation"){h.__rotGlobalS=w;h.__rotGlobalE=p;a.testRotData(h,H)}if(f!="guide"){return p}var G,I=p;if(!I.hasOwnProperty("path")){I.path=[]}var z=I.path;if(!I.hasOwnProperty("end")){I.end=1}if(!I.hasOwnProperty("start")){I.start=(w&&w.hasOwnProperty("end")&&w.path===z)?w.end:0}if(I.hasOwnProperty("_segments")&&I._length){return p}var B=z.length;var u=10;if(B>=6&&(B-2)%4==0){I._segments=[];I._length=0;for(var D=2;D<B;D+=4){var v=z[D-2],r=z[D-1];var e=z[D+0],c=z[D+1];var F=z[D+2],E=z[D+3];var n=v,m=r;var g,d,J=0;var k=[];for(var C=1;C<=u;C++){var q=C/u;var b=1-q;g=b*b*v+2*b*q*e+q*q*F;d=b*b*r+2*b*q*c+q*q*E;J+=k[k.push(Math.sqrt((G=g-n)*G+(G=d-m)*G))-1];n=g;m=d}I._segments.push(J);I._segments.push(k);I._length+=J}}else{throw ("invalid 'path' data, please see documentation for valid paths")}G=I.orient;I.orient=true;var A={};a.calc(I,I.start,A);h.__rotPathS=Number(A.rotation.toFixed(5));a.calc(I,I.end,A);h.__rotPathE=Number(A.rotation.toFixed(5));I.orient=false;a.calc(I,I.end,H);I.orient=G;if(!I.orient){return p}h.__guideData=I;a.testRotData(h,H);return p};a.testRotData=function(e,b){if(e.__rotGlobalS===undefined||e.__rotGlobalE===undefined){if(e.__needsRot){return}if(e._curQueueProps.rotation!==undefined){e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation}else{e.__rotGlobalS=e.__rotGlobalE=b.rotation=e.target.rotation||0}}if(e.__guideData===undefined){return}var f=e.__guideData;var d=e.__rotGlobalE-e.__rotGlobalS;var g=e.__rotPathE-e.__rotPathS;var c=d-g;if(f.orient=="auto"){if(c>180){c-=360}else{if(c<-180){c+=360}}}else{if(f.orient=="cw"){while(c<0){c+=360}if(c==0&&d>0&&d!=180){c+=360}}else{if(f.orient=="ccw"){c=d-((g>180)?(360-g):(g));while(c>0){c-=360}if(c==0&&d<0&&d!=-180){c-=360}}}}f.rotDelta=c;f.rotOffS=e.__rotGlobalS-e.__rotPathS;e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=undefined};a.tween=function(j,b,i,c,d,h,g,e){var f=d.guide;if(f==undefined||f===c.guide){return i}if(f.lastRatio!=h){var k=((f.end-f.start)*(g?f.end:h)+f.start);a.calc(f,k,j.target);switch(f.orient){case"cw":case"ccw":case"auto":j.target.rotation+=f.rotOffS+f.rotDelta*h;break;case"fixed":default:j.target.rotation+=f.rotOffS;break}f.lastRatio=h}if(b=="rotation"&&((!f.orient)||f.orient=="false")){return i}return j.target[b]};a.calc=function(f,h,g){if(f._segments==undefined){a.validate(f)}if(g==undefined){g={x:0,y:0,rotation:0}}var c=f._segments;var o=f.path;var j=f._length*h;var k=c.length-2;var b=0;while(j>c[b]&&b<k){j-=c[b];b+=2}var m=c[b+1];var e=0;k=m.length-1;while(j>m[e]&&e<k){j-=m[e];e++}var l=(e/++k)+(j/(k*m[e]));b=(b*2)+2;var d=1-l;g.x=d*d*o[b-2]+2*d*l*o[b+0]+l*l*o[b+2];g.y=d*d*o[b-1]+2*d*l*o[b+1]+l*l*o[b+3];if(f.orient){g.rotation=57.2957795*Math.atan2((o[b+1]-o[b-1])*d+(o[b+3]-o[b+1])*l,(o[b+0]-o[b-2])*d+(o[b+2]-o[b+0])*l)}return g};createjs.MotionGuidePlugin=a}());this.createjs=this.createjs||{};(function(){var a=createjs.TweenJS=createjs.TweenJS||{};a.version="0.6.0";a.buildDate="Thu, 11 Dec 2014 23:32:09 GMT"})();ig.baked=true;ig.module("lib.plugins.createjs.tween").defines();
/*
* SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{};(function(){var a=createjs.SoundJS=createjs.SoundJS||{};a.version="0.6.0";a.buildDate="Thu, 11 Dec 2014 23:32:09 GMT"})();this.createjs=this.createjs||{};createjs.extend=function(a,c){function b(){this.constructor=a}b.prototype=c.prototype;return(a.prototype=new b())};this.createjs=this.createjs||{};createjs.promote=function(b,d){var c=b.prototype,a=(Object.getPrototypeOf&&Object.getPrototypeOf(c))||c.__proto__;if(a){c[(d+="_")+"constructor"]=a.constructor;for(var e in a){if(c.hasOwnProperty(e)&&(typeof a[e]=="function")){c[d+e]=a[e]}}}return b};this.createjs=this.createjs||{};createjs.indexOf=function(d,b){for(var c=0,a=d.length;c<a;c++){if(b===d[c]){return c}}return -1};this.createjs=this.createjs||{};(function(){createjs.proxy=function(c,a){var b=Array.prototype.slice.call(arguments,2);return function(){return c.apply(a,Array.prototype.slice.call(arguments,0).concat(b))}}}());this.createjs=this.createjs||{};(function(){var a=Object.defineProperty?true:false;var c={};try{Object.defineProperty(c,"bar",{get:function(){return this._bar},set:function(d){this._bar=d}})}catch(b){a=false}createjs.definePropertySupported=a}());this.createjs=this.createjs||{};(function(){function a(){throw"BrowserDetect cannot be instantiated"}var b=a.agent=window.navigator.userAgent;a.isWindowPhone=(b.indexOf("IEMobile")>-1)||(b.indexOf("Windows Phone")>-1);a.isFirefox=(b.indexOf("Firefox")>-1);a.isOpera=(window.opera!=null);a.isChrome=(b.indexOf("Chrome")>-1);a.isIOS=(b.indexOf("iPod")>-1||b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1)&&!a.isWindowPhone;a.isAndroid=(b.indexOf("Android")>-1)&&!a.isWindowPhone;a.isBlackberry=(b.indexOf("Blackberry")>-1);createjs.BrowserDetect=a}());this.createjs=this.createjs||{};(function(){function a(){this._listeners=null;this._captureListeners=null}var b=a.prototype;a.initialize=function(c){c.addEventListener=b.addEventListener;c.on=b.on;c.removeEventListener=c.off=b.removeEventListener;c.removeAllEventListeners=b.removeAllEventListeners;c.hasEventListener=b.hasEventListener;c.dispatchEvent=b.dispatchEvent;c._dispatchEvent=b._dispatchEvent;c.willTrigger=b.willTrigger};b.addEventListener=function(f,g,d){var e;if(d){e=this._captureListeners=this._captureListeners||{}}else{e=this._listeners=this._listeners||{}}var c=e[f];if(c){this.removeEventListener(f,g,d)}c=e[f];if(!c){e[f]=[g]}else{c.push(g)}return g};b.on=function(f,h,e,d,g,c){if(h.handleEvent){e=e||h;h=h.handleEvent}e=e||this;return this.addEventListener(f,function(i){h.call(e,i,g);d&&i.remove()},c)};b.removeEventListener=function(h,j,d){var g=d?this._captureListeners:this._listeners;if(!g){return}var c=g[h];if(!c){return}for(var f=0,e=c.length;f<e;f++){if(c[f]==j){if(e==1){delete (g[h])}else{c.splice(f,1)}break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(c){if(!c){this._listeners=this._captureListeners=null}else{if(this._listeners){delete (this._listeners[c])}if(this._captureListeners){delete (this._captureListeners[c])}}};b.dispatchEvent=function(h){if(typeof h=="string"){var f=this._listeners;if(!f||!f[h]){return false}h=new createjs.Event(h)}else{if(h.target&&h.clone){h=h.clone()}}try{h.target=this}catch(k){}if(!h.bubbles||!this.parent){this._dispatchEvent(h,2)}else{var j=this,g=[j];while(j.parent){g.push(j=j.parent)}var d,c=g.length;for(d=c-1;d>=0&&!h.propagationStopped;d--){g[d]._dispatchEvent(h,1+(d==0))}for(d=1;d<c&&!h.propagationStopped;d++){g[d]._dispatchEvent(h,3)}}return h.defaultPrevented};b.hasEventListener=function(e){var d=this._listeners,c=this._captureListeners;return !!((d&&d[e])||(c&&c[e]))};b.willTrigger=function(c){var d=this;while(d){if(d.hasEventListener(c)){return true}d=d.parent}return false};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(j,f){var d,h=(f==1)?this._captureListeners:this._listeners;if(j&&h){var c=h[j.type];if(!c||!(d=c.length)){return}try{j.currentTarget=this}catch(k){}try{j.eventPhase=f}catch(k){}j.removed=false;c=c.slice();for(var g=0;g<d&&!j.immediatePropagationStopped;g++){var m=c[g];if(m.handleEvent){m.handleEvent(j)}else{m(j)}if(j.removed){this.off(j.type,m,f==1);j.removed=false}}}};createjs.EventDispatcher=a}());this.createjs=this.createjs||{};(function(){function a(e,d,c){this.type=e;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!d;this.cancelable=!!c;this.timeStamp=(new Date()).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.immediatePropagationStopped=false;this.removed=false}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&true};b.stopPropagation=function(){this.propagationStopped=true};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};b.remove=function(){this.removed=true};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.set=function(c){for(var d in c){this[d]=c[d]}return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a}());this.createjs=this.createjs||{};(function(){function a(e,c,d){this.Event_constructor("error");this.title=e;this.message=c;this.data=d}var b=createjs.extend(a,createjs.Event);b.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(a,"Event")}());this.createjs=this.createjs||{};(function(a){function b(d,e){this.Event_constructor("progress");this.loaded=d;this.total=(e==null)?1:e;this.progress=(e==0)?0:this.loaded/this.total}var c=createjs.extend(b,createjs.Event);c.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(b,"Event")}(window));this.createjs=this.createjs||{};(function(){function a(){this.src=null;this.type=null;this.id=null;this.maintainOrder=false;this.callback=null;this.data=null;this.method=createjs.LoadItem.GET;this.values=null;this.headers=null;this.withCredentials=false;this.mimeType=null;this.crossOrigin="Anonymous";this.loadTimeout=8000}var c=a.prototype={};var b=a;b.create=function(e){if(typeof e=="string"){var d=new a();d.src=e;return d}else{if(e instanceof b){return e}else{if(e instanceof Object){return e}else{throw new Error("Type not recognized.")}}}};c.set=function(d){for(var e in d){this[e]=d[e]}return this};createjs.LoadItem=b}());(function(){var a={};a.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i;a.RELATIVE_PATT=(/^[./]*?\//i);a.EXTENSION_PATT=/\/?[^/]+\.(\w{1,5})$/i;a.parseURI=function(d){var c={absolute:false,relative:false};if(d==null){return c}var e=d.indexOf("?");if(e>-1){d=d.substr(0,e)}var b;if(a.ABSOLUTE_PATT.test(d)){c.absolute=true}else{if(a.RELATIVE_PATT.test(d)){c.relative=true}}if(b=d.match(a.EXTENSION_PATT)){c.extension=b[1].toLowerCase()}return c};a.formatQueryString=function(c,b){if(c==null){throw new Error("You must specify data.")}var d=[];for(var e in c){d.push(e+"="+escape(c[e]))}if(b){d=d.concat(b)}return d.join("&")};a.buildPath=function(f,e){if(e==null){return f}var d=[];var b=f.indexOf("?");if(b!=-1){var c=f.slice(b+1);d=d.concat(c.split("&"))}if(b!=-1){return f.slice(0,b)+"?"+this._formatQueryString(e,d)}else{return f+"?"+this._formatQueryString(e,d)}};a.isCrossDomain=function(c){var e=document.createElement("a");e.href=c.src;var b=document.createElement("a");b.href=location.href;var d=(e.hostname!="")&&(e.port!=b.port||e.protocol!=b.protocol||e.hostname!=b.hostname);return d};a.isLocal=function(b){var c=document.createElement("a");c.href=b.src;return c.hostname==""&&c.protocol=="file:"};a.isBinary=function(b){switch(b){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return true;default:return false}};a.isImageTag=function(b){return b instanceof HTMLImageElement};a.isAudioTag=function(b){if(window.HTMLAudioElement){return b instanceof HTMLAudioElement}else{return false}};a.isVideoTag=function(b){if(window.HTMLVideoElement){return b instanceof HTMLVideoElement}else{false}};a.isText=function(b){switch(b){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:return true;default:return false}};a.getTypeByExtension=function(b){if(b==null){return createjs.AbstractLoader.TEXT}switch(b.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}};createjs.RequestUtils=a}());this.createjs=this.createjs||{};(function(){function a(f,e,d){this.EventDispatcher_constructor();this.loaded=false;this.canceled=false;this.progress=0;this.type=d;this.resultFormatter=null;if(f){this._item=createjs.LoadItem.create(f)}else{this._item=null}this._preferXHR=e;this._result=null;this._rawResult=null;this._loadedItems=null;this._tagSrcAttribute=null;this._tag=null}var c=createjs.extend(a,createjs.EventDispatcher);var b=a;b.POST="POST";b.GET="GET";b.BINARY="binary";b.CSS="css";b.IMAGE="image";b.JAVASCRIPT="javascript";b.JSON="json";b.JSONP="jsonp";b.MANIFEST="manifest";b.SOUND="sound";b.VIDEO="video";b.SPRITESHEET="spritesheet";b.SVG="svg";b.TEXT="text";b.XML="xml";c.getItem=function(){return this._item};c.getResult=function(d){return d?this._rawResult:this._result};c.getTag=function(){return this._tag};c.setTag=function(d){this._tag=d};c.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",this,this);var d=new createjs.Event("initialize");d.loader=this._request;this.dispatchEvent(d);this._request.load()};c.cancel=function(){this.canceled=true;this.destroy()};c.destroy=function(){if(this._request){this._request.removeAllEventListeners();this._request.destroy()}this._request=null;this._item=null;this._rawResult=null;this._result=null;this._loadItems=null;this.removeAllEventListeners()};c.getLoadedItems=function(){return this._loadedItems};c._createRequest=function(){if(!this._preferXHR){this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)}else{this._request=new createjs.XHRRequest(this._item)}};c._createTag=function(d){return null};c._sendLoadStart=function(){if(this._isCanceled()){return}this.dispatchEvent("loadstart")};c._sendProgress=function(e){if(this._isCanceled()){return}var d=null;if(typeof(e)=="number"){this.progress=e;d=new createjs.ProgressEvent(this.progress)}else{d=e;this.progress=e.loaded/e.total;d.progress=this.progress;if(isNaN(this.progress)||this.progress==Infinity){this.progress=0}}this.hasEventListener("progress")&&this.dispatchEvent(d)};c._sendComplete=function(){if(this._isCanceled()){return}this.loaded=true;var d=new createjs.Event("complete");d.rawResult=this._rawResult;if(this._result!=null){d.result=this._result}this.dispatchEvent(d)};c._sendError=function(d){if(this._isCanceled()||!this.hasEventListener("error")){return}if(d==null){d=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")}this.dispatchEvent(d)};c._isCanceled=function(){if(window.createjs==null||this.canceled){return true}return false};c.resultFormatter=null;c.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var d=this.resultFormatter&&this.resultFormatter(this);var f=this;if(d instanceof Function){d(function(g){f._result=g;f._sendComplete()})}else{this._result=d||this._rawResult;this._sendComplete()}break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":if(!this._isCanceled()){this.dispatchEvent(e.type)}break}};c.buildPath=function(e,d){return createjs.RequestUtils.buildPath(e,d)};c.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(e,d,c){this.AbstractLoader_constructor(e,d,c);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src"}var b=createjs.extend(a,createjs.AbstractLoader);b.load=function(){if(!this._tag){this._tag=this._createTag(this._item.src)}this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};b._createTag=function(){};b._createRequest=function(){if(!this._preferXHR){this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)}else{this._request=new createjs.XHRRequest(this._item)}};b._formatResult=function(c){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;if(this._preferXHR){c.getTag().src=c.getResult(true)}return c.getTag()};createjs.AbstractMediaLoader=createjs.promote(a,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){var a=function(c){this._item=c};var b=createjs.extend(a,createjs.EventDispatcher);b.load=function(){};b.destroy=function(){};b.cancel=function(){};createjs.AbstractRequest=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(e,c,d){this.AbstractRequest_constructor(e);this._tag=c;this._tagSrcAttribute=d;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=false;this._startTagVisibility=null}var b=createjs.extend(a,createjs.AbstractRequest);b.load=function(){if(this._tag.parentNode==null){window.document.body.appendChild(this._tag);this._addedToDOM=true}this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);var c=new createjs.Event("initialize");c.loader=this._tag;this.dispatchEvent(c);this._hideTag();this._tag[this._tagSrcAttribute]=this._item.src};b.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var c=this._tag;if(c.readyState=="loaded"||c.readyState=="complete"){this._handleTagComplete()}};b._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};b._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;if(this._addedToDOM&&this._tag.parentNode!=null){this._tag.parentNode.removeChild(this._tag)}};b._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};b._showTag=function(){this._tag.style.visibility=this._startTagVisibility};b._handleStalled=function(){};createjs.TagRequest=createjs.promote(a,"AbstractRequest")}());this.createjs=this.createjs||{};(function(){function a(f,d,e){this.AbstractRequest_constructor(f);this._tag=d;this._tagSrcAttribute=e;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var c=createjs.extend(a,createjs.TagRequest);var b=a;c.load=function(){this._tag.onstalled=createjs.proxy(this._handleStalled,this);this._tag.onprogress=createjs.proxy(this._handleProgress,this);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,false);this.TagRequest_load()};c._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var d=this._tag;if(d.readyState=="loaded"||d.readyState=="complete"){this._handleTagComplete()}};c._handleStalled=function(){};c._handleProgress=function(d){if(!d||d.loaded>0&&d.total==0){return}var e=new createjs.ProgressEvent(d.loaded,d.total);this.dispatchEvent(e)};c._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;this._tag.onprogress=null;this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(a,"TagRequest")}());this.createjs=this.createjs||{};(function(){function a(c){this.AbstractRequest_constructor(c);this._request=null;this._loadTimeout=null;this._xhrLevel=1;this._response=null;this._rawResponse=null;this._canceled=false;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);if(!this._createXHR(c)){}}var b=createjs.extend(a,createjs.AbstractRequest);a.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];b.getResult=function(c){if(c&&this._rawResponse){return this._rawResponse}return this._response};b.cancel=function(){this.canceled=true;this._clean();this._request.abort()};b.load=function(){if(this._request==null){this._handleError();return}this._request.addEventListener("loadstart",this._handleLoadStartProxy,false);this._request.addEventListener("progress",this._handleProgressProxy,false);this._request.addEventListener("abort",this._handleAbortProxy,false);this._request.addEventListener("error",this._handleErrorProxy,false);this._request.addEventListener("timeout",this._handleTimeoutProxy,false);this._request.addEventListener("load",this._handleLoadProxy,false);this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,false);if(this._xhrLevel==1){this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout)}try{if(!this._item.values||this._item.method==createjs.AbstractLoader.GET){this._request.send()}else{if(this._item.method==createjs.AbstractLoader.POST){this._request.send(createjs.RequestUtils.formatQueryString(this._item.values))}}}catch(c){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,c))}};b.setResponseType=function(c){this._request.responseType=c};b.getAllResponseHeaders=function(){if(this._request.getAllResponseHeaders instanceof Function){return this._request.getAllResponseHeaders()}else{return null}};b.getResponseHeader=function(c){if(this._request.getResponseHeader instanceof Function){return this._request.getResponseHeader(c)}else{return null}};b._handleProgress=function(c){if(!c||c.loaded>0&&c.total==0){return}var d=new createjs.ProgressEvent(c.loaded,c.total);this.dispatchEvent(d)};b._handleLoadStart=function(c){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};b._handleAbort=function(c){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,c))};b._handleError=function(c){this._clean();this.dispatchEvent(new createjs.ErrorEvent(c.message))};b._handleReadyStateChange=function(c){if(this._request.readyState==4){this._handleLoad()}};b._handleLoad=function(d){if(this.loaded){return}this.loaded=true;var c=this._checkError();if(c){this._handleError(c);return}this._response=this._getResponse();this._clean();this.dispatchEvent(new createjs.Event("complete"))};b._handleTimeout=function(c){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,c))};b._checkError=function(){var c=parseInt(this._request.status);switch(c){case 404:case 0:return new Error(c)}return null};b._getResponse=function(){if(this._response!=null){return this._response}if(this._request.response!=null){return this._request.response}try{if(this._request.responseText!=null){return this._request.responseText}}catch(c){}try{if(this._request.responseXML!=null){return this._request.responseXML}}catch(c){}return null};b._createXHR=function(p){var d=createjs.RequestUtils.isCrossDomain(p);var g={};var o=null;if(window.XMLHttpRequest){o=new XMLHttpRequest();if(d&&o.withCredentials===undefined&&window.XDomainRequest){o=new XDomainRequest()}}else{for(var j=0,h=s.ACTIVEX_VERSIONS.length;j<h;j++){var k=s.ACTIVEX_VERSIONS[j];try{o=new ActiveXObject(axVersions);break}catch(m){}}if(o==null){return false}}if(p.mimeType&&o.overrideMimeType){o.overrideMimeType(p.mimeType)}this._xhrLevel=(typeof o.responseType==="string")?2:1;var c=null;if(p.method==createjs.AbstractLoader.GET){c=createjs.RequestUtils.buildPath(p.src,p.values)}else{c=p.src}o.open(p.method||createjs.AbstractLoader.GET,c,true);if(d&&o instanceof XMLHttpRequest&&this._xhrLevel==1){g.Origin=location.origin}if(p.values&&p.method==createjs.AbstractLoader.POST){g["Content-Type"]="application/x-www-form-urlencoded"}if(!d&&!g["X-Requested-With"]){g["X-Requested-With"]="XMLHttpRequest"}if(p.headers){for(var f in p.headers){g[f]=p.headers[f]}}for(f in g){o.setRequestHeader(f,g[f])}if(o instanceof XMLHttpRequest&&p.withCredentials!==undefined){o.withCredentials=p.withCredentials}this._request=o;return true};b._clean=function(){clearTimeout(this._loadTimeout);this._request.removeEventListener("loadstart",this._handleLoadStartProxy);this._request.removeEventListener("progress",this._handleProgressProxy);this._request.removeEventListener("abort",this._handleAbortProxy);this._request.removeEventListener("error",this._handleErrorProxy);this._request.removeEventListener("timeout",this._handleTimeoutProxy);this._request.removeEventListener("load",this._handleLoadProxy);this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)};b.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(a,"AbstractRequest")}());this.createjs=this.createjs||{};(function(){function c(e,d){this.AbstractMediaLoader_constructor(e,d,createjs.AbstractLoader.SOUND);if(createjs.RequestUtils.isAudioTag(e)){this._tag=e}else{if(createjs.RequestUtils.isAudioTag(e.src)){this._tag=e}else{if(createjs.RequestUtils.isAudioTag(e.tag)){this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src}}}if(this._tag!=null){this._preferXHR=false}}var b=createjs.extend(c,createjs.AbstractMediaLoader);var a=c;a.canLoadItem=function(d){return d.type==createjs.AbstractLoader.SOUND};b._createTag=function(e){var d=document.createElement("audio");d.autoplay=false;d.preload="none";d.src=e;return d};createjs.SoundLoader=createjs.promote(c,"AbstractMediaLoader")}());this.createjs=this.createjs||{};(function(){function a(){throw"Sound cannot be instantiated"}var c=a;c.INTERRUPT_ANY="any";c.INTERRUPT_EARLY="early";c.INTERRUPT_LATE="late";c.INTERRUPT_NONE="none";c.PLAY_INITED="playInited";c.PLAY_SUCCEEDED="playSucceeded";c.PLAY_INTERRUPTED="playInterrupted";c.PLAY_FINISHED="playFinished";c.PLAY_FAILED="playFailed";c.SUPPORTED_EXTENSIONS=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];c.EXTENSION_MAP={m4a:"mp4"};c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;c.defaultInterruptBehavior=c.INTERRUPT_NONE;c.alternateExtensions=[];c.activePlugin=null;c._pluginsRegistered=false;c._lastID=0;c._masterVolume=1;c._masterMute=false;c._instances=[];c._idHash={};c._preloadHash={};c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}};c._handleLoadComplete=function(h){var j=h.target.getItem().src;if(!c._preloadHash[j]){return}for(var f=0,e=c._preloadHash[j].length;f<e;f++){var g=c._preloadHash[j][f];c._preloadHash[j][f]=true;if(!c.hasEventListener("fileload")){continue}var h=new createjs.Event("fileload");h.src=g.src;h.id=g.id;h.data=g.data;h.sprite=g.sprite;c.dispatchEvent(h)}};c._handleLoadError=function(h){var j=h.target.getItem().src;if(!c._preloadHash[j]){return}for(var f=0,e=c._preloadHash[j].length;f<e;f++){var g=c._preloadHash[j][f];c._preloadHash[j][f]=false;if(!c.hasEventListener("fileerror")){continue}var h=new createjs.Event("fileerror");h.src=g.src;h.id=g.id;h.data=g.data;h.sprite=g.sprite;c.dispatchEvent(h)}};c._registerPlugin=function(e){if(e.isSupported()){c.activePlugin=new e();return true}return false};c.registerPlugins=function(f){c._pluginsRegistered=true;for(var g=0,e=f.length;g<e;g++){if(c._registerPlugin(f[g])){return true}}return false};c.initializeDefaultPlugins=function(){if(c.activePlugin!=null){return true}if(c._pluginsRegistered){return false}if(c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])){return true}return false};c.isReady=function(){return(c.activePlugin!=null)};c.getCapabilities=function(){if(c.activePlugin==null){return null}return c.activePlugin._capabilities};c.getCapability=function(e){if(c.activePlugin==null){return null}return c.activePlugin._capabilities[e]};c.initLoad=function(e){return c._registerSound(e)};c._registerSound=function(l){if(!c.initializeDefaultPlugins()){return false}var h=c._parsePath(l.src);if(h==null){return false}l.src=h.src;l.type="sound";var k=l.data;var g=c.activePlugin.defaultNumChannels||null;if(k!=null){if(!isNaN(k.channels)){g=parseInt(k.channels)}else{if(!isNaN(k)){g=parseInt(k)}}if(k.audioSprite){var j;for(var f=k.audioSprite.length;f--;){j=k.audioSprite[f];c._idHash[j.id]={src:l.src,startTime:parseInt(j.startTime),duration:parseInt(j.duration)}}}}if(l.id!=null){c._idHash[l.id]={src:l.src}}var e=c.activePlugin.register(l,g);b.create(l.src,g);if(k==null||!isNaN(k)){l.data=g||b.maxPerChannel()}else{l.data.channels=g||b.maxPerChannel()}if(e.type){l.type=e.type}return e};c.registerSound=function(g,j,f,i){var h={src:g,id:j,data:f};if(g instanceof Object){i=j;h=g}h=createjs.LoadItem.create(h);if(i!=null){h.src=i+g}var e=c._registerSound(h);if(!e){return false}if(!c._preloadHash[h.src]){c._preloadHash[h.src]=[]}c._preloadHash[h.src].push(h);if(c._preloadHash[h.src].length==1){e.on("complete",createjs.proxy(this._handleLoadComplete,this));e.on("error",createjs.proxy(this._handleLoadError,this));c.activePlugin.preload(e)}else{if(c._preloadHash[h.src][0]==true){return true}}return h};c.registerSounds=function(f,j){var e=[];if(f.path){if(!j){j=f.path}else{j=j+f.path}}for(var h=0,g=f.length;h<g;h++){e[h]=createjs.Sound.registerSound(f[h].src,f[h].id,f[h].data,j)}return e};c.registerManifest=function(f,g){try{console.log("createjs.Sound.registerManifest is deprecated, please use createjs.Sound.registerSounds.")}catch(e){}return this.registerSounds(f,g)};c.removeSound=function(f,h){if(c.activePlugin==null){return false}if(f instanceof Object){f=f.src}f=c._getSrcById(f).src;if(h!=null){f=h+f}var e=c._parsePath(f);if(e==null){return false}f=e.src;for(var g in c._idHash){if(c._idHash[g].src==f){delete (c._idHash[g])}}b.removeSrc(f);delete (c._preloadHash[f]);c.activePlugin.removeSound(f);return true};c.removeSounds=function(f,j){var e=[];if(f.path){if(!j){j=f.path}else{j=j+f.path}}for(var h=0,g=f.length;h<g;h++){e[h]=createjs.Sound.removeSound(f[h].src,j)}return e};c.removeManifest=function(f,g){try{console.log("createjs.Sound.removeManifest is deprecated, please use createjs.Sound.removeSounds.")}catch(e){}return c.removeSounds(f,g)};c.removeAllSounds=function(){c._idHash={};c._preloadHash={};b.removeAll();if(c.activePlugin){c.activePlugin.removeAllSounds()}};c.loadComplete=function(f){if(!c.isReady()){return false}var e=c._parsePath(f);if(e){f=c._getSrcById(e.src).src}else{f=c._getSrcById(f).src}return(c._preloadHash[f][0]==true)};c._parsePath=function(k){if(typeof(k)!="string"){k=k.toString()}var g=k.match(c.FILE_PATTERN);if(g==null){return false}var f=g[4];var j=g[5];var l=c.getCapabilities();var h=0;while(!l[j]){j=c.alternateExtensions[h++];if(h>c.alternateExtensions.length){return null}}k=k.replace("."+g[5],"."+j);var e={name:f,src:k,extension:j};return e};c.play=function(e,i,j,h,l,k,n,f,g){if(i instanceof Object){j=i.delay;h=i.offset;l=i.loop;k=i.volume;n=i.pan;f=i.startTime;g=i.duration;i=i.interrupt}var o=c.createInstance(e,f,g);var m=c._playInstance(o,i,j,h,l,k,n);if(!m){o._playFailed()}return o};c.createInstance=function(i,g,h){if(!c.initializeDefaultPlugins()){return new createjs.DefaultSoundInstance(i,g,h)}i=c._getSrcById(i);var f=c._parsePath(i.src);var e=null;if(f!=null&&f.src!=null){b.create(f.src);if(g==null){g=i.startTime}e=c.activePlugin.create(f.src,g,h||i.duration)}else{e=new createjs.DefaultSoundInstance(i,g,h)}e.uniqueId=c._lastID++;return e};c.setVolume=function(g){if(Number(g)==null){return false}g=Math.max(0,Math.min(1,g));c._masterVolume=g;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(g)){var h=this._instances;for(var f=0,e=h.length;f<e;f++){h[f].setMasterVolume(g)}}};c.getVolume=function(){return c._masterVolume};c.setMute=function(g){if(g==null){return false}this._masterMute=g;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(g)){var h=this._instances;for(var f=0,e=h.length;f<e;f++){h[f].setMasterMute(g)}}return true};c.getMute=function(){return this._masterMute};c.stop=function(){var f=this._instances;for(var e=f.length;e--;){f[e].stop()}};c._playInstance=function(m,f,g,e,i,h,l){if(f instanceof Object){g=f.delay;e=f.offset;i=f.loop;h=f.volume;l=f.pan;f=f.interrupt}f=f||c.defaultInterruptBehavior;if(g==null){g=0}if(e==null){e=m.getPosition()}if(i==null){i=m.loop}if(h==null){h=m.volume}if(l==null){l=m.pan}if(g==0){var k=c._beginPlaying(m,f,e,i,h,l);if(!k){return false}}else{var j=setTimeout(function(){c._beginPlaying(m,f,e,i,h,l)},g);m.delayTimeoutId=j}this._instances.push(m);return true};c._beginPlaying=function(f,l,k,g,i,j){if(!b.add(f,l)){return false}var e=f._beginPlaying(k,g,i,j);if(!e){var h=createjs.indexOf(this._instances,f);if(h>-1){this._instances.splice(h,1)}return false}return true};c._getSrcById=function(e){return c._idHash[e]||{src:e}};c._playFinished=function(e){b.remove(e);var f=createjs.indexOf(this._instances,e);if(f>-1){this._instances.splice(f,1)}};createjs.Sound=a;function b(f,e){this.init(f,e)}b.channels={};b.create=function(g,e){var f=b.get(g);if(f==null){b.channels[g]=new b(g,e);return true}return false};b.removeSrc=function(f){var e=b.get(f);if(e==null){return false}e._removeAll();delete (b.channels[f]);return true};b.removeAll=function(){for(var e in b.channels){b.channels[e]._removeAll()}b.channels={}};b.add=function(e,g){var f=b.get(e.src);if(f==null){return false}return f._add(e,g)};b.remove=function(e){var f=b.get(e.src);if(f==null){return false}f._remove(e);return true};b.maxPerChannel=function(){return d.maxDefault};b.get=function(e){return b.channels[e]};var d=b.prototype;d.constructor=b;d.src=null;d.max=null;d.maxDefault=100;d.length=0;d.init=function(f,e){this.src=f;this.max=e||this.maxDefault;if(this.max==-1){this.max=this.maxDefault}this._instances=[]};d._get=function(e){return this._instances[e]};d._add=function(e,f){if(!this._getSlot(f,e)){return false}this._instances.push(e);this.length++;return true};d._remove=function(e){var f=createjs.indexOf(this._instances,e);if(f==-1){return false}this._instances.splice(f,1);this.length--;return true};d._removeAll=function(){for(var e=this.length-1;e>=0;e--){this._instances[e].stop()}};d._getSlot=function(k,e){var j,h;if(k!=a.INTERRUPT_NONE){h=this._get(0);if(h==null){return true}}for(var g=0,f=this.max;g<f;g++){j=this._get(g);if(j==null){return true}if(j.playState==a.PLAY_FINISHED||j.playState==a.PLAY_INTERRUPTED||j.playState==a.PLAY_FAILED){h=j;break}if(k==a.INTERRUPT_NONE){continue}if((k==a.INTERRUPT_EARLY&&j.getPosition()<h.getPosition())||(k==a.INTERRUPT_LATE&&j.getPosition()>h.getPosition())){h=j}}if(h!=null){h._interrupt();this._remove(h);return true}return false};d.toString=function(){return"[Sound SoundChannel]"}}());this.createjs=this.createjs||{};(function(){var a=function(f,d,e,c){this.EventDispatcher_constructor();this.src=f;this.uniqueId=-1;this.playState=null;this.delayTimeoutId=null;this._startTime=Math.max(0,d||0);this._volume=1;if(createjs.definePropertySupported){Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume})}this._pan=0;if(createjs.definePropertySupported){Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan})}this._duration=Math.max(0,e||0);if(createjs.definePropertySupported){Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration})}this._playbackResource=null;if(createjs.definePropertySupported){Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource})}if(c!==false&&c!==true){this.setPlaybackResource(c)}this._position=0;if(createjs.definePropertySupported){Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition})}this._loop=0;if(createjs.definePropertySupported){Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop})}this._muted=false;if(createjs.definePropertySupported){Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted})}this._paused=false;if(createjs.definePropertySupported){Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})}};var b=createjs.extend(a,createjs.EventDispatcher);b.play=function(h,d,g,c,e,f){if(this.playState==createjs.Sound.PLAY_SUCCEEDED){if(h instanceof Object){g=h.offset;c=h.loop;e=h.volume;f=h.pan}if(g!=null){this.setPosition(g)}if(c!=null){this.setLoop(c)}if(e!=null){this.setVolume(e)}if(f!=null){this.setPan(f)}if(this._paused){this.setPaused(false)}return}this._cleanUp();createjs.Sound._playInstance(this,h,d,g,c,e,f);return this};b.pause=function(){if(this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED){return false}this.setPaused(true);return true};b.resume=function(){if(!this._paused){return false}this.setPaused(false);return true};b.stop=function(){this._position=0;this._paused=false;this._handleStop();this._cleanUp();this.playState=createjs.Sound.PLAY_FINISHED;return this};b.destroy=function(){this._cleanUp();this.src=null;this.playbackResource=null;this.removeAllEventListeners()};b.toString=function(){return"[AbstractSoundInstance]"};b.getPaused=function(){return this._paused};b.setPaused=function(c){if((c!==true&&c!==false)||this._paused==c){return}if(c==true&&this.playState!=createjs.Sound.PLAY_SUCCEEDED){return}this._paused=c;if(c){this._pause()}else{this._resume()}clearTimeout(this.delayTimeoutId);return this};b.setVolume=function(c){if(c==this._volume){return this}this._volume=Math.max(0,Math.min(1,c));if(!this._muted){this._updateVolume()}return this};b.getVolume=function(){return this._volume};b.setMute=function(c){this.setMuted(c)};b.getMute=function(){return this._muted};b.setMuted=function(c){if(c!==true&&c!==false){return}this._muted=c;this._updateVolume();return this};b.getMuted=function(){return this._muted};b.setPan=function(c){if(c==this._pan){return this}this._pan=Math.max(-1,Math.min(1,c));this._updatePan();return this};b.getPan=function(){return this._pan};b.getPosition=function(){if(!this._paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED){return this._calculateCurrentPosition()}return this._position};b.setPosition=function(c){this._position=Math.max(0,c);if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this._updatePosition()}return this};b.getDuration=function(){return this._duration};b.setDuration=function(c){if(c==this._duration){return this}this._duration=Math.max(0,c||0);this._updateDuration();return this};b.setPlaybackResource=function(c){this._playbackResource=c;if(this._duration==0){this._setDurationFromSource()}return this};b.getPlaybackResource=function(){return this._playbackResource};b.getLoop=function(){return this._loop};b.setLoop=function(c){if(this._playbackResource!=null){if(this._loop!=0&&c==0){this._removeLooping(c)}if(this._loop==0&&c!=0){this._addLooping(c)}}this._loop=c};b._sendEvent=function(c){var d=new createjs.Event(c);this.dispatchEvent(d)};b._cleanUp=function(){clearTimeout(this.delayTimeoutId);this._handleCleanUp();this._paused=false;createjs.Sound._playFinished(this)};b._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._sendEvent("interrupted")};b._beginPlaying=function(f,c,d,e){this.setPosition(f);this.setLoop(c);this.setVolume(d);this.setPan(e);if(this._playbackResource!=null&&this._position<this._duration){this._paused=false;this._handleSoundReady();this.playState=createjs.Sound.PLAY_SUCCEEDED;this._sendEvent("succeeded");return true}else{this._playFailed();return false}};b._playFailed=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_FAILED;this._sendEvent("failed")};b._handleSoundComplete=function(c){this._position=0;if(this._loop!=0){this._loop--;this._handleLoop();this._sendEvent("loop");return}this._cleanUp();this.playState=createjs.Sound.PLAY_FINISHED;this._sendEvent("complete")};b._handleSoundReady=function(){};b._updateVolume=function(){};b._updatePan=function(){};b._updateDuration=function(){};b._setDurationFromSource=function(){};b._calculateCurrentPosition=function(){};b._updatePosition=function(){};b._removeLooping=function(){};b._addLooping=function(){};b._pause=function(){};b._resume=function(){};b._handleStop=function(){};b._handleCleanUp=function(){};b._handleLoop=function(){};createjs.AbstractSoundInstance=createjs.promote(a,"EventDispatcher");createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}());this.createjs=this.createjs||{};(function(){var a=function(){this._capabilities=null;this._loaders={};this._audioSources={};this._soundInstances={};this._loaderClass;this._soundInstanceClass};var b=a.prototype;a._capabilities=null;a.isSupported=function(){return true};b.register=function(e,d){this._audioSources[e.src]=true;this._soundInstances[e.src]=[];if(this._loaders[e.src]){return this._loaders[e.src]}var c=new this._loaderClass(e);c.on("complete",createjs.proxy(this._handlePreloadComplete,this));this._loaders[e.src]=c;return c};b.preload=function(c){c.on("error",createjs.proxy(this._handlePreloadError,this));c.load()};b.isPreloadStarted=function(c){return(this._audioSources[c]!=null)};b.isPreloadComplete=function(c){return(!(this._audioSources[c]==null||this._audioSources[c]==true))};b.removeSound=function(e){if(!this._soundInstances[e]){return}for(var c=this._soundInstances[e].length;c--;){var d=this._soundInstances[e][c];d.destroy()}delete (this._soundInstances[e]);delete (this._audioSources[e]);if(this._loaders[e]){this._loaders[e].destroy()}delete (this._loaders[e])};b.removeAllSounds=function(){for(var c in this._audioSources){this.removeSound(c)}};b.create=function(f,d,e){if(!this.isPreloadStarted(f)){this.preload(this.register(f))}var c=new this._soundInstanceClass(f,d,e,this._audioSources[f]);this._soundInstances[f].push(c);return c};b.setVolume=function(c){this._volume=c;this._updateVolume();return true};b.getVolume=function(){return this._volume};b.setMute=function(c){this._updateVolume();return true};b.toString=function(){return"[AbstractPlugin]"};b._handlePreloadComplete=function(f){var g=f.target.getItem().src;this._audioSources[g]=f.result;for(var d=0,c=this._soundInstances[g].length;d<c;d++){var e=this._soundInstances[g][d];e.setPlaybackResource(this._audioSources[g])}};b._handlePreloadError=function(c){};b._updateVolume=function(){};createjs.AbstractPlugin=a}());this.createjs=this.createjs||{};(function(){function b(c){this.AbstractLoader_constructor(c,true,createjs.AbstractLoader.SOUND)}var a=createjs.extend(b,createjs.AbstractLoader);b.context=null;a.toString=function(){return"[WebAudioLoader]"};a._createRequest=function(){this._request=new createjs.XHRRequest(this._item,false);this._request.setResponseType("arraybuffer")};a._sendComplete=function(c){b.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._handleError,this))};a._handleAudioDecoded=function(c){this._result=c;this.AbstractLoader__sendComplete()};createjs.WebAudioLoader=createjs.promote(b,"AbstractLoader")}());this.createjs=this.createjs||{};(function(){function b(g,e,f,d){this.AbstractSoundInstance_constructor(g,e,f,d);this.gainNode=a.context.createGain();this.panNode=a.context.createPanner();this.panNode.panningModel=a._panningModel;this.panNode.connect(this.gainNode);this.sourceNode=null;this._soundCompleteTimeout=null;this._sourceNodeNext=null;this._playbackStartTime=0;this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var c=createjs.extend(b,createjs.AbstractSoundInstance);var a=b;a.context=null;a.destinationNode=null;a._panningModel="equalpower";c.destroy=function(){this.AbstractSoundInstance_destroy();this.panNode.disconnect(0);this.panNode=null;this.gainNode.disconnect(0);this.gainNode=null};c.toString=function(){return"[WebAudioSoundInstance]"};c._updatePan=function(){this.panNode.setPosition(this._pan,0,-0.5)};c._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)};c._addLooping=function(){if(this.playState!=createjs.Sound.PLAY_SUCCEEDED){return}this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0)};c._setDurationFromSource=function(){this._duration=this.playbackResource.duration*1000};c._handleCleanUp=function(){if(this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)}if(this.gainNode.numberOfOutputs!=0){this.gainNode.disconnect(0)}clearTimeout(this._soundCompleteTimeout);this._playbackStartTime=0};c._cleanUpAudioNode=function(d){if(d){d.stop(0);d.disconnect(0);d=null}return d};c._handleSoundReady=function(e){this.gainNode.connect(a.destinationNode);var d=this._duration*0.001;var f=this._position*0.001;this.sourceNode=this._createAndPlayAudioNode((a.context.currentTime-d),f);this._playbackStartTime=this.sourceNode.startTime-f;this._soundCompleteTimeout=setTimeout(this._endedHandler,(d-f)*1000);if(this._loop!=0){this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0)}};c._createAndPlayAudioNode=function(f,g){var d=a.context.createBufferSource();d.buffer=this.playbackResource;d.connect(this.panNode);var e=this._duration*0.001;d.startTime=f+e;d.start(d.startTime,g+(this._startTime*0.001),e-g);return d};c._pause=function(){this._position=(a.context.currentTime-this._playbackStartTime)*1000;this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);if(this.gainNode.numberOfOutputs!=0){this.gainNode.disconnect(0)}clearTimeout(this._soundCompleteTimeout)};c._resume=function(){this._handleSoundReady()};c._updateVolume=function(){var d=this._muted?0:this._volume;if(d!=this.gainNode.gain.value){this.gainNode.gain.value=d}};c._calculateCurrentPosition=function(){return((a.context.currentTime-this._playbackStartTime)*1000)};c._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);clearTimeout(this._soundCompleteTimeout);if(!this._paused){this._handleSoundReady()}};c._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode);this.sourceNode=this._sourceNodeNext;this._playbackStartTime=this.sourceNode.startTime;this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0);this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)};c._updateDuration=function(){this._pause();this._resume()};createjs.WebAudioSoundInstance=createjs.promote(b,"AbstractSoundInstance")}());this.createjs=this.createjs||{};(function(){function a(){this.AbstractPlugin_constructor();this._panningModel=b._panningModel;this._volume=1;this.context=b.context;this.dynamicsCompressorNode=this.context.createDynamicsCompressor();this.dynamicsCompressorNode.connect(this.context.destination);this.gainNode=this.context.createGain();this.gainNode.connect(this.dynamicsCompressorNode);createjs.WebAudioSoundInstance.destinationNode=this.gainNode;this._capabilities=b._capabilities;this._loaderClass=createjs.WebAudioLoader;this._soundInstanceClass=createjs.WebAudioSoundInstance;this._addPropsToClasses()}var c=createjs.extend(a,createjs.AbstractPlugin);var b=a;b._capabilities=null;b._panningModel="equalpower";b.context=null;b.isSupported=function(){var d=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;if(location.protocol=="file:"&&!d&&!this._isFileXHRSupported()){return false}b._generateCapabilities();if(b.context==null){return false}return true};b.playEmptySound=function(){var d=b.context.createBufferSource();d.buffer=b.context.createBuffer(1,1,22050);d.connect(b.context.destination);d.start(0,0,0)};b._isFileXHRSupported=function(){var d=true;var f=new XMLHttpRequest();try{f.open("GET","WebAudioPluginTest.fail",false)}catch(e){d=false;return d}f.onerror=function(){d=false};f.onload=function(){d=this.status==404||(this.status==200||(this.status==0&&this.response!=""))};try{f.send()}catch(e){d=false}return d};b._generateCapabilities=function(){if(b._capabilities!=null){return}var g=document.createElement("audio");if(g.canPlayType==null){return null}if(b.context==null){if(window.AudioContext){b.context=new AudioContext()}else{if(window.webkitAudioContext){b.context=new webkitAudioContext()}else{return null}}}b._compatibilitySetUp();b.playEmptySound();b._capabilities={panning:true,volume:true,tracks:-1};var k=createjs.Sound.SUPPORTED_EXTENSIONS;var j=createjs.Sound.EXTENSION_MAP;for(var f=0,d=k.length;f<d;f++){var h=k[f];var e=j[h]||h;b._capabilities[h]=(g.canPlayType("audio/"+h)!="no"&&g.canPlayType("audio/"+h)!="")||(g.canPlayType("audio/"+e)!="no"&&g.canPlayType("audio/"+e)!="")}if(b.context.destination.numberOfChannels<2){b._capabilities.panning=false}};b._compatibilitySetUp=function(){b._panningModel="equalpower";if(b.context.createGain){return}b.context.createGain=b.context.createGainNode;var d=b.context.createBufferSource();d.__proto__.start=d.__proto__.noteGrainOn;d.__proto__.stop=d.__proto__.noteOff;b._panningModel=0};c.toString=function(){return"[WebAudioPlugin]"};c._addPropsToClasses=function(){var d=this._soundInstanceClass;d.context=this.context;d.destinationNode=this.gainNode;d._panningModel=this._panningModel;this._loaderClass.context=this.context};c._updateVolume=function(){var d=createjs.Sound._masterMute?0:this._volume;if(d!=this.gainNode.gain.value){this.gainNode.gain.value=d}};createjs.WebAudioPlugin=createjs.promote(a,"AbstractPlugin")}());this.createjs=this.createjs||{};(function(){function a(d){this.src=d;this.length=0;this.available=0;this.tags=[];this.duration=0}var c=a.prototype;c.constructor=a;var b=a;b.tags={};b.get=function(e){var d=b.tags[e];if(d==null){d=b.tags[e]=new a(e)}return d};b.remove=function(e){var d=b.tags[e];if(d==null){return false}d.removeAll();delete (b.tags[e]);return true};b.getInstance=function(e){var d=b.tags[e];if(d==null){return null}return d.get()};b.setInstance=function(f,d){var e=b.tags[f];if(e==null){return null}return e.set(d)};b.getDuration=function(e){var d=b.tags[e];if(d==null){return 0}return d.getDuration()};c.add=function(d){this.tags.push(d);this.length++;this.available++};c.removeAll=function(){var d;while(this.length--){d=this.tags[this.length];if(d.parentNode){d.parentNode.removeChild(d)}delete (this.tags[this.length])}this.src=null;this.tags.length=0};c.get=function(){if(this.tags.length==0){return null}this.available=this.tags.length;var d=this.tags.pop();if(d.parentNode==null){document.body.appendChild(d)}return d};c.set=function(d){var e=createjs.indexOf(this.tags,d);if(e==-1){this.tags.push(d)}this.available=this.tags.length};c.getDuration=function(){if(!this.duration){this.duration=this.tags[this.tags.length-1].duration*1000}return this.duration};c.toString=function(){return"[HTMLAudioTagPool]"};createjs.HTMLAudioTagPool=a}());this.createjs=this.createjs||{};(function(){function a(f,d,e,c){this.AbstractSoundInstance_constructor(f,d,e,c);this._audioSpriteStopTime=null;this._delayTimeoutId=null;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleTagReady,this);this._stalledHandler=createjs.proxy(this.playFailed,this);this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this);this._loopHandler=createjs.proxy(this._handleSoundComplete,this);if(e){this._audioSpriteStopTime=(d+e)*0.001}else{this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}}var b=createjs.extend(a,createjs.AbstractSoundInstance);b.setMasterVolume=function(c){this._updateVolume()};b.setMasterMute=function(c){this._updateVolume()};b.toString=function(){return"[HTMLAudioSoundInstance]"};b._removeLooping=function(){if(this._playbackResource==null){return}this._playbackResource.loop=false;this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false)};b._addLooping=function(){if(this._playbackResource==null||this._audioSpriteStopTime){return}this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);this._playbackResource.loop=true};b._handleCleanUp=function(){var c=this._playbackResource;if(c!=null){c.pause();c.loop=false;c.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);c.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);c.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);c.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);c.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false);try{c.currentTime=this._startTime}catch(d){}createjs.HTMLAudioTagPool.setInstance(this.src,c);this._playbackResource=null}};b._beginPlaying=function(f,c,d,e){this._playbackResource=createjs.HTMLAudioTagPool.getInstance(this.src);return this.AbstractSoundInstance__beginPlaying(f,c,d,e)};b._handleSoundReady=function(d){if(this._playbackResource.readyState!==4){var c=this._playbackResource;c.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);c.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);c.preload="auto";c.load();return}this._updateVolume();this._playbackResource.currentTime=(this._startTime+this._position)*0.001;if(this._audioSpriteStopTime){this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false)}else{this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);if(this._loop!=0){this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);this._playbackResource.loop=true}}this._playbackResource.play()};b._handleTagReady=function(c){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,false);this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,false);this._handleSoundReady()};b._pause=function(){this._playbackResource.pause()};b._resume=function(){this._playbackResource.play()};b._updateVolume=function(){if(this._playbackResource!=null){var c=(this._muted||createjs.Sound._masterMute)?0:this._volume*createjs.Sound._masterVolume;if(c!=this._playbackResource.volume){this._playbackResource.volume=c}}};b._calculateCurrentPosition=function(){return(this._playbackResource.currentTime*1000)-this._startTime};b._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,false);try{this._playbackResource.currentTime=(this._position+this._startTime)*0.001}catch(c){this._handleSetPositionSeek(null)}};b._handleSetPositionSeek=function(c){if(this._playbackResource==null){return}this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false)};b._handleAudioSpriteLoop=function(c){if(this._playbackResource.currentTime<=this._audioSpriteStopTime){return}this._playbackResource.pause();if(this._loop==0){this._handleSoundComplete(null)}else{this._position=0;this._loop--;this._playbackResource.currentTime=this._startTime*0.001;if(!this._paused){this._playbackResource.play()}this._sendEvent("loop")}};b._handleLoop=function(c){if(this._loop==0){this._playbackResource.loop=false;this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,false)}};b._updateDuration=function(){this._audioSpriteStopTime=(startTime+duration)*0.001;if(this.playState==createjs.Sound.PLAY_SUCCEEDED){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,false);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,false)}};createjs.HTMLAudioSoundInstance=createjs.promote(a,"AbstractSoundInstance")}());this.createjs=this.createjs||{};(function(){function c(){this.AbstractPlugin_constructor();this.defaultNumChannels=2;this._capabilities=a._capabilities;this._loaderClass=createjs.SoundLoader;this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var b=createjs.extend(c,createjs.AbstractPlugin);var a=c;a.MAX_INSTANCES=30;a._AUDIO_READY="canplaythrough";a._AUDIO_ENDED="ended";a._AUDIO_SEEKED="seeked";a._AUDIO_STALLED="stalled";a._TIME_UPDATE="timeupdate";a._capabilities=null;a.enableIOS=false;a.isSupported=function(){a._generateCapabilities();if(a._capabilities==null){return false}return true};a._generateCapabilities=function(){if(a._capabilities!=null){return}var g=document.createElement("audio");if(g.canPlayType==null){return null}a._capabilities={panning:true,volume:true,tracks:-1};var k=createjs.Sound.SUPPORTED_EXTENSIONS;var j=createjs.Sound.EXTENSION_MAP;for(var f=0,d=k.length;f<d;f++){var h=k[f];var e=j[h]||h;a._capabilities[h]=(g.canPlayType("audio/"+h)!="no"&&g.canPlayType("audio/"+h)!="")||(g.canPlayType("audio/"+e)!="no"&&g.canPlayType("audio/"+e)!="")}};b.register=function(j,h){var g=createjs.HTMLAudioTagPool.get(j.src);var e=null;for(var f=0;f<h;f++){e=this._createTag(j.src);g.add(e)}var d=this.AbstractPlugin_register(j,h);d.setTag(e);return d};b.removeSound=function(d){this.AbstractPlugin_removeSound(d);createjs.HTMLAudioTagPool.remove(d)};b.create=function(g,e,f){var d=this.AbstractPlugin_create(g,e,f);d.setPlaybackResource(null);return d};b.toString=function(){return"[HTMLAudioPlugin]"};b.setVolume=b.getVolume=b.setMute=null;b._createTag=function(e){var d=document.createElement("audio");d.autoplay=false;d.preload="none";d.src=e;return d};createjs.HTMLAudioPlugin=createjs.promote(c,"AbstractPlugin")}());ig.baked=true;ig.module("lib.plugins.createjs.sound").defines();
/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2010 gskinner.com, inc.
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
this.createjs=this.createjs||{};createjs.extend=function(a,c){function b(){this.constructor=a}b.prototype=c.prototype;return(a.prototype=new b())};this.createjs=this.createjs||{};createjs.promote=function(b,d){var c=b.prototype,a=(Object.getPrototypeOf&&Object.getPrototypeOf(c))||c.__proto__;if(a){c[(d+="_")+"constructor"]=a.constructor;for(var e in a){if(c.hasOwnProperty(e)&&(typeof a[e]=="function")){c[d+e]=a[e]}}}return b};this.createjs=this.createjs||{};createjs.indexOf=function(d,b){for(var c=0,a=d.length;c<a;c++){if(b===d[c]){return c}}return -1};this.createjs=this.createjs||{};(function(){function a(e,d,c){this.type=e;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!d;this.cancelable=!!c;this.timeStamp=(new Date()).getTime();this.defaultPrevented=false;this.propagationStopped=false;this.immediatePropagationStopped=false;this.removed=false}var b=a.prototype;b.preventDefault=function(){this.defaultPrevented=this.cancelable&&true};b.stopPropagation=function(){this.propagationStopped=true};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=true};b.remove=function(){this.removed=true};b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};b.set=function(c){for(var d in c){this[d]=c[d]}return this};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a}());this.createjs=this.createjs||{};(function(){function a(){this._listeners=null;this._captureListeners=null}var b=a.prototype;a.initialize=function(c){c.addEventListener=b.addEventListener;c.on=b.on;c.removeEventListener=c.off=b.removeEventListener;c.removeAllEventListeners=b.removeAllEventListeners;c.hasEventListener=b.hasEventListener;c.dispatchEvent=b.dispatchEvent;c._dispatchEvent=b._dispatchEvent;c.willTrigger=b.willTrigger};b.addEventListener=function(f,g,d){var e;if(d){e=this._captureListeners=this._captureListeners||{}}else{e=this._listeners=this._listeners||{}}var c=e[f];if(c){this.removeEventListener(f,g,d)}c=e[f];if(!c){e[f]=[g]}else{c.push(g)}return g};b.on=function(f,h,e,d,g,c){if(h.handleEvent){e=e||h;h=h.handleEvent}e=e||this;return this.addEventListener(f,function(i){h.call(e,i,g);d&&i.remove()},c)};b.removeEventListener=function(h,j,d){var g=d?this._captureListeners:this._listeners;if(!g){return}var c=g[h];if(!c){return}for(var f=0,e=c.length;f<e;f++){if(c[f]==j){if(e==1){delete (g[h])}else{c.splice(f,1)}break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(c){if(!c){this._listeners=this._captureListeners=null}else{if(this._listeners){delete (this._listeners[c])}if(this._captureListeners){delete (this._captureListeners[c])}}};b.dispatchEvent=function(h){if(typeof h=="string"){var f=this._listeners;if(!f||!f[h]){return false}h=new createjs.Event(h)}else{if(h.target&&h.clone){h=h.clone()}}try{h.target=this}catch(k){}if(!h.bubbles||!this.parent){this._dispatchEvent(h,2)}else{var j=this,g=[j];while(j.parent){g.push(j=j.parent)}var d,c=g.length;for(d=c-1;d>=0&&!h.propagationStopped;d--){g[d]._dispatchEvent(h,1+(d==0))}for(d=1;d<c&&!h.propagationStopped;d++){g[d]._dispatchEvent(h,3)}}return h.defaultPrevented};b.hasEventListener=function(e){var d=this._listeners,c=this._captureListeners;return !!((d&&d[e])||(c&&c[e]))};b.willTrigger=function(c){var d=this;while(d){if(d.hasEventListener(c)){return true}d=d.parent}return false};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(j,f){var d,h=(f==1)?this._captureListeners:this._listeners;if(j&&h){var c=h[j.type];if(!c||!(d=c.length)){return}try{j.currentTarget=this}catch(k){}try{j.eventPhase=f}catch(k){}j.removed=false;c=c.slice();for(var g=0;g<d&&!j.immediatePropagationStopped;g++){var m=c[g];if(m.handleEvent){m.handleEvent(j)}else{m(j)}if(j.removed){this.off(j.type,m,f==1);j.removed=false}}}};createjs.EventDispatcher=a}());this.createjs=this.createjs||{};(function(){function c(){throw"Ticker cannot be instantiated."}c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=false;c.timingMode=null;c.maxDelta=0;c.paused=false;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){!c._inited&&c.init();return c._addEventListener.apply(c,arguments)};c._inited=false;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=true;c.setInterval=function(d){c._interval=d;if(!c._inited){return}c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(d){c.setInterval(1000/d)};c.getFPS=function(){return 1000/c._interval};try{Object.defineProperties(c,{interval:{get:c.getInterval,set:c.setInterval},framerate:{get:c.getFPS,set:c.setFPS}})}catch(b){console.log(b)}c.init=function(){if(c._inited){return}c._inited=true;c._times=[];c._tickTimes=[];c._startTime=c._getTime();c._times.push(c._lastTime=0);c.interval=c._interval};c.reset=function(){if(c._raf){var d=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;d&&d(c._timerId)}else{clearTimeout(c._timerId)}c.removeAllEventListeners("tick");c._timerId=c._times=c._tickTimes=null;c._startTime=c._lastTime=c._ticks=0;c._inited=false};c.getMeasuredTickTime=function(f){var d=0,g=c._tickTimes;if(!g||g.length<1){return -1}f=Math.min(g.length,f||(c.getFPS()|0));for(var e=0;e<f;e++){d+=g[e]}return d/f};c.getMeasuredFPS=function(d){var e=c._times;if(!e||e.length<2){return -1}d=Math.min(e.length-1,d||(c.getFPS()|0));return 1000/((e[0]-e[d])/d)};c.setPaused=function(d){c.paused=d};c.getPaused=function(){return c.paused};c.getTime=function(d){return c._startTime?c._getTime()-(d?c._pausedTime:0):-1};c.getEventTime=function(d){return c._startTime?(c._lastTime||c._startTime)-(d?c._pausedTime:0):-1};c.getTicks=function(d){return c._ticks-(d?c._pausedTicks:0)};c._handleSynch=function(){c._timerId=null;c._setupTick();if(c._getTime()-c._lastTime>=(c._interval-1)*0.97){c._tick()}};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(c._timerId!=null){return}var e=c.timingMode||(c.useRAF&&c.RAF_SYNCHED);if(e==c.RAF_SYNCHED||e==c.RAF){var d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(d){c._timerId=d(e==c.RAF?c._handleRAF:c._handleSynch);c._raf=true;return}}c._raf=false;c._timerId=setTimeout(c._handleTimeout,c._interval)};c._tick=function(){var f=c.paused;var h=c._getTime();var e=h-c._lastTime;c._lastTime=h;c._ticks++;if(f){c._pausedTicks++;c._pausedTime+=e}if(c.hasEventListener("tick")){var g=new createjs.Event("tick");var d=c.maxDelta;g.delta=(d&&e>d)?d:e;g.paused=f;g.time=h;g.runTime=h-c._pausedTime;c.dispatchEvent(g)}c._tickTimes.unshift(c._getTime()-h);while(c._tickTimes.length>100){c._tickTimes.pop()}c._times.unshift(h);while(c._times.length>100){c._times.pop()}};var a=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return((a&&a.call(performance))||(new Date().getTime()))-c._startTime};createjs.Ticker=c}());this.createjs=this.createjs||{};(function(){function a(){throw"UID cannot be instantiated"}a._nextID=0;a.get=function(){return a._nextID++};createjs.UID=a}());this.createjs=this.createjs||{};(function(){function a(m,l,f,k,j,h,g,i,e,d){this.Event_constructor(m,l,f);this.stageX=k;this.stageY=j;this.rawX=(e==null)?k:e;this.rawY=(d==null)?j:d;this.nativeEvent=h;this.pointerID=g;this.primary=!!i}var c=createjs.extend(a,createjs.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};c._get_isTouch=function(){return this.pointerID!==-1};try{Object.defineProperties(c,{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(b){}c.clone=function(){return new a(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(a,"Event")}());this.createjs=this.createjs||{};(function(){function b(h,f,j,i,g,e){this.setValues(h,f,j,i,g,e)}var a=b.prototype;b.DEG_TO_RAD=Math.PI/180;b.identity=null;a.setValues=function(h,f,j,i,g,e){this.a=(h==null)?1:h;this.b=f||0;this.c=j||0;this.d=(i==null)?1:i;this.tx=g||0;this.ty=e||0;return this};a.append=function(n,l,k,j,i,g){var f=this.a;var m=this.b;var h=this.c;var e=this.d;if(n!=1||l!=0||k!=0||j!=1){this.a=f*n+h*l;this.b=m*n+e*l;this.c=f*k+h*j;this.d=m*k+e*j}this.tx=f*i+h*g+this.tx;this.ty=m*i+e*g+this.ty;return this};a.prepend=function(m,l,k,j,i,g){var e=this.a;var h=this.c;var f=this.tx;this.a=m*e+k*this.b;this.b=l*e+j*this.b;this.c=m*h+k*this.d;this.d=l*h+j*this.d;this.tx=m*f+k*this.ty+i;this.ty=l*f+j*this.ty+g;return this};a.appendMatrix=function(c){return this.append(c.a,c.b,c.c,c.d,c.tx,c.ty)};a.prependMatrix=function(c){return this.prepend(c.a,c.b,c.c,c.d,c.tx,c.ty)};a.appendTransform=function(i,g,l,k,n,j,h,e,d){if(n%360){var c=n*b.DEG_TO_RAD;var m=Math.cos(c);var f=Math.sin(c)}else{m=1;f=0}if(j||h){j*=b.DEG_TO_RAD;h*=b.DEG_TO_RAD;this.append(Math.cos(h),Math.sin(h),-Math.sin(j),Math.cos(j),i,g);this.append(m*l,f*l,-f*k,m*k,0,0)}else{this.append(m*l,f*l,-f*k,m*k,i,g)}if(e||d){this.tx-=e*this.a+d*this.c;this.ty-=e*this.b+d*this.d}return this};a.prependTransform=function(i,g,l,k,n,j,h,e,d){if(n%360){var c=n*b.DEG_TO_RAD;var m=Math.cos(c);var f=Math.sin(c)}else{m=1;f=0}if(e||d){this.tx-=e;this.ty-=d}if(j||h){j*=b.DEG_TO_RAD;h*=b.DEG_TO_RAD;this.prepend(m*l,f*l,-f*k,m*k,0,0);this.prepend(Math.cos(h),Math.sin(h),-Math.sin(j),Math.cos(j),i,g)}else{this.prepend(m*l,f*l,-f*k,m*k,i,g)}return this};a.rotate=function(g){g=g*b.DEG_TO_RAD;var f=Math.cos(g);var d=Math.sin(g);var c=this.a;var e=this.b;this.a=c*f+this.c*d;this.b=e*f+this.d*d;this.c=-c*d+this.c*f;this.d=-e*d+this.d*f;return this};a.skew=function(d,c){d=d*b.DEG_TO_RAD;c=c*b.DEG_TO_RAD;this.append(Math.cos(c),Math.sin(c),-Math.sin(d),Math.cos(d),0,0);return this};a.scale=function(c,d){this.a*=c;this.b*=c;this.c*=d;this.d*=d;return this};a.translate=function(c,d){this.tx+=this.a*c+this.c*d;this.ty+=this.b*c+this.d*d;return this};a.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};a.invert=function(){var d=this.a;var e=this.b;var f=this.c;var g=this.d;var c=this.tx;var h=d*g-e*f;this.a=g/h;this.b=-e/h;this.c=-f/h;this.d=d/h;this.tx=(f*this.ty-g*c)/h;this.ty=-(d*this.ty-e*c)/h;return this};a.isIdentity=function(){return this.tx===0&&this.ty===0&&this.a===1&&this.b===0&&this.c===0&&this.d===1};a.equals=function(c){return this.tx===c.tx&&this.ty===c.ty&&this.a===c.a&&this.b===c.b&&this.c===c.c&&this.d===c.d};a.transformPoint=function(c,e,d){d=d||{};d.x=c*this.a+e*this.c+this.tx;d.y=c*this.b+e*this.d+this.ty;return d};a.decompose=function(e){if(e==null){e={}}e.x=this.tx;e.y=this.ty;e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var d=Math.atan2(-this.c,this.d);var c=Math.atan2(this.b,this.a);var f=Math.abs(1-d/c);if(f<0.00001){e.rotation=c/b.DEG_TO_RAD;if(this.a<0&&this.d>=0){e.rotation+=(e.rotation<=0)?180:-180}e.skewX=e.skewY=0}else{e.skewX=d/b.DEG_TO_RAD;e.skewY=c/b.DEG_TO_RAD}return e};a.copy=function(c){return this.setValues(c.a,c.b,c.c,c.d,c.tx,c.ty)};a.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)};a.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};b.identity=new b();createjs.Matrix2D=b}());this.createjs=this.createjs||{};(function(){function a(f,e,g,d,c){this.setValues(f,e,g,d,c)}var b=a.prototype;b.setValues=function(f,e,g,d,c){this.visible=f==null?true:!!f;this.alpha=e==null?1:e;this.shadow=g;this.compositeOperation=g;this.matrix=c||(this.matrix&&this.matrix.identity())||new createjs.Matrix2D();return this};b.append=function(f,e,g,d,c){this.alpha*=e;this.shadow=g||this.shadow;this.compositeOperation=d||this.compositeOperation;this.visible=this.visible&&f;c&&this.matrix.appendMatrix(c);return this};b.prepend=function(f,e,g,d,c){this.alpha*=e;this.shadow=this.shadow||g;this.compositeOperation=this.compositeOperation||d;this.visible=this.visible&&f;c&&this.matrix.prependMatrix(c);return this};b.identity=function(){this.visible=true;this.alpha=1;this.shadow=this.compositeOperation=null;this.matrix.identity();return this};b.clone=function(){return new a(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=a})();this.createjs=this.createjs||{};(function(){function a(c,d){this.setValues(c,d)}var b=a.prototype;b.setValues=function(c,d){this.x=c||0;this.y=d||0;return this};b.copy=function(c){this.x=c.x;this.y=c.y;return this};b.clone=function(){return new a(this.x,this.y)};b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=a}());this.createjs=this.createjs||{};(function(){function a(d,f,e,c){this.setValues(d,f,e,c)}var b=a.prototype;b.setValues=function(d,f,e,c){this.x=d||0;this.y=f||0;this.width=e||0;this.height=c||0;return this};b.extend=function(d,f,e,c){e=e||0;c=c||0;if(d+e>this.x+this.width){this.width=d+e-this.x}if(f+c>this.y+this.height){this.height=f+c-this.y}if(d<this.x){this.width+=this.x-d;this.x=d}if(f<this.y){this.height+=this.y-f;this.y=f}return this};b.pad=function(f,e,c,d){this.x-=f;this.y-=e;this.width+=f+c;this.height+=e+d;return this};b.copy=function(c){return this.setValues(c.x,c.y,c.width,c.height)};b.contains=function(d,f,e,c){e=e||0;c=c||0;return(d>=this.x&&d+e<=this.x+this.width&&f>=this.y&&f+c<=this.y+this.height)};b.union=function(c){return this.clone().extend(c.x,c.y,c.width,c.height)};b.intersection=function(g){var d=g.x,f=g.y,c=d+g.width,e=f+g.height;if(this.x>d){d=this.x}if(this.y>f){f=this.y}if(this.x+this.width<c){c=this.x+this.width}if(this.y+this.height<e){e=this.y+this.height}return(c<=d||e<=f)?null:new a(d,f,c-d,e-f)};b.intersects=function(c){return(c.x<=this.x+this.width&&this.x<=c.x+c.width&&c.y<=this.y+this.height&&this.y<=c.y+c.height)};b.isEmpty=function(){return this.width<=0||this.height<=0};b.clone=function(){return new a(this.x,this.y,this.width,this.height)};b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=a}());this.createjs=this.createjs||{};(function(){function a(g,h,e,d,f,j,i){if(!g.addEventListener){return}this.target=g;this.overLabel=e==null?"over":e;this.outLabel=h==null?"out":h;this.downLabel=d==null?"down":d;this.play=f;this._isPressed=false;this._isOver=false;this._enabled=false;g.mouseChildren=false;this.enabled=true;this.handleEvent({});if(j){if(i){j.actionsEnabled=false;j.gotoAndStop&&j.gotoAndStop(i)}g.hitArea=j}}var c=a.prototype;c.setEnabled=function(d){if(d==this._enabled){return}var e=this.target;this._enabled=d;if(d){e.cursor="pointer";e.addEventListener("rollover",this);e.addEventListener("rollout",this);e.addEventListener("mousedown",this);e.addEventListener("pressup",this)}else{e.cursor=null;e.removeEventListener("rollover",this);e.removeEventListener("rollout",this);e.removeEventListener("mousedown",this);e.removeEventListener("pressup",this)}};c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(b){}c.toString=function(){return"[ButtonHelper]"};c.handleEvent=function(d){var e,f=this.target,g=d.type;if(g=="mousedown"){this._isPressed=true;e=this.downLabel}else{if(g=="pressup"){this._isPressed=false;e=this._isOver?this.overLabel:this.outLabel}else{if(g=="rollover"){this._isOver=true;e=this._isPressed?this.downLabel:this.overLabel}else{this._isOver=false;e=this._isPressed?this.overLabel:this.outLabel}}}if(this.play){f.gotoAndPlay&&f.gotoAndPlay(e)}else{f.gotoAndStop&&f.gotoAndStop(e)}};createjs.ButtonHelper=a}());this.createjs=this.createjs||{};(function(){function b(d,c,f,e){this.color=d||"black";this.offsetX=c||0;this.offsetY=f||0;this.blur=e||0}var a=b.prototype;b.identity=new b("transparent",0,0,0);a.toString=function(){return"[Shadow]"};a.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=b}());this.createjs=this.createjs||{};(function(){function a(d){this.EventDispatcher_constructor();this.complete=true;this.framerate=0;this._animations=null;this._frames=null;this._images=null;this._data=null;this._loadCount=0;this._frameHeight=0;this._frameWidth=0;this._numFrames=0;this._regX=0;this._regY=0;this._spacing=0;this._margin=0;this._parseData(d)}var c=createjs.extend(a,createjs.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(b){}c.getNumFrames=function(e){if(e==null){return this._frames?this._frames.length:this._numFrames||0}else{var d=this._data[e];if(d==null){return 0}else{return d.frames.length}}};c.getAnimation=function(d){return this._data[d]};c.getFrame=function(e){var d;if(this._frames&&(d=this._frames[e])){return d}return null};c.getFrameBounds=function(f,d){var e=this.getFrame(f);return e?(d||new createjs.Rectangle()).setValues(-e.regX,-e.regY,e.rect.width,e.rect.height):null};c.toString=function(){return"[SpriteSheet]"};c.clone=function(){throw ("SpriteSheet cannot be cloned.")};c._parseData=function(k){var m,g,f,r;if(k==null){return}this.framerate=k.framerate||0;if(k.images&&(g=k.images.length)>0){r=this._images=[];for(m=0;m<g;m++){var n=k.images[m];if(typeof n=="string"){var d=n;n=document.createElement("img");n.src=d}r.push(n);if(!n.getContext&&!n.complete){this._loadCount++;this.complete=false;(function(i){n.onload=function(){i._handleImageLoad()}})(this)}}}if(k.frames==null){}else{if(k.frames instanceof Array){this._frames=[];r=k.frames;for(m=0,g=r.length;m<g;m++){var p=r[m];this._frames.push({image:this._images[p[4]?p[4]:0],rect:new createjs.Rectangle(p[0],p[1],p[2],p[3]),regX:p[5]||0,regY:p[6]||0})}}else{f=k.frames;this._frameWidth=f.width;this._frameHeight=f.height;this._regX=f.regX||0;this._regY=f.regY||0;this._spacing=f.spacing||0;this._margin=f.margin||0;this._numFrames=f.count;if(this._loadCount==0){this._calculateFrames()}}}this._animations=[];if((f=k.animations)!=null){this._data={};var e;for(e in f){var h={name:e};var j=f[e];if(typeof j=="number"){r=h.frames=[j]}else{if(j instanceof Array){if(j.length==1){h.frames=[j[0]]}else{h.speed=j[3];h.next=j[2];r=h.frames=[];for(m=j[0];m<=j[1];m++){r.push(m)}}}else{h.speed=j.speed;h.next=j.next;var q=j.frames;r=h.frames=(typeof q=="number")?[q]:q.slice(0)}}if(h.next===true||h.next===undefined){h.next=e}if(h.next===false||(r.length<2&&h.next==e)){h.next=null}if(!h.speed){h.speed=1}this._animations.push(e);this._data[e]=h}}};c._handleImageLoad=function(){if(--this._loadCount==0){this._calculateFrames();this.complete=true;this.dispatchEvent("complete")}};c._calculateFrames=function(){if(this._frames||this._frameWidth==0){return}this._frames=[];var l=this._numFrames||100000;var d=0,p=this._frameWidth,e=this._frameHeight;var n=this._spacing,g=this._margin;imgLoop:for(var j=0,k=this._images;j<k.length;j++){var h=k[j],m=h.width,f=h.height;var o=g;while(o<=f-g-e){var q=g;while(q<=m-g-p){if(d>=l){break imgLoop}d++;this._frames.push({image:h,rect:new createjs.Rectangle(q,o,p,e),regX:this._regX,regY:this._regY});q+=p+n}o+=e+n}}this._numFrames=d};createjs.SpriteSheet=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function b(){this.command=null;this._stroke=null;this._strokeStyle=null;this._strokeIgnoreScale=false;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=false;this._storeIndex=0;this.clear()}var f=b.prototype;var c=b;b.getRGB=function(i,h,e,j){if(i!=null&&e==null){j=h;e=i&255;h=i>>8&255;i=i>>16&255}if(j==null){return"rgb("+i+","+h+","+e+")"}else{return"rgba("+i+","+h+","+e+","+j+")"}};b.getHSL=function(e,g,i,h){if(h==null){return"hsl("+(e%360)+","+g+"%,"+i+"%)"}else{return"hsla("+(e%360)+","+g+"%,"+i+"%,"+h+")"}};b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,"1":53,"2":54,"3":55,"4":56,"5":57,"6":58,"7":59,"8":60,"9":61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));if(a.getContext){b._ctx=a.getContext("2d");a.width=a.height=1}f.getInstructions=function(){this._updateInstructions();return this._instructions};try{Object.defineProperties(f,{instructions:{get:f.getInstructions}})}catch(d){}f.isEmpty=function(){return !(this._instructions.length||this._activeInstructions.length)};f.draw=function(h,k){this._updateInstructions();var g=this._instructions;for(var j=this._storeIndex,e=g.length;j<e;j++){g[j].exec(h,k)}};f.drawAsPath=function(h){this._updateInstructions();var g,j=this._instructions;for(var k=this._storeIndex,e=j.length;k<e;k++){if((g=j[k]).path!==false){g.exec(h)}}};f.moveTo=function(e,g){return this.append(new c.MoveTo(e,g),true)};f.lineTo=function(e,g){return this.append(new c.LineTo(e,g))};f.arcTo=function(h,j,g,i,e){return this.append(new c.ArcTo(h,j,g,i,e))};f.arc=function(g,k,e,i,h,j){return this.append(new c.Arc(g,k,e,i,h,j))};f.quadraticCurveTo=function(h,g,e,i){return this.append(new c.QuadraticCurveTo(h,g,e,i))};f.bezierCurveTo=function(h,g,j,i,e,k){return this.append(new c.BezierCurveTo(h,g,j,i,e,k))};f.rect=function(e,j,g,i){return this.append(new c.Rect(e,j,g,i))};f.closePath=function(){return this._activeInstructions.length?this.append(new c.ClosePath()):this};f.clear=function(){this._instructions.length=this._activeInstructions.length=this._commitIndex=0;this._strokeStyle=this._stroke=this._fill=null;this._dirty=this._strokeIgnoreScale=false;return this};f.beginFill=function(e){return this._setFill(e?new c.Fill(e):null)};f.beginLinearGradientFill=function(e,k,h,j,g,i){return this._setFill(new c.Fill().linearGradient(e,k,h,j,g,i))};f.beginRadialGradientFill=function(e,m,j,l,i,h,k,g){return this._setFill(new c.Fill().radialGradient(e,m,j,l,i,h,k,g))};f.beginBitmapFill=function(h,g,e){return this._setFill(new c.Fill(null,e).bitmap(h,g))};f.endFill=function(){return this.beginFill()};f.setStrokeStyle=function(i,j,e,g,h){this._updateInstructions(true);this._strokeStyle=this.command=new c.StrokeStyle(i,j,e,g,h);if(this._stroke){this._stroke.ignoreScale=h}this._strokeIgnoreScale=h;return this};f.beginStroke=function(e){return this._setStroke(e?new c.Stroke(e):null)};f.beginLinearGradientStroke=function(e,k,h,j,g,i){return this._setStroke(new c.Stroke().linearGradient(e,k,h,j,g,i))};f.beginRadialGradientStroke=function(e,m,j,l,i,h,k,g){return this._setStroke(new c.Stroke().radialGradient(e,m,j,l,i,h,k,g))};f.beginBitmapStroke=function(g,e){return this._setStroke(new c.Stroke().bitmap(g,e))};f.endStroke=function(){return this.beginStroke()};f.curveTo=f.quadraticCurveTo;f.drawRect=f.rect;f.drawRoundRect=function(g,k,i,j,e){return this.drawRoundRectComplex(g,k,i,j,e,e,e,e)};f.drawRoundRectComplex=function(g,n,i,k,m,j,e,l){return this.append(new c.RoundRect(g,n,i,k,m,j,e,l))};f.drawCircle=function(g,h,e){return this.append(new c.Circle(g,h,e))};f.drawEllipse=function(e,j,g,i){return this.append(new c.Ellipse(e,j,g,i))};f.drawPolyStar=function(g,k,e,h,i,j){return this.append(new c.PolyStar(g,k,e,h,i,j))};f.append=function(g,e){this._activeInstructions.push(g);this.command=g;if(!e){this._dirty=true}return this};f.decodePath=function(t){var g=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath];var e=[2,2,4,6,0];var v=0,u=t.length;var C=[];var m=0,k=0;var h=b.BASE_64;while(v<u){var B=t.charAt(v);var r=h[B];var o=r>>3;var w=g[o];if(!w||(r&3)){throw ("bad path data (@"+v+"): "+B)}var z=e[o];if(!o){m=k=0}C.length=0;v++;var A=(r>>2&1)+2;for(var q=0;q<z;q++){var j=h[t.charAt(v)];var D=(j>>5)?-1:1;j=((j&31)<<6)|(h[t.charAt(v+1)]);if(A==3){j=(j<<6)|(h[t.charAt(v+2)])}j=D*j/10;if(q%2){m=(j+=m)}else{k=(j+=k)}C[q]=j;v+=A}w.apply(this,C)}return this};f.store=function(){this._updateInstructions(true);this._storeIndex=this._instructions.length;return this};f.unstore=function(){this._storeIndex=0;return this};f.clone=function(){var e=new b();e.command=this.command;e._stroke=this._stroke;e._strokeStyle=this._strokeStyle;e._strokeIgnoreScale=this._strokeIgnoreScale;e._fill=this._fill;e._instructions=this._instructions.slice();e._commitIndex=this._commitIndex;e._activeInstructions=this._activeInstructions.slice();e._dirty=this._dirty;e._storeIndex=this._storeIndex;return e};f.toString=function(){return"[Graphics]"};f.mt=f.moveTo;f.lt=f.lineTo;f.at=f.arcTo;f.bt=f.bezierCurveTo;f.qt=f.quadraticCurveTo;f.a=f.arc;f.r=f.rect;f.cp=f.closePath;f.c=f.clear;f.f=f.beginFill;f.lf=f.beginLinearGradientFill;f.rf=f.beginRadialGradientFill;f.bf=f.beginBitmapFill;f.ef=f.endFill;f.ss=f.setStrokeStyle;f.s=f.beginStroke;f.ls=f.beginLinearGradientStroke;f.rs=f.beginRadialGradientStroke;f.bs=f.beginBitmapStroke;f.es=f.endStroke;f.dr=f.drawRect;f.rr=f.drawRoundRect;f.rc=f.drawRoundRectComplex;f.dc=f.drawCircle;f.de=f.drawEllipse;f.dp=f.drawPolyStar;f.p=f.decodePath;f._updateInstructions=function(n){var h=this._instructions,m=this._activeInstructions,g=this._commitIndex;if(this._dirty&&m.length){h.length=g;h.push(b.beginCmd);var e=m.length,k=h.length;h.length=k+e;for(var j=0;j<e;j++){h[j+k]=m[j]}if(this._fill){h.push(this._fill)}if(this._stroke&&this._strokeStyle){h.push(this._strokeStyle)}if(this._stroke){h.push(this._stroke)}this._dirty=false}if(n){m.length=0;this._commitIndex=h.length}};f._setFill=function(e){this._updateInstructions(true);if(this._fill=e){this.command=e}return this};f._setStroke=function(e){this._updateInstructions(true);if(this._stroke=e){this.command=e;e.ignoreScale=this._strokeIgnoreScale}return this};(c.LineTo=function(e,g){this.x=e;this.y=g}).prototype.exec=function(e){e.lineTo(this.x,this.y)};(c.MoveTo=function(e,g){this.x=e;this.y=g}).prototype.exec=function(e){e.moveTo(this.x,this.y)};(c.ArcTo=function(h,j,g,i,e){this.x1=h;this.y1=j;this.x2=g;this.y2=i;this.radius=e}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)};(c.Arc=function(g,k,e,i,h,j){this.x=g;this.y=k;this.radius=e;this.startAngle=i;this.endAngle=h;this.anticlockwise=!!j}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(c.QuadraticCurveTo=function(h,g,e,i){this.cpx=h;this.cpy=g;this.x=e;this.y=i}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(c.BezierCurveTo=function(h,g,j,i,e,k){this.cp1x=h;this.cp1y=g;this.cp2x=j;this.cp2y=i;this.x=e;this.y=k}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(c.Rect=function(e,j,g,i){this.x=e;this.y=j;this.w=g;this.h=i}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)};(c.ClosePath=function(){}).prototype.exec=function(e){e.closePath()};(c.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()};f=(c.Fill=function(g,e){this.style=g;this.matrix=e}).prototype;f.exec=function(e){if(!this.style){return}e.fillStyle=this.style;var g=this.matrix;if(ig.system.scale!=1){e.scale(ig.system.fixedScale,ig.system.fixedScale)}if(g){e.save();e.transform(g.a,g.b,g.c,g.d,g.tx,g.ty)}e.fill();if(g){e.restore()}};f.linearGradient=function(e,n,j,q,g,p){var h=this.style=b._ctx.createLinearGradient(j,q,g,p);for(var m=0,k=e.length;m<k;m++){h.addColorStop(n[m],e[m])}h.props={colors:e,ratios:n,x0:j,y0:q,x1:g,y1:p,type:"linear"};return this};f.radialGradient=function(e,q,j,t,m,g,r,k){var h=this.style=b._ctx.createRadialGradient(j,t,m,g,r,k);for(var p=0,n=e.length;p<n;p++){h.addColorStop(q[p],e[p])}h.props={colors:e,ratios:q,x0:j,y0:t,r0:m,x1:g,y1:r,r1:k,type:"radial"};return this};f.bitmap=function(g,e){var h=this.style=b._ctx.createPattern(g,e||"");h.props={image:g,repetition:e,type:"bitmap"};return this};f.path=false;f=(c.Stroke=function(g,e){this.style=g;this.ignoreScale=e}).prototype;f.exec=function(e){if(!this.style){return}e.strokeStyle=this.style;if(this.ignoreScale){e.save();e.setTransform(1,0,0,1,0,0)}e.stroke();if(this.ignoreScale){e.restore()}};f.linearGradient=c.Fill.prototype.linearGradient;f.radialGradient=c.Fill.prototype.radialGradient;f.bitmap=c.Fill.prototype.bitmap;f.path=false;f=(c.StrokeStyle=function(h,i,e,g){this.width=h;this.caps=i;this.joints=e;this.miterLimit=g}).prototype;f.exec=function(e){e.lineWidth=(this.width==null?"1":this.width);e.lineCap=(this.caps==null?"butt":(isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps]));e.lineJoin=(this.joints==null?"miter":(isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints]));e.miterLimit=(this.miterLimit==null?"10":this.miterLimit)};f.path=false;(c.RoundRect=function(g,n,i,k,m,j,e,l){this.x=g;this.y=n;this.w=i;this.h=k;this.radiusTL=m;this.radiusTR=j;this.radiusBR=e;this.radiusBL=l}).prototype.exec=function(t){var o=(q<l?q:l)/2;var g=0,r=0,e=0,k=0;var p=this.x,n=this.y,q=this.w,l=this.h;var j=this.radiusTL,u=this.radiusTR,i=this.radiusBR,m=this.radiusBL;if(j<0){j*=(g=-1)}if(j>o){j=o}if(u<0){u*=(r=-1)}if(u>o){u=o}if(i<0){i*=(e=-1)}if(i>o){i=o}if(m<0){m*=(k=-1)}if(m>o){m=o}t.moveTo(p+q-u,n);t.arcTo(p+q+u*r,n-u*r,p+q,n+u,u);t.lineTo(p+q,n+l-i);t.arcTo(p+q+i*e,n+l+i*e,p+q-i,n+l,i);t.lineTo(p+m,n+l);t.arcTo(p-m*k,n+l+m*k,p,n+l-m,m);t.lineTo(p,n+j);t.arcTo(p-j*g,n-j*g,p+j,n,j);t.closePath()};(c.Circle=function(g,h,e){this.x=g;this.y=h;this.radius=e}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,Math.PI*2)};(c.Ellipse=function(e,j,g,i){this.x=e;this.y=j;this.w=g;this.h=i}).prototype.exec=function(t){var p=this.x,o=this.y;var q=this.w,l=this.h;var j=0.5522848;var i=(q/2)*j;var e=(l/2)*j;var r=p+q;var n=o+l;var m=p+q/2;var g=o+l/2;t.moveTo(p,g);t.bezierCurveTo(p,g-e,m-i,o,m,o);t.bezierCurveTo(m+i,o,r,g-e,r,g);t.bezierCurveTo(r,g+e,m+i,n,m,n);t.bezierCurveTo(m-i,n,p,g+e,p,g)};(c.PolyStar=function(g,k,e,h,i,j){this.x=g;this.y=k;this.radius=e;this.sides=h;this.pointSize=i;this.angle=j}).prototype.exec=function(o){var n=this.x,l=this.y;var k=this.radius;var h=(this.angle||0)/180*Math.PI;var g=this.sides;var e=1-(this.pointSize||0);var m=Math.PI/g;o.moveTo(n+Math.cos(h)*k,l+Math.sin(h)*k);for(var j=0;j<g;j++){h+=m;if(e!=1){o.lineTo(n+Math.cos(h)*k*e,l+Math.sin(h)*k*e)}h+=m;o.lineTo(n+Math.cos(h)*k,l+Math.sin(h)*k)}o.closePath()};b.beginCmd=new c.BeginPath();createjs.Graphics=b}());this.createjs=this.createjs||{};(function(){function a(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.mouseEnabled=true;this.tickEnabled=true;this.name=null;this.parent=null;this.regX=0;this.regY=0;this.rotation=0;this.scaleX=1;this.scaleY=1;this.skewX=0;this.skewY=0;this.shadow=null;this.visible=true;this.x=0;this.y=0;this.transformMatrix=null;this.compositeOperation=null;this.snapToPixel=true;this.filters=null;this.mask=null;this.hitArea=null;this.cursor=null;this._cacheOffsetX=0;this._cacheOffsetY=0;this._filterOffsetX=0;this._filterOffsetY=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps();this._rectangle=new createjs.Rectangle();this._bounds=null}var d=createjs.extend(a,createjs.EventDispatcher);a._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"];a.suppressCrossDomainErrors=false;a._snapToPixelEnabled=false;var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(b.getContext){a._hitTestCanvas=b;a._hitTestContext=b.getContext("2d");b.width=b.height=1}a._nextCacheID=1;d.getStage=function(){var f=this,e=createjs.Stage;while(f.parent){f=f.parent}if(f instanceof e){return f}return null};try{Object.defineProperties(d,{stage:{get:d.getStage}})}catch(c){}d.isVisible=function(){return !!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)};d.draw=function(e,g){var f=this.cacheCanvas;if(g||!f){return false}var h=this._cacheScale;e.drawImage(f,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,f.width/h,f.height/h);return true};d.updateContext=function(h){var j=this,g=j.mask,i=j._props.matrix;if(g&&g.graphics&&!g.graphics.isEmpty()){g.getMatrix(i);h.transform(i.a,i.b,i.c,i.d,i.tx,i.ty);g.graphics.drawAsPath(h);h.clip();i.invert();h.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)}this.getMatrix(i);var f=i.tx,e=i.ty;if(a._snapToPixelEnabled&&j.snapToPixel){f=f+(f<0?-0.5:0.5)|0;e=e+(e<0?-0.5:0.5)|0}h.transform(i.a,i.b,i.c,i.d,f,e);h.globalAlpha*=j.alpha;if(j.compositeOperation){h.globalCompositeOperation=j.compositeOperation}if(j.shadow){this._applyShadow(h,j.shadow)}};d.cache=function(f,i,g,e,h){h=h||1;if(!this.cacheCanvas){this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")}this._cacheWidth=g;this._cacheHeight=e;this._cacheOffsetX=f;this._cacheOffsetY=i;this._cacheScale=h;this.updateCache()};d.updateCache=function(i){var f=this.cacheCanvas;if(!f){throw"cache() must be called before updateCache()"}var e=this._cacheScale,m=this._cacheOffsetX*e,l=this._cacheOffsetY*e;var k=this._cacheWidth,g=this._cacheHeight,n=f.getContext("2d");var j=this._getFilterBounds();m+=(this._filterOffsetX=j.x);l+=(this._filterOffsetY=j.y);k=Math.ceil(k*e)+j.width;g=Math.ceil(g*e)+j.height;if(k!=f.width||g!=f.height){f.width=k;f.height=g}else{if(!i){n.clearRect(0,0,k+1,g+1)}}n.save();n.globalCompositeOperation=i;n.setTransform(e,0,0,e,-m,-l);this.draw(n,true);this._applyFilters();n.restore();this.cacheID=a._nextCacheID++};d.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};d.getCacheDataURL=function(){if(!this.cacheCanvas){return null}if(this.cacheID!=this._cacheDataURLID){this._cacheDataURL=this.cacheCanvas.toDataURL()}return this._cacheDataURL};d.localToGlobal=function(e,g,f){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,g,f||new createjs.Point())};d.globalToLocal=function(e,g,f){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,g,f||new createjs.Point())};d.localToLocal=function(e,h,g,f){f=this.localToGlobal(e,h,f);return g.globalToLocal(f.x,f.y,f)};d.setTransform=function(i,g,l,k,m,j,h,f,e){this.x=i||0;this.y=g||0;this.scaleX=l==null?1:l;this.scaleY=k==null?1:k;this.rotation=m||0;this.skewX=j||0;this.skewY=h||0;this.regX=f||0;this.regY=e||0;return this};d.getMatrix=function(e){var g=this,f=e&&e.identity()||new createjs.Matrix2D();return g.transformMatrix?f.copy(g.transformMatrix):f.appendTransform(g.x,g.y,g.scaleX,g.scaleY,g.rotation,g.skewX,g.skewY,g.regX,g.regY)};d.getConcatenatedMatrix=function(e){var g=this,f=this.getMatrix(e);while(g=g.parent){f.prependMatrix(g.getMatrix(g._props.matrix))}return f};d.getConcatenatedDisplayProps=function(f){f=f?f.identity():new createjs.DisplayProps();var g=this,e=g.getMatrix(f.matrix);do{f.prepend(g.visible,g.alpha,g.shadow,g.compositeOperation);if(g!=this){e.prependMatrix(g.getMatrix(g._props.matrix))}}while(g=g.parent);return f};d.hitTest=function(e,h){var f=a._hitTestContext;f.setTransform(1,0,0,1,-e,-h);this.draw(f);var g=this._testHit(f);f.setTransform(1,0,0,1,0,0);f.clearRect(0,0,2,2);return g};d.set=function(e){for(var f in e){this[f]=e[f]}return this};d.getBounds=function(){if(this._bounds){return this._rectangle.copy(this._bounds)}var e=this.cacheCanvas;if(e){var f=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/f,e.height/f)}return null};d.getTransformedBounds=function(){return this._getBounds()};d.setBounds=function(f,h,g,e){if(f==null){this._bounds=f}this._bounds=(this._bounds||new createjs.Rectangle()).setValues(f,h,g,e)};d.clone=function(){return this._cloneProps(new a())};d.toString=function(){return"[DisplayObject (name="+this.name+")]"};d._cloneProps=function(e){e.alpha=this.alpha;e.mouseEnabled=this.mouseEnabled;e.tickEnabled=this.tickEnabled;e.name=this.name;e.regX=this.regX;e.regY=this.regY;e.rotation=this.rotation;e.scaleX=this.scaleX;e.scaleY=this.scaleY;e.shadow=this.shadow;e.skewX=this.skewX;e.skewY=this.skewY;e.visible=this.visible;e.x=this.x;e.y=this.y;e.compositeOperation=this.compositeOperation;e.snapToPixel=this.snapToPixel;e.filters=this.filters==null?null:this.filters.slice(0);e.mask=this.mask;e.hitArea=this.hitArea;e.cursor=this.cursor;e._bounds=this._bounds;return e};d._applyShadow=function(e,f){f=f||Shadow.identity;e.shadowColor=f.color;e.shadowOffsetX=f.offsetX;e.shadowOffsetY=f.offsetY;e.shadowBlur=f.blur};d._tick=function(f){var e=this._listeners;if(e&&e.tick){f.target=null;f.propagationStopped=f.immediatePropagationStopped=false;this.dispatchEvent(f)}};d._testHit=function(f){try{var g=f.getImageData(0,0,1,1).data[3]>1}catch(h){if(!a.suppressCrossDomainErrors){throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}}return g};d._applyFilters=function(){if(!this.filters||this.filters.length==0||!this.cacheCanvas){return}var g=this.filters.length;var f=this.cacheCanvas.getContext("2d");var e=this.cacheCanvas.width;var k=this.cacheCanvas.height;for(var j=0;j<g;j++){this.filters[j].applyFilter(f,0,0,e,k)}};d._getFilterBounds=function(k){var e,j=this.filters,h=this._rectangle.setValues(0,0,0,0);if(!j||!(e=j.length)){return h}for(var g=0;g<e;g++){var m=this.filters[g];m.getBounds&&m.getBounds(h)}return h};d._getBounds=function(e,f){return this._transformBounds(this.getBounds(),e,f)};d._transformBounds=function(i,p,g){if(!i){return i}var k=i.x,j=i.y,o=i.width,l=i.height,h=this._props.matrix;h=g?h.identity():this.getMatrix(h);if(k||j){h.appendTransform(0,0,1,1,0,0,0,-k,-j)}if(p){h.prependMatrix(p)}var n=o*h.a,m=o*h.b;var f=l*h.c,e=l*h.d;var w=h.tx,v=h.ty;var u=w,t=w,r=v,q=v;if((k=n+w)<u){u=k}else{if(k>t){t=k}}if((k=n+f+w)<u){u=k}else{if(k>t){t=k}}if((k=f+w)<u){u=k}else{if(k>t){t=k}}if((j=m+v)<r){r=j}else{if(j>q){q=j}}if((j=m+e+v)<r){r=j}else{if(j>q){q=j}}if((j=e+v)<r){r=j}else{if(j>q){q=j}}return i.setValues(u,r,t-u,q-r)};d._hasMouseEventListener=function(){var f=a._MOUSE_EVENTS;for(var g=0,e=f.length;g<e;g++){if(this.hasEventListener(f[g])){return true}}return !!this.cursor};createjs.DisplayObject=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(){this.DisplayObject_constructor();this.children=[];this.mouseChildren=true;this.tickChildren=true}var c=createjs.extend(a,createjs.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(b){}c.initialize=a;c.isVisible=function(){var d=this.cacheCanvas||this.children.length;return !!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&d)};c.draw=function(e,h){if(this.DisplayObject_draw(e,h)){return true}var g=this.children.slice();for(var f=0,d=g.length;f<d;f++){var j=g[f];if(!j.isVisible()){continue}e.save();j.updateContext(e);j.draw(e);e.restore()}return true};c.addChild=function(f){if(f==null){return f}var d=arguments.length;if(d>1){for(var e=0;e<d;e++){this.addChild(arguments[e])}return arguments[d-1]}if(f.parent){f.parent.removeChild(f)}f.parent=this;this.children.push(f);f.dispatchEvent("added");return f};c.addChildAt=function(h,e){var d=arguments.length;var g=arguments[d-1];if(g<0||g>this.children.length){return arguments[d-2]}if(d>2){for(var f=0;f<d-1;f++){this.addChildAt(arguments[f],g+f)}return arguments[d-2]}if(h.parent){h.parent.removeChild(h)}h.parent=this;this.children.splice(e,0,h);h.dispatchEvent("added");return h};c.removeChild=function(g){var d=arguments.length;if(d>1){var f=true;for(var e=0;e<d;e++){f=f&&this.removeChild(arguments[e])}return f}return this.removeChildAt(createjs.indexOf(this.children,g))};c.removeChildAt=function(f){var e=arguments.length;if(e>1){var d=[];for(var g=0;g<e;g++){d[g]=arguments[g]}d.sort(function(k,i){return i-k});var h=true;for(var g=0;g<e;g++){h=h&&this.removeChildAt(d[g])}return h}if(f<0||f>this.children.length-1){return false}var j=this.children[f];if(j){j.parent=null}this.children.splice(f,1);j.dispatchEvent("removed");return true};c.removeAllChildren=function(){var d=this.children;while(d.length){this.removeChildAt(0)}};c.getChildAt=function(d){return this.children[d]};c.getChildByName=function(f){var e=this.children;for(var g=0,d=e.length;g<d;g++){if(e[g].name==f){return e[g]}}return null};c.sortChildren=function(d){this.children.sort(d)};c.getChildIndex=function(d){return createjs.indexOf(this.children,d)};c.swapChildrenAt=function(h,g){var d=this.children;var f=d[h];var e=d[g];if(!f||!e){return}d[h]=e;d[g]=f};c.swapChildren=function(h,g){var e=this.children;var k,j;for(var f=0,d=e.length;f<d;f++){if(e[f]==h){k=f}if(e[f]==g){j=f}if(k!=null&&j!=null){break}}if(f==d){return}e[k]=g;e[j]=h};c.setChildIndex=function(h,f){var e=this.children,d=e.length;if(h.parent!=this||f<0||f>=d){return}for(var g=0;g<d;g++){if(e[g]==h){break}}if(g==d||g==f){return}e.splice(g,1);e.splice(f,0,h)};c.contains=function(d){while(d){if(d==this){return true}d=d.parent}return false};c.hitTest=function(d,e){return(this.getObjectUnderPoint(d,e)!=null)};c.getObjectsUnderPoint=function(e,h,g){var d=[];var f=this.localToGlobal(e,h);this._getObjectsUnderPoint(f.x,f.y,d,g>0,g==1);return d};c.getObjectUnderPoint=function(d,g,f){var e=this.localToGlobal(d,g);return this._getObjectsUnderPoint(e.x,e.y,null,f>0,f==1)};c.getBounds=function(){return this._getBounds(null,true)};c.getTransformedBounds=function(){return this._getBounds()};c.clone=function(d){var e=this._cloneProps(new a());if(d){this._cloneChildren(e)}return e};c.toString=function(){return"[Container (name="+this.name+")]"};c._tick=function(d){if(this.tickChildren){for(var e=this.children.length-1;e>=0;e--){var f=this.children[e];if(f&&f.tickEnabled&&f._tick){f._tick(d)}}}this.DisplayObject__tick(d)};c._cloneChildren=function(g){if(g.children.length){g.removeAllChildren()}var d=g.children;for(var f=0,e=this.children.length;f<e;f++){var h=this.children[f].clone(true);h.parent=g;d.push(h)}};c._getObjectsUnderPoint=function(r,q,n,o,e,m){m=m||0;if(!m&&!this._testMask(this,r,q)){return null}var f,t=createjs.DisplayObject._hitTestContext;e=e||(o&&this._hasMouseEventListener());var h=this.children,j=h.length;for(var k=j-1;k>=0;k--){var g=h[k];var d=g.hitArea;if(!g.visible||(!d&&!g.isVisible())||(o&&!g.mouseEnabled)){continue}if(!d&&!this._testMask(g,r,q)){continue}if(!d&&g instanceof a){var u=g._getObjectsUnderPoint(r,q,n,o,e,m+1);if(!n&&u){return(o&&!this.mouseChildren)?this:u}}else{if(o&&!e&&!g._hasMouseEventListener()){continue}var p=g.getConcatenatedDisplayProps(g._props);f=p.matrix;if(d){f.appendMatrix(d.getMatrix(d._props.matrix));p.alpha=d.alpha}t.globalAlpha=p.alpha;t.setTransform(f.a,f.b,f.c,f.d,f.tx-r,f.ty-q);(d||g).draw(t);if(!this._testHit(t)){continue}t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,2,2);if(n){n.push(g)}else{return(o&&!this.mouseChildren)?this:g}}}return null};c._testMask=function(i,d,j){var f=i.mask;if(!f||!f.graphics||f.graphics.isEmpty()){return true}var h=this._props.matrix,g=i.parent;h=g?g.getConcatenatedMatrix(h):h.identity();h=f.getMatrix(f._props.matrix).prependMatrix(h);var e=createjs.DisplayObject._hitTestContext;e.setTransform(h.a,h.b,h.c,h.d,h.tx-d,h.ty-j);f.graphics.drawAsPath(e);e.fillStyle="#000";e.fill();if(!this._testHit(e)){return false}e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,2,2);return true};c._getBounds=function(e,f){var k=this.DisplayObject_getBounds();if(k){return this._transformBounds(k,e,f)}var h=this._props.matrix;h=f?h.identity():this.getMatrix(h);if(e){h.prependMatrix(e)}var d=this.children.length,j=null;for(var g=0;g<d;g++){var m=this.children[g];if(!m.visible||!(k=m._getBounds(h))){continue}if(j){j.extend(k.x,k.y,k.width,k.height)}else{j=k.clone()}}return j};createjs.Container=createjs.promote(a,"DisplayObject")}());this.createjs=this.createjs||{};(function(){function c(d){this.Container_constructor();this.autoClear=true;this.canvas=(typeof d=="string")?document.getElementById(d):d;this.mouseX=0;this.mouseY=0;this.drawRect=null;this.snapToPixelEnabled=false;this.mouseInBounds=false;this.tickOnUpdate=true;this.mouseMoveOutside=false;this.preventSelection=true;this._pointerData={};this._pointerCount=0;this._primaryPointerID=null;this._mouseOverIntervalID=null;this._nextStage=null;this._prevStage=null;this.enableDOMEvents(true)}var b=createjs.extend(c,createjs.Container);b._get_nextStage=function(){return this._nextStage};b._set_nextStage=function(d){if(this._nextStage){this._nextStage._prevStage=null}if(d){d._prevStage=this}this._nextStage=d};try{Object.defineProperties(b,{nextStage:{get:b._get_nextStage,set:b._set_nextStage}})}catch(a){}b.update=function(e){if(!this.canvas){return}if(this.tickOnUpdate){this.tick(e)}if(this.dispatchEvent("drawstart")){return}createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var f=this.drawRect,d=this.canvas.getContext("2d");d.setTransform(1,0,0,1,0,0);if(this.autoClear){if(f){d.clearRect(f.x,f.y,f.width,f.height)}else{d.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}}d.save();if(ig.system.scale!=1){d.scale(ig.system.scale,ig.system.scale)}if(this.drawRect){d.beginPath();d.rect(f.x,f.y,f.width,f.height);d.clip()}this.updateContext(d);this.draw(d,false);d.restore();this.dispatchEvent("drawend")};b.tick=function(e){if(!this.tickEnabled||this.dispatchEvent("tickstart")){return}var d=new createjs.Event("tick");if(e){for(var f in e){if(e.hasOwnProperty(f)){d[f]=e[f]}}}this._tick(d);this.dispatchEvent("tickend")};b.handleEvent=function(d){if(d.type=="tick"){this.update(d)}};b.clear=function(){if(!this.canvas){return}var d=this.canvas.getContext("2d");d.setTransform(1,0,0,1,0,0);d.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)};b.toDataURL=function(f,l){var j,e=this.canvas.getContext("2d"),d=this.canvas.width,g=this.canvas.height;if(f){j=e.getImageData(0,0,d,g);var i=e.globalCompositeOperation;e.globalCompositeOperation="destination-over";e.fillStyle=f;e.fillRect(0,0,d,g)}var k=this.canvas.toDataURL(l||"image/png");if(f){e.putImageData(j,0,0);e.globalCompositeOperation=i}return k};b.enableMouseOver=function(d){if(this._mouseOverIntervalID){clearInterval(this._mouseOverIntervalID);this._mouseOverIntervalID=null;if(d==0){this._testMouseOver(true)}}if(d==null){d=20}else{if(d<=0){return}}var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1000/Math.min(50,d))};b.enableDOMEvents=function(e){if(e==null){e=true}var i,g,d=this._eventListeners;if(!e&&d){for(i in d){g=d[i];g.t.removeEventListener(i,g.f,false)}this._eventListeners=null}else{if(e&&!d&&this.canvas){var f=window.addEventListener?window:document;var h=this;d=this._eventListeners={};d.mouseup={t:f,f:function(j){h._handleMouseUp(j)}};d.mousemove={t:f,f:function(j){h._handleMouseMove(j)}};d.dblclick={t:this.canvas,f:function(j){h._handleDoubleClick(j)}};d.mousedown={t:this.canvas,f:function(j){h._handleMouseDown(j)}};for(i in d){g=d[i];g.t.addEventListener(i,g.f,false)}}}};b.clone=function(){throw ("Stage cannot be cloned.")};b.toString=function(){return"[Stage (name="+this.name+")]"};b._getElementRect=function(j){var d;try{d=j.getBoundingClientRect()}catch(g){d={top:j.offsetTop,left:j.offsetLeft,width:j.offsetWidth,height:j.offsetHeight}}var m=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0);var l=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0);var n=window.getComputedStyle?getComputedStyle(j,null):j.currentStyle;var k=parseInt(n.paddingLeft)+parseInt(n.borderLeftWidth);var h=parseInt(n.paddingTop)+parseInt(n.borderTopWidth);var i=parseInt(n.paddingRight)+parseInt(n.borderRightWidth);var f=parseInt(n.paddingBottom)+parseInt(n.borderBottomWidth);return{left:d.left+m+k,right:d.right+m-i,top:d.top+l+h,bottom:d.bottom+l-f}};b._getPointerData=function(e){var d=this._pointerData[e];if(!d){d=this._pointerData[e]={x:0,y:0}}return d};b._handleMouseMove=function(d){if(!d){d=window.event}this._handlePointerMove(-1,d,d.pageX,d.pageY)};b._handlePointerMove=function(l,j,i,h,g){if(this._prevStage&&g===undefined){return}if(!this.canvas){return}var f=this._nextStage,k=this._getPointerData(l);var d=k.inBounds;this._updatePointerPosition(l,j,i,h);if(d||k.inBounds||this.mouseMoveOutside){if(l===-1&&k.inBounds==!d){this._dispatchMouseEvent(this,(d?"mouseleave":"mouseenter"),false,l,k,j)}this._dispatchMouseEvent(this,"stagemousemove",false,l,k,j);this._dispatchMouseEvent(k.target,"pressmove",true,l,k,j)}f&&f._handlePointerMove(l,j,i,h,null)};b._updatePointerPosition=function(m,k,i,f){var j=this._getElementRect(this.canvas);i-=j.left;f-=j.top;var d=this.canvas.width*ig.system.fixedScale;var g=this.canvas.height*ig.system.fixedScale;i/=(j.right-j.left)/d;f/=(j.bottom-j.top)/g;var l=this._getPointerData(m);if(l.inBounds=(i>=0&&f>=0&&i<=d-1&&f<=g-1)){l.x=i;l.y=f}else{if(this.mouseMoveOutside){l.x=i<0?0:(i>d-1?d-1:i);l.y=f<0?0:(f>g-1?g-1:f)}}l.posEvtObj=k;l.rawX=i;l.rawY=f;if(m===this._primaryPointerID||m===-1){this.mouseX=l.x;this.mouseY=l.y;this.mouseInBounds=l.inBounds}};b._handleMouseUp=function(d){this._handlePointerUp(-1,d,false)};b._handlePointerUp=function(l,j,g,f){var d=this._nextStage,k=this._getPointerData(l);if(this._prevStage&&f===undefined){return}if(k.down){this._dispatchMouseEvent(this,"stagemouseup",false,l,k,j)}k.down=false;var i=null,h=k.target;if(!f&&(h||d)){i=this._getObjectsUnderPoint(k.x,k.y,null,true)}if(i==h){this._dispatchMouseEvent(h,"click",true,l,k,j)}this._dispatchMouseEvent(h,"pressup",true,l,k,j);if(g){if(l==this._primaryPointerID){this._primaryPointerID=null}delete (this._pointerData[l])}else{k.target=null}d&&d._handlePointerUp(l,j,g,f||i&&this)};b._handleMouseDown=function(d){this._handlePointerDown(-1,d,d.pageX,d.pageY)};b._handlePointerDown=function(l,j,h,g,f){if(this.preventSelection){j.preventDefault()}if(this._primaryPointerID==null||l===-1){this._primaryPointerID=l}if(g!=null){this._updatePointerPosition(l,j,h,g)}var i=null,d=this._nextStage,k=this._getPointerData(l);if(k.inBounds){this._dispatchMouseEvent(this,"stagemousedown",false,l,k,j);k.down=true}if(!f){i=k.target=this._getObjectsUnderPoint(k.x,k.y,null,true);this._dispatchMouseEvent(k.target,"mousedown",true,l,k,j)}d&&d._handlePointerDown(l,j,h,g,f||i&&this)};b._testMouseOver=function(k,d,w){if(this._prevStage&&d===undefined){return}var m=this._nextStage;if(!this._mouseOverIntervalID){m&&m._testMouseOver(k,d,w);return}var f=this._getPointerData(-1);if(!f||(!k&&this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)){return}var r=f.posEvtObj;var h=w||r&&(r.target==this.canvas);var u=null,q=-1,z="",A,j,g;if(!d&&(k||this.mouseInBounds&&h)){u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,true);this._mouseOverX=this.mouseX;this._mouseOverY=this.mouseY}var v=this._mouseOverTarget||[];var p=v[v.length-1];var n=this._mouseOverTarget=[];A=u;while(A){n.unshift(A);if(A.cursor!=null){z=A.cursor}A=A.parent}this.canvas.style.cursor=z;if(!d&&w){w.canvas.style.cursor=z}for(j=0,g=n.length;j<g;j++){if(n[j]!=v[j]){break}q=j}if(p!=u){this._dispatchMouseEvent(p,"mouseout",true,-1,f,r)}for(j=v.length-1;j>q;j--){this._dispatchMouseEvent(v[j],"rollout",false,-1,f,r)}for(j=n.length-1;j>q;j--){this._dispatchMouseEvent(n[j],"rollover",false,-1,f,r)}if(p!=u){this._dispatchMouseEvent(u,"mouseover",true,-1,f,r)}m&&m._testMouseOver(k,d||u&&this,w||h&&this)};b._handleDoubleClick=function(h,f){var g=null,d=this._nextStage,i=this._getPointerData(-1);if(!f){g=this._getObjectsUnderPoint(i.x,i.y,null,true);this._dispatchMouseEvent(g,"dblclick",true,-1,i,h)}d&&d._handleDoubleClick(h,f||g&&this)};b._dispatchMouseEvent=function(i,g,f,h,j,d){if(!i||(!f&&!i.hasEventListener(g))){return}var e=new createjs.MouseEvent(g,f,false,j.x,j.y,d,h,h===this._primaryPointerID||h===-1,j.rawX,j.rawY);i.dispatchEvent(e)};createjs.Stage=createjs.promote(c,"Container")}());this.createjs=this.createjs||{};(function(){function a(c){this.DisplayObject_constructor();if(typeof c=="string"){this.image=document.createElement("img");this.image.src=c}else{this.image=c}this.sourceRect=null}var b=createjs.extend(a,createjs.DisplayObject);b.initialize=a;b.isVisible=function(){var c=this.cacheCanvas||(this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2));return !!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&c)};b.draw=function(o,c){if(this.DisplayObject_draw(o,c)||!this.image){return true}var f=this.image,j=this.sourceRect;if(j){var e=j.x,m=j.y,d=e+j.width,k=m+j.height,l=0,i=0,n=f.width,g=f.height;if(e<0){l-=e;e=0}if(d>n){d=n}if(m<0){i-=m;m=0}if(k>g){k=g}o.drawImage(f,e,m,d-e,k-m,l,i,d-e,k-m)}else{o.drawImage(f,0,0)}return true};b.getBounds=function(){var d=this.DisplayObject_getBounds();if(d){return d}var e=this.sourceRect||this.image;var c=(this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2));return c?this._rectangle.setValues(0,0,e.width,e.height):null};b.clone=function(){var c=new a(this.image);if(this.sourceRect){c.sourceRect=this.sourceRect.clone()}this._cloneProps(c);return c};b.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(a,"DisplayObject")}());this.createjs=this.createjs||{};(function(){function a(c,d){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=true;this.spriteSheet=c;this.currentAnimationFrame=0;this.framerate=0;this._animation=null;this._currentFrame=null;this._skipAdvance=false;if(d){this.gotoAndPlay(d)}}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){var c=this.cacheCanvas||this.spriteSheet.complete;return !!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&c)};b.draw=function(c,e){if(this.DisplayObject_draw(c,e)){return true}this._normalizeFrame();var f=this.spriteSheet.getFrame(this._currentFrame|0);if(!f){return false}var d=f.rect;if(d.width&&d.height){c.drawImage(f.image,d.x,d.y,d.width,d.height,-f.regX,-f.regY,d.width,d.height)}return true};b.play=function(){this.paused=false};b.stop=function(){this.paused=true};b.gotoAndPlay=function(c){this.paused=false;this._skipAdvance=true;this._goto(c)};b.gotoAndStop=function(c){this.paused=true;this._goto(c)};b.advance=function(e){var d=this.framerate||this.spriteSheet.framerate;var c=(d&&e!=null)?e/(1000/d):1;this._normalizeFrame(c)};b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};b.clone=function(){return this._cloneProps(new a(this.spriteSheet))};b.toString=function(){return"[Sprite (name="+this.name+")]"};b._cloneProps=function(c){this.DisplayObject__cloneProps(c);c.currentFrame=this.currentFrame;c.currentAnimation=this.currentAnimation;c.paused=this.paused;c.currentAnimationFrame=this.currentAnimationFrame;c.framerate=this.framerate;c._animation=this._animation;c._currentFrame=this._currentFrame;c._skipAdvance=this._skipAdvance;return c};b._tick=function(c){if(!this.paused){if(!this._skipAdvance){this.advance(c&&c.delta)}this._skipAdvance=false}this.DisplayObject__tick(c)};b._normalizeFrame=function(f){f=f||0;var h=this._animation;var d=this.paused;var j=this._currentFrame;var c;if(h){var g=h.speed||1;var i=this.currentAnimationFrame;c=h.frames.length;if(i+f*g>=c){var e=h.next;if(this._dispatchAnimationEnd(h,j,d,e,c-1)){return}else{if(e){return this._goto(e,f-(c-i)/g)}else{this.paused=true;i=h.frames.length-1}}}else{i+=f*g}this.currentAnimationFrame=i;this._currentFrame=h.frames[i|0]}else{j=(this._currentFrame+=f);c=this.spriteSheet.getNumFrames();if(j>=c&&c>0){if(!this._dispatchAnimationEnd(h,j,d,c-1)){if((this._currentFrame-=c)>=c){return this._normalizeFrame()}}}}j=this._currentFrame|0;if(this.currentFrame!=j){this.currentFrame=j;this.dispatchEvent("change")}};b._dispatchAnimationEnd=function(h,j,f,g,d){var e=h?h.name:null;if(this.hasEventListener("animationend")){var c=new createjs.Event("animationend");c.name=e;c.next=g;this.dispatchEvent(c)}var i=(this._animation!=h||this._currentFrame!=j);if(!i&&!f&&this.paused){this.currentAnimationFrame=d;i=true}return i};b._goto=function(c,e){this.currentAnimationFrame=0;if(isNaN(c)){var d=this.spriteSheet.getAnimation(c);if(d){this._animation=d;this.currentAnimation=c;this._normalizeFrame(e)}}else{this.currentAnimation=this._animation=null;this._currentFrame=c;this._normalizeFrame()}};createjs.Sprite=createjs.promote(a,"DisplayObject")}());this.createjs=this.createjs||{};(function(){function b(c){this.DisplayObject_constructor();this.graphics=c?c:new createjs.Graphics()}var a=createjs.extend(b,createjs.DisplayObject);a.isVisible=function(){var c=this.cacheCanvas||(this.graphics&&!this.graphics.isEmpty());return !!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&c)};a.draw=function(c,d){if(this.DisplayObject_draw(c,d)){return true}this.graphics.draw(c,this);return true};a.clone=function(c){var d=(c&&this.graphics)?this.graphics.clone():this.graphics;return this._cloneProps(new b(d))};a.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(b,"DisplayObject")}());this.createjs=this.createjs||{};(function(){function b(f,e,d){this.DisplayObject_constructor();this.text=f;this.font=e;this.color=d;this.textAlign="left";this.textBaseline="middle";this.maxWidth=null;this.outline=0;this.lineHeight=0;this.lineWidth=null}var c=createjs.extend(b,createjs.DisplayObject);var a=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));if(a.getContext){b._workingContext=a.getContext("2d");a.width=a.height=1}b.H_OFFSETS={start:0,left:0,center:-0.5,end:-1,right:-1};b.V_OFFSETS={top:0,hanging:-0.01,middle:-0.4,alphabetic:-0.8,ideographic:-0.85,bottom:-1};c.isVisible=function(){var d=this.cacheCanvas||(this.text!=null&&this.text!=="");return !!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&d)};c.draw=function(d,f){if(this.DisplayObject_draw(d,f)){return true}var e=this.color||"#000";if(this.outline){d.strokeStyle=e;d.lineWidth=this.outline*1}else{d.fillStyle=e}this._drawText(this._prepContext(d));return true};c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};c.getMeasuredLineHeight=function(){return this._getMeasuredWidth("M")*1.2};c.getMeasuredHeight=function(){return this._drawText(null,{}).height};c.getBounds=function(){var g=this.DisplayObject_getBounds();if(g){return g}if(this.text==null||this.text==""){return null}var h=this._drawText(null,{});var e=(this.maxWidth&&this.maxWidth<h.width)?this.maxWidth:h.width;var d=e*b.H_OFFSETS[this.textAlign||"left"];var f=this.lineHeight||this.getMeasuredLineHeight();var i=f*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(d,i,e,h.height)};c.getMetrics=function(){var d={lines:[]};d.lineHeight=this.lineHeight||this.getMeasuredLineHeight();d.vOffset=d.lineHeight*b.V_OFFSETS[this.textBaseline||"top"];return this._drawText(null,d,d.lines)};c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))};c.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"};c._cloneProps=function(d){this.DisplayObject__cloneProps(d);d.textAlign=this.textAlign;d.textBaseline=this.textBaseline;d.maxWidth=this.maxWidth;d.outline=this.outline;d.lineHeight=this.lineHeight;d.lineWidth=this.lineWidth;return d};c._prepContext=function(d){d.font=this.font||"10px sans-serif";d.textAlign=this.textAlign||"left";d.textBaseline=this.textBaseline||"top";return d};c._drawText=function(z,e,A){var m=!!z;if(!m){z=b._workingContext;z.save();this._prepContext(z)}var t=this.lineHeight||this.getMeasuredLineHeight();var d=0,n=0;var u=String(this.text).split(/(?:\r\n|\r|\n)/);for(var k=0,f=u.length;k<f;k++){var q=u[k];var r=null;if(this.lineWidth!=null&&(r=z.measureText(q).width)>this.lineWidth){var p=q.split(/(\s)/);q=p[0];r=z.measureText(q).width;for(var g=1,h=p.length;g<h;g+=2){var v=z.measureText(p[g]+p[g+1]).width;if(r+v>this.lineWidth){if(m){this._drawTextLine(z,q,n*t)}if(A){A.push(q)}if(r>d){d=r}q=p[g+1];r=z.measureText(q).width;n++}else{q+=p[g]+p[g+1];r+=v}}}if(m){this._drawTextLine(z,q,n*t)}if(A){A.push(q)}if(e&&r==null){r=z.measureText(q).width}if(r>d){d=r}n++}if(e){e.width=d;e.height=n*t}if(!m){z.restore()}return e};c._drawTextLine=function(d,e,f){if(this.outline){d.strokeText(e,0,f,this.maxWidth||65535)}else{d.fillText(e,0,f,this.maxWidth||65535)}};c._getMeasuredWidth=function(f){var e=b._workingContext;e.save();var d=this._prepContext(e).measureText(f).width;e.restore();return d};createjs.Text=createjs.promote(b,"DisplayObject")}());this.createjs=this.createjs||{};(function(){function a(d,c){this.Container_constructor();this.text=d||"";this.spriteSheet=c;this.lineHeight=0;this.letterSpacing=0;this.spaceWidth=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var b=createjs.extend(a,createjs.Container);a.maxPoolSize=100;a._spritePool=[];b.draw=function(c,d){if(this.DisplayObject_draw(c,d)){return}this._updateText();this.Container_draw(c,d)};b.getBounds=function(){this._updateText();return this.Container_getBounds()};b.isVisible=function(){var c=this.cacheCanvas||(this.spriteSheet&&this.spriteSheet.complete&&this.text);return !!(this.visible&&this.alpha>0&&this.scaleX!==0&&this.scaleY!==0&&c)};b.clone=function(){return this._cloneProps(new a(this.text,this.spriteSheet))};b.addChild=b.addChildAt=b.removeChild=b.removeChildAt=b.removeAllChildren=function(){};b._cloneProps=function(c){this.DisplayObject__cloneProps(c);c.lineHeight=this.lineHeight;c.letterSpacing=this.letterSpacing;c.spaceWidth=this.spaceWidth;return c};b._getFrameIndex=function(e,d){var g,f=d.getAnimation(e);if(!f){(e!=(g=e.toUpperCase()))||(e!=(g=e.toLowerCase()))||(g=null);if(g){f=d.getAnimation(g)}}return f&&f.frames[0]};b._getFrame=function(e,c){var d=this._getFrameIndex(e,c);return d==null?d:c.getFrame(d)};b._getLineHeight=function(c){var d=this._getFrame("1",c)||this._getFrame("T",c)||this._getFrame("L",c)||c.getFrame(0);return d?d.rect.height:1};b._getSpaceWidth=function(c){var d=this._getFrame("1",c)||this._getFrame("l",c)||this._getFrame("e",c)||this._getFrame("a",c)||c.getFrame(0);return d?d.rect.width:1};b._updateText=function(){var h=0,g=0,q=this._oldProps,j=false,A=this.spaceWidth,z=this.lineHeight,t=this.spriteSheet;var k=a._spritePool,m=this.children,w=0,e=m.length,p;for(var r in q){if(q[r]!=this[r]){q[r]=this[r];j=true}}if(!j){return}var f=!!this._getFrame(" ",t);if(!f&&!A){A=this._getSpaceWidth(t)}if(!z){z=this._getLineHeight(t)}for(var v=0,u=this.text.length;v<u;v++){var c=this.text.charAt(v);if(c==" "&&!f){h+=A;continue}else{if(c=="\n"||c=="\r"){if(c=="\r"&&this.text.charAt(v+1)=="\n"){v++}h=0;g+=z;continue}}var d=this._getFrameIndex(c,t);if(d==null){continue}if(w<e){p=m[w]}else{m.push(p=k.length?k.pop():new createjs.Sprite());p.parent=this;e++}p.spriteSheet=t;p.gotoAndStop(d);p.x=h;p.y=g;w++;h+=p.getBounds().width+this.letterSpacing}while(e>w){k.push(p=m.pop());p.parent=null;e--}if(k.length>a.maxPoolSize){k.length=a.maxPoolSize}};createjs.BitmapText=createjs.promote(a,"Container")}());this.createjs=this.createjs||{};(function(){function a(){throw"SpriteSheetUtils cannot be instantiated"}var b=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));if(b.getContext){a._workingCanvas=b;a._workingContext=b.getContext("2d");b.width=b.height=1}a.addFlippedFrames=function(e,c,d,f){if(!c&&!d&&!f){return}var g=0;if(c){a._flip(e,++g,true,false)}if(d){a._flip(e,++g,false,true)}if(f){a._flip(e,++g,true,true)}};a.extractFrame=function(d,f){if(isNaN(f)){f=d.getAnimation(f).frames[0]}var h=d.getFrame(f);if(!h){return null}var g=h.rect;var e=a._workingCanvas;e.width=g.width;e.height=g.height;a._workingContext.drawImage(h.image,g.x,g.y,g.width,g.height,0,0,g.width,g.height);var c=document.createElement("img");c.src=e.toDataURL("image/png");return c};a.mergeAlpha=function(e,c,f){if(!f){f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")}f.width=Math.max(c.width,e.width);f.height=Math.max(c.height,e.height);var d=f.getContext("2d");d.save();d.drawImage(e,0,0);d.globalCompositeOperation="destination-in";d.drawImage(c,0,0);d.restore();return f};a._flip=function(D,e,B,m){var q=D._images;var d=a._workingCanvas;var t=a._workingContext;var k=q.length/e;for(var A=0;A<k;A++){var f=q[A];f.__tmp=A;t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,d.width+1,d.height+1);d.width=f.width;d.height=f.height;t.setTransform(B?-1:1,0,0,m?-1:1,B?f.width:0,m?f.height:0);t.drawImage(f,0,0);var G=document.createElement("img");G.src=d.toDataURL("image/png");G.width=f.width;G.height=f.height;q.push(G)}var n=D._frames;var g=n.length/e;for(A=0;A<g;A++){f=n[A];var c=f.rect.clone();G=q[f.image.__tmp+k*e];var o={image:G,rect:c,regX:f.regX,regY:f.regY};if(B){c.x=G.width-c.x-c.width;o.regX=c.width-f.regX}if(m){c.y=G.height-c.y-c.height;o.regY=c.height-f.regY}n.push(o)}var C="_"+(B?"h":"")+(m?"v":"");var p=D._animations;var E=D._data;var w=p.length/e;for(A=0;A<w;A++){var F=p[A];f=E[F];var u={name:F+C,speed:f.speed,next:f.next,frames:[]};if(f.next){u.next+=C}n=f.frames;for(var z=0,r=n.length;z<r;z++){u.frames.push(n[z]+g*e)}E[u.name]=u;p.push(u.name)}};createjs.SpriteSheetUtils=a}());this.createjs=this.createjs||{};(function(){function a(){this.EventDispatcher_constructor();this.maxWidth=2048;this.maxHeight=2048;this.spriteSheet=null;this.scale=1;this.padding=1;this.timeSlice=0.3;this.progress=-1;this._frames=[];this._animations={};this._data=null;this._nextFrameIndex=0;this._index=0;this._timerID=null;this._scale=1}var b=createjs.extend(a,createjs.EventDispatcher);a.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";a.ERR_RUNNING="a build is already running";b.addFrame=function(g,e,h,c,d){if(this._data){throw a.ERR_RUNNING}var f=e||g.bounds||g.nominalBounds;if(!f&&g.getBounds){f=g.getBounds()}if(!f){return null}h=h||1;return this._frames.push({source:g,sourceRect:f,scale:h,funct:c,data:d,index:this._frames.length,height:f.height*h})-1};b.addAnimation=function(c,f,d,e){if(this._data){throw a.ERR_RUNNING}this._animations[c]={frames:f,next:d,frequency:e}};b.addMovieClip=function(z,h,E,t,p,k){if(this._data){throw a.ERR_RUNNING}var f=z.frameBounds;var d=h||z.bounds||z.nominalBounds;if(!d&&z.getBounds){d=z.getBounds()}if(!d&&!f){return}var C,A,m=this._frames.length;var c=z.timeline.duration;for(C=0;C<c;C++){var u=(f&&f[C])?f[C]:d;this.addFrame(z,u,E,this._setupMovieClipFrame,{i:C,f:t,d:p})}var D=z.timeline._labels;var v=[];for(var w in D){v.push({index:D[w],label:w})}if(v.length){v.sort(function(j,i){return j.index-i.index});for(C=0,A=v.length;C<A;C++){var o=v[C].label;var g=m+v[C].index;var e=m+((C==A-1)?c:v[C+1].index);var q=[];for(var B=g;B<e;B++){q.push(B)}if(k){o=k(o,z,g,e);if(!o){continue}}this.addAnimation(o,q,true)}}};b.build=function(){if(this._data){throw a.ERR_RUNNING}this._startBuild();while(this._drawNext()){}this._endBuild();return this.spriteSheet};b.buildAsync=function(c){if(this._data){throw a.ERR_RUNNING}this.timeSlice=c;this._startBuild();var d=this;this._timerID=setTimeout(function(){d._run()},50-Math.max(0.01,Math.min(0.99,this.timeSlice||0.3))*50)};b.stopAsync=function(){clearTimeout(this._timerID);this._data=null};b.clone=function(){throw ("SpriteSheetBuilder cannot be cloned.")};b.toString=function(){return"[SpriteSheetBuilder]"};b._startBuild=function(){var g=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var d=[];this._data={images:[],frames:d,animations:this._animations};var i=this._frames.slice();i.sort(function(l,k){return(l.height<=k.height)?-1:1});if(i[i.length-1].height+g*2>this.maxHeight){throw a.ERR_DIMENSIONS}var j=0,c=0;var e=0;while(i.length){var h=this._fillRow(i,j,e,d,g);if(h.w>c){c=h.w}j+=h.h;if(!h.h||!i.length){var f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");f.width=this._getSize(c,this.maxWidth);f.height=this._getSize(j,this.maxHeight);this._data.images[e]=f;if(!h.h){c=j=0;e++}}}};b._setupMovieClipFrame=function(e,d){var c=e.actionsEnabled;e.actionsEnabled=false;e.gotoAndStop(d.i);e.actionsEnabled=c;d.f&&d.f(e,d.d,d.i)};b._getSize=function(d,c){var e=4;while(Math.pow(2,++e)<d){}return Math.min(c,Math.pow(2,e))};b._fillRow=function(n,k,A,r,z){var m=this.maxWidth;var e=this.maxHeight;k+=z;var v=e-k;var l=z;var q=0;for(var u=n.length-1;u>=0;u--){var o=n[u];var c=this._scale*o.scale;var d=o.sourceRect;var t=o.source;var g=Math.floor(c*d.x-z);var f=Math.floor(c*d.y-z);var p=Math.ceil(c*d.height+z*2);var j=Math.ceil(c*d.width+z*2);if(j>m){throw a.ERR_DIMENSIONS}if(p>v||l+j>m){continue}o.img=A;o.rect=new createjs.Rectangle(l,k,j,p);q=q||p;n.splice(u,1);r[o.index]=[l,k,j,p,A,Math.round(-g+c*t.regX-z),Math.round(-f+c*t.regY-z)];l+=j}return{w:l,h:q}};b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};b._run=function(){var f=Math.max(0.01,Math.min(0.99,this.timeSlice||0.3))*50;var e=(new Date()).getTime()+f;var d=false;while(e>(new Date()).getTime()){if(!this._drawNext()){d=true;break}}if(d){this._endBuild()}else{var h=this;this._timerID=setTimeout(function(){h._run()},50-f)}var g=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var c=new createjs.Event("progress");c.progress=g;this.dispatchEvent(c)}};b._drawNext=function(){var h=this._frames[this._index];var g=h.scale*this._scale;var f=h.rect;var e=h.sourceRect;var d=this._data.images[h.img];var c=d.getContext("2d");h.funct&&h.funct(h.source,h.data);c.save();c.beginPath();c.rect(f.x,f.y,f.width,f.height);c.clip();c.translate(Math.ceil(f.x-e.x*g),Math.ceil(f.y-e.y*g));c.scale(g,g);h.source.draw(c);c.restore();return(++this._index)<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(a,"EventDispatcher")}());this.createjs=this.createjs||{};(function(){function a(d){this.DisplayObject_constructor();if(typeof(d)=="string"){d=document.getElementById(d)}this.mouseEnabled=false;var c=d.style;c.position="absolute";c.transformOrigin=c.WebkitTransformOrigin=c.msTransformOrigin=c.MozTransformOrigin=c.OTransformOrigin="0% 0%";this.htmlElement=d;this._oldProps=null}var b=createjs.extend(a,createjs.DisplayObject);b.isVisible=function(){return this.htmlElement!=null};b.draw=function(c,d){return true};b.cache=function(){};b.uncache=function(){};b.updateCache=function(){};b.hitTest=function(){};b.localToGlobal=function(){};b.globalToLocal=function(){};b.localToLocal=function(){};b.clone=function(){throw ("DOMElement cannot be cloned.")};b.toString=function(){return"[DOMElement (name="+this.name+")]"};b._tick=function(c){var d=this.getStage();d&&d.on("drawend",this._handleDrawEnd,this,true);this.DisplayObject__tick(c)};b._handleDrawEnd=function(k){var f=this.htmlElement;if(!f){return}var c=f.style;var i=this.getConcatenatedDisplayProps(this._props),e=i.matrix;var d=i.visible?"visible":"hidden";if(d!=c.visibility){c.visibility=d}if(!i.visible){return}var l=this._oldProps,j=l&&l.matrix;var g=10000;if(!j||!j.equals(e)){var h="matrix("+(e.a*g|0)/g+","+(e.b*g|0)/g+","+(e.c*g|0)/g+","+(e.d*g|0)/g+","+(e.tx+0.5|0);c.transform=c.WebkitTransform=c.OTransform=c.msTransform=h+","+(e.ty+0.5|0)+")";c.MozTransform=h+"px,"+(e.ty+0.5|0)+"px)";if(!l){l=this._oldProps=new createjs.DisplayProps(true,NaN)}l.matrix.copy(e)}if(l.alpha!=i.alpha){c.opacity=""+(i.alpha*g|0)/g;l.alpha=i.alpha}};createjs.DOMElement=createjs.promote(a,"DisplayObject")}());this.createjs=this.createjs||{};(function(){function a(){}var b=a.prototype;b.getBounds=function(c){return c};b.applyFilter=function(m,k,i,f,l,d,j,h){d=d||m;if(j==null){j=k}if(h==null){h=i}try{var c=m.getImageData(k,i,f,l)}catch(g){return false}if(this._applyFilter(c)){d.putImageData(c,j,h);return true}return false};b.toString=function(){return"[Filter]"};b.clone=function(){return new a()};b._applyFilter=function(c){return true};createjs.Filter=a}());this.createjs=this.createjs||{};(function(){function b(d,c,e){if(isNaN(d)||d<0){d=0}if(isNaN(c)||c<0){c=0}if(isNaN(e)||e<1){e=1}this.blurX=d|0;this.blurY=c|0;this.quality=e|0}var a=createjs.extend(b,createjs.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];a.getBounds=function(d){var c=this.blurX|0,f=this.blurY|0;if(c<=0&&f<=0){return d}var e=Math.pow(this.quality,0.2);return(d||new createjs.Rectangle()).pad(c*e+1,f*e+1,c*e+1,f*e+1)};a.clone=function(){return new b(this.blurX,this.blurY,this.quality)};a.toString=function(){return"[BlurFilter]"};a._applyFilter=function(O){var d=this.blurX>>1;if(isNaN(d)||d<0){return false}var c=this.blurY>>1;if(isNaN(c)||c<0){return false}if(d==0&&c==0){return false}var Q=this.quality;if(isNaN(Q)||Q<1){Q=1}Q|=0;if(Q>3){Q=3}if(Q<1){Q=1}var j=O.data;var K=0,J=0,S=0,N=0,v=0,B=0,t=0,M=0,V=0,W=0,X=0,o=0,z=0,C=0,D=0;var f=(d+d+1)|0;var e=(c+c+1)|0;var L=O.width|0;var U=O.height|0;var H=(L-1)|0;var E=(U-1)|0;var P=(d+1)|0;var I=(c+1)|0;var T={r:0,b:0,g:0,a:0};var l=T;for(S=1;S<f;S++){l=l.n={r:0,b:0,g:0,a:0}}l.n=T;var R={r:0,b:0,g:0,a:0};var k=R;for(S=1;S<e;S++){k=k.n={r:0,b:0,g:0,a:0}}k.n=R;var A=null;var u=b.MUL_TABLE[d]|0;var G=b.SHG_TABLE[d]|0;var n=b.MUL_TABLE[c]|0;var F=b.SHG_TABLE[c]|0;while(Q-->0){t=B=0;var m=u;var q=G;for(J=U;--J>-1;){M=P*(o=j[(B)|0]);V=P*(z=j[(B+1)|0]);W=P*(C=j[(B+2)|0]);X=P*(D=j[(B+3)|0]);l=T;for(S=P;--S>-1;){l.r=o;l.g=z;l.b=C;l.a=D;l=l.n}for(S=1;S<P;S++){N=(B+((H<S?H:S)<<2))|0;M+=(l.r=j[N]);V+=(l.g=j[N+1]);W+=(l.b=j[N+2]);X+=(l.a=j[N+3]);l=l.n}A=T;for(K=0;K<L;K++){j[B++]=(M*m)>>>q;j[B++]=(V*m)>>>q;j[B++]=(W*m)>>>q;j[B++]=(X*m)>>>q;N=((t+((N=K+d+1)<H?N:H))<<2);M-=A.r-(A.r=j[N]);V-=A.g-(A.g=j[N+1]);W-=A.b-(A.b=j[N+2]);X-=A.a-(A.a=j[N+3]);A=A.n}t+=L}m=n;q=F;for(K=0;K<L;K++){B=(K<<2)|0;M=(I*(o=j[B]))|0;V=(I*(z=j[(B+1)|0]))|0;W=(I*(C=j[(B+2)|0]))|0;X=(I*(D=j[(B+3)|0]))|0;k=R;for(S=0;S<I;S++){k.r=o;k.g=z;k.b=C;k.a=D;k=k.n}v=L;for(S=1;S<=c;S++){B=(v+K)<<2;M+=(k.r=j[B]);V+=(k.g=j[B+1]);W+=(k.b=j[B+2]);X+=(k.a=j[B+3]);k=k.n;if(S<E){v+=L}}B=K;A=R;if(Q>0){for(J=0;J<U;J++){N=B<<2;j[N+3]=D=(X*m)>>>q;if(D>0){j[N]=((M*m)>>>q);j[N+1]=((V*m)>>>q);j[N+2]=((W*m)>>>q)}else{j[N]=j[N+1]=j[N+2]=0}N=(K+(((N=J+I)<E?N:E)*L))<<2;M-=A.r-(A.r=j[N]);V-=A.g-(A.g=j[N+1]);W-=A.b-(A.b=j[N+2]);X-=A.a-(A.a=j[N+3]);A=A.n;B+=L}}else{for(J=0;J<U;J++){N=B<<2;j[N+3]=D=(X*m)>>>q;if(D>0){D=255/D;j[N]=((M*m)>>>q)*D;j[N+1]=((V*m)>>>q)*D;j[N+2]=((W*m)>>>q)*D}else{j[N]=j[N+1]=j[N+2]=0}N=(K+(((N=J+I)<E?N:E)*L))<<2;M-=A.r-(A.r=j[N]);V-=A.g-(A.g=j[N+1]);W-=A.b-(A.b=j[N+2]);X-=A.a-(A.a=j[N+3]);A=A.n;B+=L}}}}return true};createjs.BlurFilter=createjs.promote(b,"Filter")}());this.createjs=this.createjs||{};(function(){function b(c){this.alphaMap=c;this._alphaMap=null;this._mapData=null}var a=createjs.extend(b,createjs.Filter);a.clone=function(){var c=new b(this.alphaMap);c._alphaMap=this._alphaMap;c._mapData=this._mapData;return c};a.toString=function(){return"[AlphaMapFilter]"};a._applyFilter=function(g){if(!this.alphaMap){return true}if(!this._prepAlphaMap()){return false}var e=g.data;var f=this._mapData;for(var d=0,c=e.length;d<c;d+=4){e[d+3]=f[d]||0}return true};a._prepAlphaMap=function(){if(!this.alphaMap){return false}if(this.alphaMap==this._alphaMap&&this._mapData){return true}this._mapData=null;var h=this._alphaMap=this.alphaMap;var d=h;var c;if(h instanceof HTMLCanvasElement){c=d.getContext("2d")}else{d=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");d.width=h.width;d.height=h.height;c=d.getContext("2d");c.drawImage(h,0,0)}try{var g=c.getImageData(0,0,h.width,h.height)}catch(f){return false}this._mapData=g.data;return true};createjs.AlphaMapFilter=createjs.promote(b,"Filter")}());this.createjs=this.createjs||{};(function(){function a(c){this.mask=c}var b=createjs.extend(a,createjs.Filter);b.applyFilter=function(e,d,j,g,c,i,h,f){if(!this.mask){return true}i=i||e;if(h==null){h=d}if(f==null){f=j}i.save();if(e!=i){return false}i.globalCompositeOperation="destination-in";i.drawImage(this.mask,h,f);i.restore();return true};b.clone=function(){return new a(this.mask)};b.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(a,"Filter")}());this.createjs=this.createjs||{};(function(){function a(d,j,h,i,g,f,c,e){this.redMultiplier=d!=null?d:1;this.greenMultiplier=j!=null?j:1;this.blueMultiplier=h!=null?h:1;this.alphaMultiplier=i!=null?i:1;this.redOffset=g||0;this.greenOffset=f||0;this.blueOffset=c||0;this.alphaOffset=e||0}var b=createjs.extend(a,createjs.Filter);b.toString=function(){return"[ColorFilter]"};b.clone=function(){return new a(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};b._applyFilter=function(f){var e=f.data;var c=e.length;for(var d=0;d<c;d+=4){e[d]=e[d]*this.redMultiplier+this.redOffset;e[d+1]=e[d+1]*this.greenMultiplier+this.greenOffset;e[d+2]=e[d+2]*this.blueMultiplier+this.blueOffset;e[d+3]=e[d+3]*this.alphaMultiplier+this.alphaOffset}return true};createjs.ColorFilter=createjs.promote(a,"Filter")}());this.createjs=this.createjs||{};(function(){function a(f,d,e,c){this.setColor(f,d,e,c)}var b=a.prototype;a.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];a.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];a.LENGTH=a.IDENTITY_MATRIX.length;b.setColor=function(f,d,e,c){return this.reset().adjustColor(f,d,e,c)};b.reset=function(){return this.copy(a.IDENTITY_MATRIX)};b.adjustColor=function(f,d,e,c){this.adjustHue(c);this.adjustContrast(d);this.adjustBrightness(f);return this.adjustSaturation(e)};b.adjustBrightness=function(c){if(c==0||isNaN(c)){return this}c=this._cleanValue(c,255);this._multiplyMatrix([1,0,0,0,c,0,1,0,0,c,0,0,1,0,c,0,0,0,1,0,0,0,0,0,1]);return this};b.adjustContrast=function(d){if(d==0||isNaN(d)){return this}d=this._cleanValue(d,100);var c;if(d<0){c=127+d/100*127}else{c=d%1;if(c==0){c=a.DELTA_INDEX[d]}else{c=a.DELTA_INDEX[(d<<0)]*(1-c)+a.DELTA_INDEX[(d<<0)+1]*c}c=c*127+127}this._multiplyMatrix([c/127,0,0,0,0.5*(127-c),0,c/127,0,0,0.5*(127-c),0,0,c/127,0,0.5*(127-c),0,0,0,1,0,0,0,0,0,1]);return this};b.adjustSaturation=function(f){if(f==0||isNaN(f)){return this}f=this._cleanValue(f,100);var c=1+((f>0)?3*f/100:f/100);var e=0.3086;var d=0.6094;var g=0.082;this._multiplyMatrix([e*(1-c)+c,d*(1-c),g*(1-c),0,0,e*(1-c),d*(1-c)+c,g*(1-c),0,0,e*(1-c),d*(1-c),g*(1-c)+c,0,0,0,0,0,1,0,0,0,0,0,1]);return this};b.adjustHue=function(f){if(f==0||isNaN(f)){return this}f=this._cleanValue(f,180)/180*Math.PI;var h=Math.cos(f);var e=Math.sin(f);var d=0.213;var c=0.715;var g=0.072;this._multiplyMatrix([d+h*(1-d)+e*(-d),c+h*(-c)+e*(-c),g+h*(-g)+e*(1-g),0,0,d+h*(-d)+e*(0.143),c+h*(1-c)+e*(0.14),g+h*(-g)+e*(-0.283),0,0,d+h*(-d)+e*(-(1-d)),c+h*(-c)+e*(c),g+h*(1-g)+e*(g),0,0,0,0,0,1,0,0,0,0,0,1]);return this};b.concat=function(c){c=this._fixMatrix(c);if(c.length!=a.LENGTH){return this}this._multiplyMatrix(c);return this};b.clone=function(){return(new a()).copy(this)};b.toArray=function(){var c=[];for(var e=0,d=a.LENGTH;e<d;e++){c[e]=this[e]}return c};b.copy=function(d){var c=a.LENGTH;for(var e=0;e<c;e++){this[e]=d[e]}return this};b.toString=function(){return"[ColorMatrix]"};b._multiplyMatrix=function(d){var g,f,c,e=[];for(g=0;g<5;g++){for(f=0;f<5;f++){e[f]=this[f+g*5]}for(f=0;f<5;f++){var h=0;for(c=0;c<5;c++){h+=d[f+c*5]*e[c]}this[f+g*5]=h}}};b._cleanValue=function(d,c){return Math.min(c,Math.max(-c,d))};b._fixMatrix=function(c){if(c instanceof a){c=c.toArray()}if(c.length<a.LENGTH){c=c.slice(0,c.length).concat(a.IDENTITY_MATRIX.slice(c.length,a.LENGTH))}else{if(c.length>a.LENGTH){c=c.slice(0,a.LENGTH)}}return c};createjs.ColorMatrix=a}());this.createjs=this.createjs||{};(function(){function a(c){this.matrix=c}var b=createjs.extend(a,createjs.Filter);b.toString=function(){return"[ColorMatrixFilter]"};b.clone=function(){return new a(this.matrix)};b._applyFilter=function(t){var K=t.data;var k=K.length;var j,q,C,F;var h=this.matrix;var f=h[0],e=h[1],d=h[2],c=h[3],L=h[4];var J=h[5],I=h[6],G=h[7],D=h[8],A=h[9];var H=h[10],E=h[11],B=h[12],z=h[13],w=h[14];var v=h[15],u=h[16],p=h[17],o=h[18],n=h[19];for(var m=0;m<k;m+=4){j=K[m];q=K[m+1];C=K[m+2];F=K[m+3];K[m]=j*f+q*e+C*d+F*c+L;K[m+1]=j*J+q*I+C*G+F*D+A;K[m+2]=j*H+q*E+C*B+F*z+w;K[m+3]=j*v+q*u+C*p+F*o+n}return true};createjs.ColorMatrixFilter=createjs.promote(a,"Filter")}());this.createjs=this.createjs||{};(function(){function a(){throw"Touch cannot be instantiated"}a.isSupported=function(){return !!(("ontouchstart" in window)||(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0)||(window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0))};a.enable=function(c,d,b){if(!c||!c.canvas||!a.isSupported()){return false}if(c.__touch){return true}c.__touch={pointers:{},multitouch:!d,preventDefault:!b,count:0};if("ontouchstart" in window){a._IOS_enable(c)}else{if(window.navigator.msPointerEnabled||window.navigator.pointerEnabled){a._IE_enable(c)}}return true};a.disable=function(b){if(!b){return}if("ontouchstart" in window){a._IOS_disable(b)}else{if(window.navigator.msPointerEnabled||window.navigator.pointerEnabled){a._IE_disable(b)}}delete b.__touch};a._IOS_enable=function(c){var b=c.canvas;var d=c.__touch.f=function(f){a._IOS_handleEvent(c,f)};b.addEventListener("touchstart",d,false);b.addEventListener("touchmove",d,false);b.addEventListener("touchend",d,false);b.addEventListener("touchcancel",d,false)};a._IOS_disable=function(c){var b=c.canvas;if(!b){return}var d=c.__touch.f;b.removeEventListener("touchstart",d,false);b.removeEventListener("touchmove",d,false);b.removeEventListener("touchend",d,false);b.removeEventListener("touchcancel",d,false)};a._IOS_handleEvent=function(c,h){if(!c){return}if(c.__touch.preventDefault){h.preventDefault&&h.preventDefault()}var g=h.changedTouches;var f=h.type;for(var d=0,b=g.length;d<b;d++){var k=g[d];var j=k.identifier;if(k.target!=c.canvas){continue}if(f=="touchstart"){this._handleStart(c,j,h,k.pageX,k.pageY)}else{if(f=="touchmove"){this._handleMove(c,j,h,k.pageX,k.pageY)}else{if(f=="touchend"||f=="touchcancel"){this._handleEnd(c,j,h)}}}}};a._IE_enable=function(c){var b=c.canvas;var d=c.__touch.f=function(f){a._IE_handleEvent(c,f)};if(window.navigator.pointerEnabled===undefined){b.addEventListener("MSPointerDown",d,false);window.addEventListener("MSPointerMove",d,false);window.addEventListener("MSPointerUp",d,false);window.addEventListener("MSPointerCancel",d,false);if(c.__touch.preventDefault){b.style.msTouchAction="none"}}else{b.addEventListener("pointerdown",d,false);window.addEventListener("pointermove",d,false);window.addEventListener("pointerup",d,false);window.addEventListener("pointercancel",d,false);if(c.__touch.preventDefault){b.style.touchAction="none"}}c.__touch.activeIDs={}};a._IE_disable=function(b){var c=b.__touch.f;if(window.navigator.pointerEnabled===undefined){window.removeEventListener("MSPointerMove",c,false);window.removeEventListener("MSPointerUp",c,false);window.removeEventListener("MSPointerCancel",c,false);if(b.canvas){b.canvas.removeEventListener("MSPointerDown",c,false)}}else{window.removeEventListener("pointermove",c,false);window.removeEventListener("pointerup",c,false);window.removeEventListener("pointercancel",c,false);if(b.canvas){b.canvas.removeEventListener("pointerdown",c,false)}}};a._IE_handleEvent=function(b,f){if(!b){return}if(b.__touch.preventDefault){f.preventDefault&&f.preventDefault()}var d=f.type;var g=f.pointerId;var c=b.__touch.activeIDs;if(d=="MSPointerDown"||d=="pointerdown"){if(f.srcElement!=b.canvas){return}c[g]=true;this._handleStart(b,g,f,f.pageX,f.pageY)}else{if(c[g]){if(d=="MSPointerMove"||d=="pointermove"){this._handleMove(b,g,f,f.pageX,f.pageY)}else{if(d=="MSPointerUp"||d=="MSPointerCancel"||d=="pointerup"||d=="pointercancel"){delete (c[g]);this._handleEnd(b,g,f)}}}}};a._handleStart=function(c,i,g,b,h){var f=c.__touch;if(!f.multitouch&&f.count){return}var d=f.pointers;if(d[i]){return}d[i]=true;f.count++;c._handlePointerDown(i,g,b,h)};a._handleMove=function(c,g,d,b,f){if(!c.__touch.pointers[g]){return}c._handlePointerMove(g,d,b,f)};a._handleEnd=function(b,g,f){var d=b.__touch;var c=d.pointers;if(!c[g]){return}d.count--;b._handlePointerUp(g,f,true);delete (c[g])};createjs.Touch=a}());this.createjs=this.createjs||{};(function(){var a=createjs.EaselJS=createjs.EaselJS||{};a.version="0.8.0";a.buildDate="Fri, 12 Dec 2014 17:32:57 GMT"})();ig.baked=true;ig.module("lib.plugins.createjs.easel").defines();ig.baked=true;ig.module("lib.plugins.createjs.ejecta").requires("lib.plugins.createjs.easel").defines(function(){if(!ig.device.ejecta){return}window.HTMLImageElement=window.HTMLImageElement||Image;createjs.TagRequest.prototype._hideTag=function(){if(this._tag.style){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"}};createjs.TagRequest.prototype._showTag=function(){if(this._tag.style){this._tag.style.visibility=this._startTagVisibility}};createjs.Touch._IOS_handleEvent=function(b,g){if(!b){return}if(b.__touch.preventDefault){g.preventDefault&&g.preventDefault()}var f=g.changedTouches;var d=g.type;for(var c=0,a=f.length;c<a;c++){var j=f[c];var h=j.identifier;if(d=="touchstart"){this._handleStart(b,h,g,j.pageX,j.pageY)}else{if(d=="touchmove"){this._handleMove(b,h,g,j.pageX,j.pageY)}else{if(d=="touchend"||d=="touchcancel"){this._handleEnd(b,h,g)}}}}};createjs.Stage.prototype._getElementRect=function(a){return{left:0,right:this.canvas.width,top:0,bottom:this.canvas.height}};createjs.DisplayObject.prototype.hitTest=function(a,e){var b=DisplayObject._hitTestContext;var c=DisplayObject._hitTestCanvas;b.setTransform(1,0,0,1,-a,-e);this.draw(b);var d=this._testHit(b);createjs.DisplayObject.resetHitTestCanvas();b=createjs.DisplayObject._hitTestContext;c=createjs.DisplayObject._hitTestCanvas;return d};createjs.Container.prototype._getObjectsUnderPoint=function(k,j,g,o){var m=createjs.DisplayObject._hitTestContext;var d=createjs.DisplayObject._hitTestCanvas;var b=this._matrix;var h=(o&1&&(this.onPress||this.onClick||this.onDoubleClick))||(o&2&&(this.onMouseOver||this.onMouseOut));if(this.cacheCanvas&&h){this.getConcatenatedMatrix(b);m.setTransform(b.a,b.b,b.c,b.d,b.tx-k,b.ty-j);m.globalAlpha=b.alpha;this.draw(m);if(this._testHit(m)){createjs.DisplayObject.resetHitTestCanvas();m=createjs.DisplayObject._hitTestContext;d=createjs.DisplayObject._hitTestCanvas;return this}}var e=this.children.length;for(var f=e-1;f>=0;f--){var c=this.children[f];if(!c.isVisible()||!c.mouseEnabled){continue}if(c instanceof createjs.Container){var n;if(h){n=c._getObjectsUnderPoint(k,j);if(n){return this}}else{n=c._getObjectsUnderPoint(k,j,g,o);if(!g&&n){return n}}}else{if(!o||h||(o&1&&(c.onPress||c.onClick||c.onDoubleClick))||(o&2&&(c.onMouseOver||c.onMouseOut))){var a=c.hitArea;c.getConcatenatedMatrix(b);if(a){b.appendTransform(a.x+c.regX,a.y+c.regY,a.scaleX,a.scaleY,a.rotation,a.skewX,a.skewY,a.regX,a.regY);b.alpha*=a.alpha/c.alpha}m.globalAlpha=b.alpha;m.setTransform(b.a,b.b,b.c,b.d,b.tx-k,b.ty-j);(a||c).draw(m);if(!this._testHit(m)){continue}createjs.DisplayObject.resetHitTestCanvas();m=createjs.DisplayObject._hitTestContext;d=createjs.DisplayObject._hitTestCanvas;if(h){return this}else{if(g){g.push(c)}else{return c}}}}}return null};createjs.DisplayObject.prototype.hitTest=function(a,e){var b=DisplayObject._hitTestContext;var c=DisplayObject._hitTestCanvas;b.setTransform(1,0,0,1,-a,-e);this.draw(b);var d=this._testHit(b);DisplayObject.resetHitTestCanvas();b=DisplayObject._hitTestContext;c=DisplayObject._hitTestCanvas;return d};createjs.Stage.prototype.initialize=function(a){this.Container_initialize();this.canvas=a;this._pointerData={};this.enableDOMEvents(true)};createjs.Bitmap.prototype.isVisible=function(){return this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&this.image}});ig.baked=true;ig.module("lib.plugins.createjs.impact").requires("lib.plugins.createjs.preload","lib.plugins.createjs.tween","lib.plugins.createjs.sound","lib.plugins.createjs.easel","lib.plugins.createjs.ejecta").defines(function(){createjs.DisplayObject.prototype.zIndex=0;createjs.DisplayObject.prototype.mouseEnabled=false;var a=createjs.Stage.prototype;a.parentAddChild=a.addChild;a.addChild=function(){var b=this.parentAddChild.apply(this,arguments);b.x=b.y=-999999;this.sortChildren()};a.sortChildren=function(){var b=this.children.length;this.children.sort(function(d,c){if(d.zIndex===0){d.zIndex=b}else{if(c.zIndex===0){c.zIndex=b}}return d.zIndex-c.zIndex})}});ig.baked=true;ig.module("lib.game.loader").requires("lib.plugins.createjs.preload","lib.plugins.createjs.sound").defines(function(){ig.Loader=ig.Class.extend({loadCallback:null,loadQueue:null,status:0,spriteSheet:{},init:function(){this.loadQueue=new createjs.LoadQueue(false);this.loadQueue.setMaxConnections(1);this.loadQueue.installPlugin(createjs.Sound);this.loadQueue.on("fileload",this.fileLoadComplete,this);createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]);createjs.Sound.alternateExtensions=["mp3","ogg"];createjs.Sound.EXTENSION_MAP.mp3="mpeg";if(ig.device.mobile&&createjs.WebAudioPlugin.isSupported()){document.addEventListener("touchstart",function a(){document.removeEventListener("touchstart",a,false);createjs.WebAudioPlugin.playEmptySound()},false)}},load:function(c,e){this.loadCallback=e||null;var b=[];if(c=="menu"){b=[{id:"menu-bg",src:"media/images/{scale}/general/bg.jpg"}]}else{if(c=="catch"){b=[{id:"catch-bg-easy",src:"media/images/{scale}/catch/bg-easy.jpg"},{id:"catch-bg-hard",src:"media/images/{scale}/catch/bg-hard.jpg"},{id:"catch-bg-pro",src:"media/images/{scale}/catch/bg-pro.jpg"},{id:"catch-sprites",src:"media/images/{scale}/catch/sprites.png"},{id:"catch-atlas",src:"js/lib/game/data/catch-sprites.json"},{id:"sfx-ding",src:"media/audio/sfx/ding.mp3"},{id:"sfx-wrong",src:"media/audio/sfx/wrong.mp3"},{id:"sfx-race-gameover-lose",src:"media/audio/sfx/race-gameover-lose.mp3"},{id:"sfx-race-gameover-win",src:"media/audio/sfx/race-gameover-win.mp3"},{id:"bg-music-catch",src:"media/audio/music/catch-loop.mp3"}]}else{if(c=="racecar"){b=[{id:"racecar-bg",src:"media/images/{scale}/racecar/bg.png"},{id:"racecar-sprites",src:"media/images/{scale}/racecar/sprites.png"},{id:"racecar-atlas",src:"js/lib/game/data/racecar-sprites.json"},{id:"sfx-race-intro",src:"media/audio/sfx/race-intro.mp3"},{id:"sfx-ding",src:"media/audio/sfx/ding.mp3"},{id:"sfx-wrong",src:"media/audio/sfx/wrong.mp3"},{id:"sfx-race-gameover-lose",src:"media/audio/sfx/race-gameover-lose.mp3"},{id:"sfx-race-gameover-win",src:"media/audio/sfx/race-gameover-win.mp3"},{id:"bg-music-drive",src:"media/audio/music/drive-loop.mp3"}]}else{if(c=="match"){b=[{id:"match-bg-1",src:"media/images/{scale}/match/bg-1.jpg"},{id:"match-bg-2",src:"media/images/{scale}/match/bg-2.jpg"},{id:"match-sprites",src:"media/images/{scale}/match/sprites.png"},{id:"match-atlas",src:"js/lib/game/data/match-sprites.json"},{id:"sfx-gameover-win",src:"media/audio/sfx/gameover-win.mp3"},{id:"sfx-glitter",src:"media/audio/sfx/glitter.mp3"},{id:"sfx-ding",src:"media/audio/sfx/ding.mp3"},{id:"sfx-wrong2",src:"media/audio/sfx/wrong2.mp3"},]}else{if(c=="sound"){b=[{id:"all-audio",src:"media/audio/vo/all"+(ig.device.mobile?"-mobile":"")+".mp3",data:{channels:1,audioSprite:this.getResult("all-audio-sprites").audioSprite}}]}}}}}b.push({id:"all-audio-sprites",src:"media/audio/vo/all"+(ig.device.mobile?"-mobile":"")+".json"},{id:"bg-gradient",src:"media/images/{scale}/general/bg-gradient.jpg"},{id:"general-sprites",src:"media/images/{scale}/general/sprites.png"},{id:"general-atlas",src:"js/lib/game/data/general-sprites.json"});for(var a=0,d=~~(ig.system.scale*100);a<b.length;a++){b[a].src+=ig.nocache;b[a].src=b[a].src.replace("{scale}",d)}if(b.length){this.loadQueue.loadManifest(b,true,ig.prefix)}else{this.loadCallback&&setTimeout(this.loadCallback.bind(this,1,{}),1)}},fileLoadComplete:function(a){this.status=this.loadQueue.progress;if(this.loadCallback){this.loadCallback(this.status,a)}},getItem:function(a){return this.loadQueue.getItem(a)},getResult:function(b,a){return this.loadQueue.getResult(b,a)},getSpriteSheet:function(b){var d=this.spriteSheet[b];if(!d){var e=this.getResult(b+"-atlas");e.images=[this.getResult(b+"-sprites")];for(var c=0;c<e.frames.length;c++){for(var a=0;a<e.frames[c].length;a++){e.frames[c][a]*=ig.system.scale}}d=new createjs.SpriteSheet(e);this.spriteSheet[b]=d}return d}});ig.loader=new ig.Loader});ig.baked=true;ig.module("lib.impact.scene").defines(function(){ig.Scene=ig.Class.extend({entities:[],staticInstantiate:function(){ig.scene&&ig.scene.dispose();ig.scene=this;return null},update:function(c){for(var a=0,b;b=this.entities[a++];){if(!b.disObj instanceof createjs.DisplayObject){b.update(c)}}},draw:function(){},getEntityByName:function(a,c,b){return this.getEntitiesByName(a,c,b)[0]||null},getEntitiesByName:function(c,g,e){g=g||this.entities;for(var d=0,b=[],f;f=g[d++];){if((e&&f instanceof e&&f.name==c)||(!e&&f.name==c)){b.push(f)}}return b},getEntityByType:function(a,b){return this.getEntitiesByType(a,b)[0]||null},getEntitiesByType:function(d,f){f=f||this.entities;for(var b=[],c=0,e;e=f[c++];){if(e instanceof d){b.push(e)}}return b},spawnEntity:function(d,a,f,c){if(!d){throw ("Can't spawn entity of type "+d)}var e=new d(a,f,c);if(e.disObj instanceof createjs.DisplayObject){e.disObj.on("tick",e.update,e);if(e.disObj.zIndex===0){e.disObj.zIndex=e.zIndex}var b=ig.game.stages[e.stageIndex];if(b){b.addChild(e.disObj)}}this.entities.push(e);return e},removeEntity:function(b){if(b.disObj instanceof createjs.DisplayObject){b.disObj.removeAllEventListeners();var a=ig.game.stages[b.stageIndex];a&&a.removeChild(b.disObj)}this.entities.erase(b)},sortEntities:function(b){if(ig.game&&ig.game.stages){b=typeof b=="undefined"?0:b;for(var c=0,a;a=ig.game.stages[c++];){if((b&&c-1==b)||typeof b=="undefined"){a.sortChildren&&a.sortChildren()}}}return this},dispose:function(){while(this.entities.length){this.entities.pop().kill()}this.entities.length=0;ig.scene=null}})});ig.baked=true;ig.module("lib.impact.entity").requires("lib.plugins.createjs.easel").defines(function(){ig.Entity=ig.Class.extend({disObj:null,stageIndex:0,zIndex:0,pos:{x:0,y:0},size:{x:0,y:0,r:0},scale:{x:1,y:1},localAnchor:{x:0.5,y:0.5},screenAnchor:{x:0.5,y:0.5},isUI:false,init:function(a,c,b){this.pos.x=a||this.pos.x;this.pos.y=c||this.pos.y;ig.merge(this,b||{})},update:function(f){if(this.disObj){var b=this.disObj,d=ig.system,a=ig.game.stages[this.stageIndex];isSprite=b instanceof createjs.Sprite,isBitmap=b instanceof createjs.Bitmap,scale=isSprite?d.scale:1,x=this.isUI?a.x:0,y=this.isUI?a.y:0,sx=this.size.x*scale,sy=this.size.y*scale;b.scaleX=this.scale.x*(isSprite||isBitmap?d.fixedScale:scale);b.scaleY=this.scale.y*(isSprite||isBitmap?d.fixedScale:scale);b.regX=sx*this.localAnchor.x;b.regY=sy*this.localAnchor.y;b.x=(d.fixedWidth*this.screenAnchor.x)+this.pos.x-x;var c=ig.game.videoIndex<=2?60:0;b.y=((d.fixedHeight-c)*this.screenAnchor.y)+this.pos.y-y}},kill:function(){ig.scene.removeEntity(this)},inBounds:function(a){var v=ig.game.stages.length?ig.game.stages[this.stageIndex]:null,n=ig.input.mouse.x,m=ig.input.mouse.y,c=this.disObj?this.disObj.getTransformedBounds():null,j=c&&c.width,u=c&&c.height;if(!v||!c){return false}if(!this.size.r){var k=this.localAnchor.x,f=this.localAnchor.y,t=this.size.x*(a?this.scale.x:1),p=this.size.y*(a?this.scale.y:1),g=c.x+(this.isUI?v.x:0)+j*k,e=c.y+(this.isUI?v.y:0)+u*f,b=n>=g-(t*k),z=n<=g+(t*(1-k)),q=m>=e-(p*f),d=m<=e+(p*(1-f));return b&&z&&q&&d}else{var l=n-(c.x+(j*this.localAnchor.x)),i=m-(c.y+(u*this.localAnchor.y)),o=this.size.r;return l*l+i*i<=(o*o)*(a?this.scale.x:1)}}})});ig.baked=true;ig.module("lib.game.entities.misc").requires("lib.impact.entity").defines(function(){ig.Entity.Misc=ig.Entity.extend({isUI:true,init:function(){this.parent.apply(this,arguments);if(this.name=="loader"){this.disObj=new createjs.Container;this.lastStatus=0;this.status=0;var f=new createjs.Graphics().beginFill("#000").drawRect(0,0,ig.system.width,ig.system.height+60);var e=new createjs.Shape(f);e.x=-ig.system.width*0.5;e.y=-ig.system.height*0.5;e.alpha=this.alpha||0;this.disObj.addChild(e);var c=new createjs.Text(ig.strings.LOADING,"48px bodegasans","#fff");c.textAlign="center";c.y=-12;c.alpha=this.alpha||0;this.disObj.addChild(c);var f=new createjs.Graphics().beginFill("#eee").drawRoundRect(0,0,200,16,8);var e=new createjs.Shape(f);e.alpha=this.alpha||0;e.x-=100;e.y=18;this.disObj.addChild(e);f=new createjs.Graphics().beginFill("#96c040").drawRoundRect(0,0,200,16,8);e=new createjs.Shape(f);e.alpha=this.alpha||0;e.x-=100;e.y=18;this.disObj.addChild(e)}else{if(this.name=="x"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"x");this.localAnchor.x=this.localAnchor.y=this.screenAnchor.x=this.screenAnchor.y=0;this.size.x=this.size.y=48}else{if(this.name=="orange"){var f=new createjs.Graphics().beginFill("#f68920").drawRect(0,0,ig.system.width,60);this.disObj=new createjs.Shape(f);this.size.x=ig.system.width;this.size.y=60}else{if(this.name=="x-bad"){this.disObj=new createjs.Container;this.size.x=99;this.size.y=107;if(ig.scene instanceof ig.Scene.RaceCar){var i=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"x-red");this.disObj.addChild(i);var b=new createjs.Text(ig.strings.RACE.POPUP_MISS,"54px bodegasans","#ec4802");b.textAlign="center";b.x=this.size.x*0.5;b.y=140;this.disObj.addChild(b)}else{if(ig.scene instanceof ig.Scene.Catch){i=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"x-purple");this.disObj.addChild(i);var b=new createjs.Text(ig.strings.RACE.POPUP_MISS,"54px bodegasans","#660099");b.textAlign="center";b.x=this.size.x*0.5;b.y=140;this.disObj.addChild(b)}}}else{if(this.name=="bg-white"){var f=new createjs.Graphics().beginFill("#fff").drawRect(0,0,ig.system.width,ig.system.height);this.disObj=new createjs.Shape(f);this.size.x=ig.system.width;this.size.y=ig.system.height}else{if(this.name=="bg-gradient"){this.disObj=new createjs.Bitmap(ig.loader.getResult("bg-gradient"));this.size.x=this.disObj.image.width;this.size.y=this.disObj.image.height}else{if(this.name=="bg-grey"){var f=new createjs.Graphics().beginFill("#666").drawRect(0,0,ig.system.width-20,100);this.disObj=new createjs.Shape(f);this.size.x=ig.system.width-20;this.size.y=100}else{if(this.name=="circle-noah"){this.disObj=new createjs.Container;this.size.x=this.size.y=165;var a=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"circle-noah");this.disObj.addChild(a);var h=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"circle-noah-eyes");this.disObj.addChild(h)}else{if(this.name=="circle-coco"){this.disObj=new createjs.Container;this.size.x=this.size.y=165;var a=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"circle-coco");this.disObj.addChild(a);var h=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"circle-coco-eyes");this.disObj.addChild(h)}else{if(this.name=="text-directions"){this.disObj=new createjs.Text(ig.strings.DIRECTIONS_STEP,"48px bodegasans","#3f8484");this.disObj.lineWidth=450;this.disObj.textAlign="center";this.disObj.lineHeight=48}else{if(this.name=="text-name"){this.disObj=new createjs.Text("","64px bodegasans","#cc0101");this.disObj.textAlign="center";this.disObj.visible=false}else{if(this.name=="text-difficulty"){this.disObj=new createjs.Text(ig.strings.DIFFICULTY_TITLE,"64px bodegasans","#3f8484");this.disObj.textAlign="center"}else{if(this.name=="balloon"){this.disObj=new createjs.Container;this.disObj.rotation=5;this.size.x=241;this.size.y=698;this.rotation=0;var d=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"balloon");this.disObj.addChild(d);var b=new createjs.Text(ig.strings.DIFFICULTY_BACK,"42px bodegasans","#fff");b.x=25;b.y=110;this.disObj.addChild(b)}else{if(this.name=="btn-balloon"){var f=new createjs.Graphics().beginFill("#fff").drawCircle(0,0,125);this.disObj=new createjs.Shape(f);this.disObj.alpha=0;this.disObj.setBounds(-60,-60,120,120);this.size.r=this.size.x=this.size.y=120}else{if(this.name=="text-change"){this.disObj=new createjs.Text(ig.strings.CHANGE_YOUR_DIFFICULTY,"42px bodegasans","#fff");this.disObj.visible=false}else{if(this.name=="text-item"){this.disObj=new createjs.Text("","42px bodegasans","#c6f6c6");this.disObj.textAlign="center"}else{if(this.name=="text-end-header"){if(ig.scene instanceof ig.Scene.RaceCar){this.disObj=new createjs.Text(ig.scene.miss==3?ig.strings.RACE.END_HEADER_OHNO:ig.strings.RACE.END_HEADER_TIMESUP,"42px bodegasans","#506d29")}else{if(ig.scene instanceof ig.Scene.Catch){this.disObj=new createjs.Text(ig.scene.miss==3?ig.strings.CATCH.END_MISSES:ig.strings.CATCH.END_GOOD_JOB,"42px bodegasans","#506d29")}}this.disObj.textAlign="center"}else{if(this.name=="text-end-score"){if(ig.scene instanceof ig.Scene.RaceCar){this.disObj=new createjs.Text(ig.strings.RACE.END_SCORE.replace("{score}",ig.scene.score),"48px bodegasans","#0067CC")}else{if(ig.scene instanceof ig.Scene.Catch){this.disObj=new createjs.Text(ig.strings.CATCH.END_SCORE.replace("{score}",ig.scene.score),"48px bodegasans","#0067CC")}}this.disObj.textAlign="center"}else{if(this.name=="text-end-stats"){if(ig.scene instanceof ig.Scene.RaceCar){this.disObj=new createjs.Text(ig.strings.RACE.END_STATS.replace("{correct}",ig.scene.correct).replace("{miss}",ig.scene.miss),"42px bodegasans","#0067CC")}else{if(ig.scene instanceof ig.Scene.Catch){this.disObj=new createjs.Text(ig.strings.CATCH.END_STATS.replace("{correct}",ig.scene.correct).replace("{miss}",ig.scene.miss),"42px bodegasans","#0067CC")}}this.disObj.textAlign="center"}else{if(this.name=="highlight"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"highlight");this.disObj.visible=false;this.size.x=this.size.y=194}else{if(this.name=="arrows"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"arrows");this.size.x=271;this.size.y=127}}}}}}}}}}}}}}}}}}}}}},update:function(c){var b=c.delta*0.001;if(this.name=="loader"){this.lastStatus=!this.alpha?Math.lerp(this.lastStatus,this.status,0.08):1;var d=this.disObj.getChildAt(3);d.graphics.clear().beginFill("#96c040").drawRoundRect(0,0,(this.lastStatus*200).limit(16,Infinity),16,8).endFill()}else{if(this.name=="x"){var a=this.inBounds();if(a){ig.game.cursorPointer=true}if(a&&ig.input.released(ig.KEY.MOUSE1)){ig.game.switchScene(ig.Scene.Menu,{skipIntro:true})}}else{if(this.name=="balloon"){this.disObj.rotation=5+(Math.cos(this.rotation)*2);this.rotation+=b}else{if(this.name=="btn-balloon"&&this.stateIds.indexOf(ig.scene.currentStateId)>-1){var a=this.inBounds();if(a){ig.game.cursorPointer=true}if(a&&ig.input.released(ig.KEY.MOUSE1)){ig.scene.switchState(ig.scene.stateId.directions)}}}}}this.parent(c)},switchState:function(a,b){if(this.name=="loader"){if(a==ig.scene.stateId.loadStart){createjs.Tween.get(this.disObj.getChildAt(0)).to({alpha:1},400);createjs.Tween.get(this.disObj.getChildAt(1)).wait(400).to({alpha:1},400);createjs.Tween.get(this.disObj.getChildAt(2)).wait(400).to({alpha:1},400);createjs.Tween.get(this.disObj.getChildAt(3)).wait(400).to({alpha:1},400)}else{if(a==ig.scene.stateId.loadEnd){createjs.Tween.get(this.disObj.getChildAt(1)).to({alpha:0},400);this.disObj.getChildAt(2).visible=false;createjs.Tween.get(this.disObj.getChildAt(3)).to({alpha:0},400);createjs.Tween.get(this.disObj.getChildAt(0)).wait(400).to({alpha:0},400).call(this.kill,null,this).call(ig.scene.switchState,[ig.scene.stateId.loadComplete],ig.scene)}}}else{if(this.name=="bg-white"){if(a==ig.scene.stateId.directions){this.disObj.alpha=0;this.pos.x-=this.size.x*0.5;createjs.Tween.get(this.pos).to({x:0},800,createjs.Ease.quadOut);createjs.Tween.get(this.disObj).to({alpha:0.6},800)}else{if(a==ig.scene.stateId.game){this.kill()}}}else{if(this.name=="bg-gradient"){if((a==ig.scene.stateId.difficulty&&b!=ig.scene.stateId.end)||a==ig.scene.stateId.end){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},600)}else{if(a==ig.scene.stateId.game||a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},400).call(this.kill,null,this)}}}else{if(this.name=="bg-grey"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="circle-noah"){if(ig.scene instanceof ig.Scene.Match){if(a==ig.scene.stateId.title){this.scale.x=this.scale.y=0;this.disObj.rotation=360;createjs.Tween.get(this.scale).to({x:1,y:1},800,createjs.Ease.backOut);createjs.Tween.get(this.disObj).to({rotation:0},800,createjs.Ease.backOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.scale).to({x:0.75,y:0.75},800,createjs.Ease.quadOut);createjs.Tween.get(this.pos).to({x:-425,y:-80},800,createjs.Ease.quadOut)}}}else{if(a==ig.scene.stateId.directions){this.disObj.visible=true;this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game){this.kill()}}}}else{if(this.name=="circle-coco"){if(ig.scene instanceof ig.Scene.Match){if(a==ig.scene.stateId.title){this.scale.x=this.scale.y=0;this.disObj.rotation=360;this.disObj.visible=false;createjs.Tween.get(this.scale).to({x:1,y:1},800,createjs.Ease.backOut);createjs.Tween.get(this.disObj).to({rotation:0},800,createjs.Ease.backOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.scale).to({x:0.75,y:0.75},800,createjs.Ease.quadOut);createjs.Tween.get(this.pos).to({x:-425,y:-80},800,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200)}}}}else{if(a==ig.scene.stateId.directions){this.disObj.visible=false;this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game){this.kill()}}}}else{if(this.name=="text-directions"){if(a==ig.scene.stateId.directions){this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game){this.kill()}}}else{if(this.name=="text-name"){if(a==ig.scene.stateId.game){this.kill()}}else{if(this.name=="text-difficulty"){if(a==ig.scene.stateId.difficulty){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},1200)}else{if(a==ig.scene.stateId.game||a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="balloon"){if(a==ig.scene.stateId.difficulty){this.pos.y+=this.size.y;createjs.Tween.get(this.pos).to({y:ig.scene instanceof ig.Scene.RaceCar?200:160},1200)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}else{if(a==ig.scene.stateId.game){createjs.Tween.get(this.disObj).to({alpha:0},400).call(this.kill,null,this);createjs.Tween.get(this.pos).to({y:-ig.system.height*0.5},400,createjs.Ease.backIn)}}}}else{if(this.name=="text-change"||this.name=="text-item"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name.indexOf("text-end-")>-1){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.game){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}else{if(a==ig.scene.stateId.end){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},800)}}}else{if(this.name=="arrows"){if(a==ig.scene.stateId.game){this.disObj.alpha=0;createjs.Tween.get(this.disObj).wait(600).to({alpha:1},800)}else{if(a==ig.scene.stateId.difficulty){createjs.Tween.get(this.disObj,{overwrite:true}).to({alpha:0},200).call(this.kill,null,this)}}}}}}}}}}}}}}}},statusUpdate:function(a){this.status=a},statusReady:function(){return this.status>=1&&this.lastStatus>=0.98}})});ig.baked=true;ig.module("lib.game.scenes.base").requires("lib.impact.scene","lib.game.entities.misc").defines(function(){ig.Scene.Base=ig.Scene.extend({currentStateId:-1,stateId:{loadStart:0,loadEnd:1,loadComplete:2,transit:3,game:4,title:5,directions:6,difficulty:7},objectList:["cucumber","flipflops","grapes","lettuce","lifepreserver","pineapple","strawberries","sunglasses","bathingsuit","umbrella"],init:function(){},update:function(a){if(this.currentStateId==this.stateId.directions){this.highlightObject(false)}this.parent(a)},switchState:function(k){var l=ig.system.fixedWidth,e=ig.system.fixedHeight,d=l*0.5,g=e*0.5,j=this.currentStateId;if(k==this.stateId.directions&&!(this instanceof ig.Scene.Match)){if(!this.getEntityByName("bg-white")&&(j==this.stateId.title||j==this.stateId.difficulty)){this.spawnEntity(ig.Entity.Misc,-d,0,{name:"bg-white",zIndex:-1000});this.spawnEntity(ig.Entity.Misc,0,0,{name:"highlight",zIndex:9});this.spawnEntity(ig.Entity.Obj,-350,-125,{name:"object-flipflops",zIndex:10});this.spawnEntity(ig.Entity.Obj,-175,-125,{name:"object-sunglasses",zIndex:10});this.spawnEntity(ig.Entity.Obj,0,-125,{name:"object-lifepreserver",zIndex:10});this.spawnEntity(ig.Entity.Obj,175,-125,{name:"object-umbrella",zIndex:10});this.spawnEntity(ig.Entity.Obj,350,-125,{name:"object-bathingsuit",zIndex:10});this.spawnEntity(ig.Entity.Obj,-350,25,{name:"object-grapes",zIndex:10});this.spawnEntity(ig.Entity.Obj,-175,25,{name:"object-lettuce",zIndex:10});this.spawnEntity(ig.Entity.Obj,0,25,{name:"object-pineapple",zIndex:10});this.spawnEntity(ig.Entity.Obj,175,25,{name:"object-cucumber",zIndex:10});this.spawnEntity(ig.Entity.Obj,350,25,{name:"object-strawberries",zIndex:10});this.spawnEntity(ig.Entity.Misc,-400,200,{name:"circle-noah"});this.spawnEntity(ig.Entity.Misc,-400,200,{name:"circle-coco"});this.spawnEntity(ig.Entity.Misc,0,175,{name:"text-directions"});this.spawnEntity(ig.Entity.Misc,0,190,{name:"text-name"});this.spawnEntity(ig.Entity.Btn,400,200,{name:"btn-next",stateIds:[this.stateId.directions]})}var a=this.getEntityByName("text-directions");if(a){a.disObj.visible=true}createjs.Sound.play(ig.config.sound["directionsIntro_"+Math.rand(1,2)],createjs.Sound.INTERRUPT_ANY);createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=k},null,this)}else{if(k==this.stateId.difficulty){if(j==this.stateId.directions||j==this.stateId.game){this.spawnEntity(ig.Entity.Misc,0,0,{name:"bg-gradient",zIndex:500});if(this instanceof ig.Scene.RaceCar){this.spawnEntity(ig.Entity.RaceCar.Misc,-425,100,{name:"noah",zIndex:550})}else{if(this instanceof ig.Scene.Catch){this.spawnEntity(ig.Entity.Catch.Misc,-325,100,{name:"coco",zIndex:550})}}}else{if(j==this.stateId.end){if(this instanceof ig.Scene.Catch){this.spawnEntity(ig.Entity.Catch.Misc,-325,100,{name:"coco",zIndex:550})}}}if(this instanceof ig.Scene.RaceCar){this.spawnEntity(ig.Entity.Misc,-315,g,{name:"balloon",zIndex:551,localAnchor:{x:0.5,y:0.8}});this.spawnEntity(ig.Entity.Misc,-175,-150,{name:"btn-balloon",stateIds:[this.stateId.difficulty]})}else{if(this instanceof ig.Scene.Catch){this.spawnEntity(ig.Entity.Misc,-390,g,{name:"balloon",zIndex:551,localAnchor:{x:0.5,y:0.75}});this.spawnEntity(ig.Entity.Misc,-250,-150,{name:"btn-balloon",stateIds:[this.stateId.difficulty]})}}this.spawnEntity(ig.Entity.Misc,0,-150,{name:"text-difficulty",zIndex:600});this.spawnEntity(ig.Entity.Btn,0,-50,{name:"btn-easy",stateIds:[this.stateId.difficulty],zIndex:600});this.spawnEntity(ig.Entity.Btn,0,50,{name:"btn-hard",stateIds:[this.stateId.difficulty],zIndex:600});this.spawnEntity(ig.Entity.Btn,0,150,{name:"btn-pro",stateIds:[this.stateId.difficulty],zIndex:600});var b=createjs.Sound.play(ig.config.sound.chooseLevel,createjs.Sound.INTERRUPT_ANY);b.on("complete",function(){this.currentStateId=k},this)}}for(var c=0,f;c<ig.scene.entities.length;c++){f=ig.scene.entities[c];f.switchState&&f.switchState(k,this.currentStateId);if(f!==ig.scene.entities[c]){c--}}this.currentStateId=this.stateId.transit},highlightObject:function(d){var a=this.getEntityByName("highlight");var c=this.getEntityByName("text-directions");var b=this.getEntityByName("text-name");if(d===false){if(a){a.disObj.visible=false}if(b.disObj.visible){b.disObj.text=""}}if(d){if(a){a.pos.x=d.pos.x;a.pos.y=d.pos.y;a.disObj.visible=true}this.getEntityByName("circle-noah").disObj.visible=false;this.getEntityByName("circle-coco").disObj.visible=true;b.disObj.visible=true;b.disObj.text=ig.strings["OBJECT_"+d.objName.toUpperCase()];if(c){c.disObj.visible=false}}}})});ig.baked=true;ig.module("lib.game.scenes.video").requires("lib.game.scenes.base").defines(function(){ig.Scene.Video=ig.Scene.Base.extend({boundOnResizeWindow:null,init:function(){this.boundOnResizeWindow=this.onResizeWindow.bind(this);window.addEventListener("resize",this.boundOnResizeWindow,false);var e=ig.$("#game-canvas");var b=ig.$("#game-wrapper");var a=ig.$new("video");a.controls=true;a.style.marginLeft=a.style.marginTop="-9999px";this.addSource(ig.config.videos[ig.game.videoIndex],a);b.insertBefore(a,b.firstChild);var d=function(){this.removeEventListener("exitFullscreen",d,false);this.removeEventListener("webkitExitFullscreen",d,false);this.removeEventListener("webkitendfullscreen",d,false);this.removeEventListener("mozCancelFullScreen",d,false);this.removeEventListener("msExitFullscreen",d,false);ig.scene.videoComplete()}.bind(a);a.addEventListener("exitFullscreen",d,false);a.addEventListener("webkitExitFullscreen",d,false);a.addEventListener("webkitendfullscreen",d,false);a.addEventListener("mozCancelFullScreen",d,false);a.addEventListener("msExitFullscreen",d,false);a.addEventListener("ended",function g(){a.removeEventListener("ended",g,false);ig.scene.videoComplete()},false);if(ig.game.videoIndex==0){var c=ig.device.mobile?"touchstart":"click";e.addEventListener(c,function f(){var h=ig.$("video")[0];h.style.marginLeft=h.style.marginTop="";h.play();e.removeEventListener(c,f,false);e.style.display="none";ig.scene.getEntityByName("btn-play-big").kill()},false);this.spawnEntity(ig.Entity.Btn,0,0,{name:"btn-play-big"});this.switchState(this.stateId.title)}else{e.style.display="none";a.style.marginLeft=a.style.marginTop="";a.play()}this.onResizeWindow()},dispose:function(){window.addEventListener("resize",this.boundOnResizeWindow,false);this.parent()},videoComplete:function(){var a=ig.$("#game-wrapper");a.removeChild(ig.$("video")[0]);if(document.exitFullscreen){document.exitFullscreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}var b=ig.$("#game-canvas");b.style.display="";if(ig.game.videoIndex==0){ig.game.switchScene(ig.Scene.Match,{version:1})}else{if(ig.game.videoIndex==1){ig.game.switchScene(ig.Scene.Match,{version:2})}else{if(ig.game.videoIndex==2){ig.game.switchScene(ig.Scene.Menu)}}}ig.game.videoIndex++},addSource:function(c,a){var b=ig.$new("source");b.src=(c.indexOf("http://")>-1?c:"media/videos/"+c)+".mp4";b.type="video/mp4";a.appendChild(b);var b=ig.$new("source");b.src=(c.indexOf("http://")>-1?c:"media/videos/"+c)+".ogv";b.type="video/ogg";a.appendChild(b);return b},onResizeWindow:function(){var b=ig.$("#game-wrapper");var d=ig.$("video"),a,c=0;for(;a=d[c++];){a.style.width=b.style.width;a.style.height=b.style.height}}})});ig.baked=true;ig.module("lib.game.entities.obj").requires("lib.impact.entity").defines(function(){ig.Entity.Obj=ig.Entity.extend({isUI:true,objName:"",init:function(){this.parent.apply(this,arguments);this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),this.name);this.size.r=50;this.objName=this.name.split("-")[1];if(ig.scene instanceof ig.Scene.RaceCar){if(ig.scene.currentStateId==ig.scene.stateId.game){this.points=[{x:55*this.side,y:0},{x:310*this.side,y:ig.system.height}]}}if(this.name=="object-cucumber"){this.size.x=95;this.size.y=82}else{if(this.name=="object-flipflops"){this.size.x=131;this.size.y=70}else{if(this.name=="object-grapes"){this.size.x=148;this.size.y=70}else{if(this.name=="object-lettuce"){this.size.x=105;this.size.y=79}else{if(this.name=="object-lifepreserver"){this.size.x=99;this.size.y=96}else{if(this.name=="object-pineapple"){this.size.x=66;this.size.y=122}else{if(this.name=="object-strawberries"){this.size.x=108;this.size.y=113}else{if(this.name=="object-sunglasses"){this.size.x=153;this.size.y=40}else{if(this.name=="object-bathingsuit"){this.size.x=79;this.size.y=136}else{if(this.name=="object-umbrella"){this.size.x=108;this.size.y=146}}}}}}}}}}},update:function(f){var c=f.delta*0.001;if(ig.scene.currentStateId==ig.scene.stateId.directions){var a=this.inBounds();if(ig.device.mobile&&!(ig.input.pressed(ig.KEY.MOUSE1)||ig.input.state(ig.KEY.MOUSE1))){a=false}if(a){ig.game.cursorPointer=true}ig.scene.highlightObject(a?this:null);if(!this.wasInBounds&&a){createjs.Sound.play(ig.config.sound.object[this.objName],createjs.Sound.INTERRUPT_ANY);this.wasInBounds=true}else{if(!a){this.wasInBounds=false}}}else{if(ig.scene.currentStateId==ig.scene.stateId.game){if(ig.scene instanceof ig.Scene.RaceCar){var b=this.pointPosition;var d=ig.config.wordRace[ig.scene.difficulty].speed;this.pointPosition+=c*d;b=createjs.Ease.circIn(b);this.pos.x=Math.lerp(this.points[0].x,this.points[1].x,b);this.pos.y=Math.lerp(this.points[0].y,this.points[1].y,b);this.scale.x=this.scale.y=Math.lerp(0.4,1.8,b);this.disObj.visible=!isNaN(b);if(this.pointPosition>0.95&&!this.checked){ig.scene.checkObjects(this);this.checked=true}if(this.pointPosition>1.2){this.kill()}}else{if(ig.scene instanceof ig.Scene.Catch){this.pos.y+=this.fallRate*c;if(this.pos.y-this.size.y>ig.system.height){ig.scene.checkObjectsComplete();this.kill()}}}}}this.parent(f)},switchState:function(a,b){if(a==ig.scene.stateId.directions){if(this.killIt){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}else{if(this.points||this.fallRate){this.kill();return}this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}}else{if(a==ig.scene.stateId.game){this.kill()}else{if(a==ig.scene.stateId.title&&!(ig.scene instanceof ig.Scene.Menu)){createjs.Tween.get(this.pos).to({y:-50},1200,createjs.Ease.quadOut)}}}}})});ig.baked=true;ig.module("lib.game.entities.menu.btn").requires("lib.impact.entity").defines(function(){ig.Entity.Menu=ig.Entity.Menu||{};ig.Entity.Menu.Btn=ig.Entity.extend({isUI:true,stateIds:[],init:function(){this.parent.apply(this,arguments);if(this.name.indexOf("btn-match-")>-1||this.name=="btn-race"){this.disObj=new createjs.Container;this.size.x=280;this.size.y=85;var f=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"btn-green-big");this.disObj.addChild(f);var a=this.name=="btn-race"?ig.strings.MENU.BTN_WORD_RACE:ig.strings.MENU.BTN_MATCH_IT;var b=new createjs.Text(a,"48px bodegasans","#506d29");b.maxWidth=this.size.x;b.x=this.size.x*0.5;b.y=this.size.y*0.5;b.textAlign="center";this.disObj.addChild(b);if(this.name.indexOf("btn-match-")>-1){var d=b.getMetrics();var e=new createjs.Graphics().beginFill("#506d29").drawCircle(0,0,26);var c=new createjs.Shape(e);c.x=this.size.x*0.8;c.y=this.size.y*0.5;this.disObj.addChild(c);b=new createjs.Text(this.name.split("-").pop(),"36px bodegasans","#96c040");b.x=this.size.x*0.8;b.y=this.size.y*0.5;b.textAlign="center";this.disObj.addChild(b)}}else{if(this.name=="btn-catch"){this.disObj=new createjs.Container;this.size.x=580;this.size.y=85;var f=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"btn-green-long");this.disObj.addChild(f);var b=new createjs.Text(ig.strings.MENU.BTN_CATCH,"48px bodegasans","#506d29");b.maxWidth=this.size.x;b.x=this.size.x*0.5;b.y=this.size.y*0.5;b.textAlign="center";this.disObj.addChild(b)}}},update:function(b){if(this.stateIds.indexOf(ig.scene.currentStateId)>-1){var a=this.inBounds();if(ig.device.mobile&&!(ig.input.pressed(ig.KEY.MOUSE1)||ig.input.state(ig.KEY.MOUSE1))){a=false}if(a){ig.game.cursorPointer=true}if(this.name.indexOf("btn-match-")>-1||this.name=="btn-race"){this.disObj.getChildAt(0).gotoAndStop(a?"btn-green-big-over":"btn-green-big");if(this.name.indexOf("btn-match-")>-1){this.disObj.getChildAt(3).color=a?"#67ff9a":"#96c040"}}else{if(this.name=="btn-catch"){this.disObj.getChildAt(0).gotoAndStop(a?"btn-green-long-over":"btn-green-long")}}if(a&&ig.input.released(ig.KEY.MOUSE1)){if(this.name.indexOf("btn-match-")>-1){ig.game.switchScene(ig.Scene.Match,{version:parseInt(this.name.split("-").pop())})}else{if(this.name=="btn-catch"){ig.game.switchScene(ig.Scene.Catch)}else{if(this.name=="btn-race"){ig.game.switchScene(ig.Scene.RaceCar)}}}}}this.parent(b)},switchState:function(a,b){}})});ig.baked=true;ig.module("lib.game.entities.menu.misc").requires("lib.impact.entity").defines(function(){ig.Entity.Menu=ig.Entity.Menu||{};ig.Entity.Menu.Misc=ig.Entity.extend({isUI:true,init:function(){this.parent.apply(this,arguments);if(this.name=="bg"){this.disObj=new createjs.Shape;this.disObj.graphics.beginBitmapFill(ig.loader.getResult("menu-bg","repeat"));this.disObj.graphics.drawRect(0,0,ig.system.width,ig.system.height+60);this.screenAnchor.x=this.screenAnchor.y=0}else{if(this.name=="bg-black"){var a=new createjs.Graphics().beginFill("#000").drawRect(0,0,ig.system.width,ig.system.height+60);this.disObj=new createjs.Shape(a);this.size.x=ig.system.width;this.size.y=ig.system.height+60}else{if(this.name=="circle-noah"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"circle-noah-big");this.size.x=452;this.size.y=454}else{if(this.name=="text-title"){this.disObj=new createjs.Text(ig.strings.MENU.TITLE,"72px bodegasans","#ffffcc");this.disObj.textAlign="center"}else{if(this.name=="cards"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"cards");this.size.x=258;this.size.y=302}else{if(this.name=="road"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"road");this.size.x=this.size.y=124}else{if(this.name=="mouse"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"mouse");this.size.x=178;this.size.y=180}}}}}}}},update:function(b){var a=b.delta*0.001;this.parent(b)},switchState:function(a,b){if(this.name=="bg-black"){if(a==ig.scene.stateId.menuIntro){createjs.Tween.get(this.disObj).wait(2000).to({alpha:0},600)}}else{if(this.name=="circle-noah"){if(a==ig.scene.stateId.menuIntro){this.scale.x=this.scale.y=0;createjs.Tween.get(this.scale).to({x:1,y:1},800,createjs.Ease.backOut).wait(1200).to({x:0.25,y:0.25},800);createjs.Tween.get(this.disObj).wait(2000).to({rotation:-360},800);createjs.Tween.get(this.pos).wait(2000).to({x:-160,y:-235},800,createjs.Ease.quadOut);createjs.Tween.get({}).wait(1000).call(createjs.Sound.play,[ig.config.sound.playGames,createjs.Sound.INTERRUPT_ANY],createjs.Sound)}else{if(a==ig.scene.stateId.title){this.scale.x=this.scale.y=0.25;this.pos.x=-160;this.pos.y=-235}}}}}})});ig.baked=true;ig.module("lib.game.scenes.menu").requires("lib.game.scenes.base","lib.game.entities.obj","lib.game.entities.menu.btn","lib.game.entities.menu.misc").defines(function(){ig.Scene.Menu=ig.Scene.Base.extend({init:function(a){a=a||{};ig.merge(this.stateId,{menuIntro:100});this.spawnEntity(ig.Entity.Menu.Misc,0,0,{name:"bg",zIndex:-1000});this.spawnEntity(ig.Entity.Menu.Btn,-150,-75,{name:"btn-match-1",stateIds:[this.stateId.title]});this.spawnEntity(ig.Entity.Menu.Btn,150,-75,{name:"btn-match-2",stateIds:[this.stateId.title]});this.spawnEntity(ig.Entity.Menu.Btn,0,65,{name:"btn-race",stateIds:[this.stateId.title]});this.spawnEntity(ig.Entity.Menu.Btn,0,200,{name:"btn-catch",stateIds:[this.stateId.title]});this.spawnEntity(ig.Entity.Menu.Misc,-380,-85,{name:"cards",scale:{x:-0.5,y:0.5}});this.spawnEntity(ig.Entity.Menu.Misc,380,-85,{name:"cards",scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Obj,-370,-40,{name:"object-lettuce"});this.spawnEntity(ig.Entity.Obj,370,-40,{name:"object-flipflops"});this.spawnEntity(ig.Entity.Menu.Misc,225,65,{name:"road",scale:{x:0.75,y:0.75}});this.spawnEntity(ig.Entity.Menu.Misc,-380,200,{name:"mouse",scale:{x:0.75,y:0.75}});this.spawnEntity(ig.Entity.Menu.Misc,0,-235,{name:"text-title"});this.spawnEntity(ig.Entity.Menu.Misc,0,0,{name:"circle-noah",zIndex:200});if(a.skipIntro){this.switchState(this.stateId.title)}else{this.spawnEntity(ig.Entity.Menu.Misc,0,0,{name:"bg-black",zIndex:100});this.switchState(this.stateId.menuIntro)}},switchState:function(e){var b=ig.system.fixedWidth,d=ig.system.fixedHeight,a=b*0.5,c=d*0.5,f=this.currentStateId;if(e==this.stateId.loadComplete){setTimeout(function(){this.switchState(this.stateId.title)}.bind(this),1)}else{if(e==this.stateId.title){createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=e},null,this)}else{if(e==this.stateId.menuIntro){createjs.Tween.get({}).wait(2800).call(this.switchState,[this.stateId.title],this)}}}this.parent.apply(this,arguments)}})});ig.baked=true;ig.module("lib.game.entities.match.misc").requires("lib.impact.entity").defines(function(){ig.Entity.Match=ig.Entity.Match||{};ig.Entity.Match.Misc=ig.Entity.extend({isUI:true,init:function(){this.parent.apply(this,arguments);if(this.name.indexOf("bg-")==0){this.disObj=new createjs.Bitmap(ig.loader.getResult("match-"+this.name));this.size.x=this.disObj.image.width;this.size.y=this.disObj.image.height}else{if(this.name=="green-tall"){this.disObj=new createjs.Container;this.size.x=280;this.size.y=170;var f=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"green-tall");this.disObj.addChild(f);var a=new createjs.Text(ig.strings.MATCH.MATCH_IT,"48px bodegasans","#506d29");a.textAlign="center";a.x=140;a.y=65;this.disObj.addChild(a);a=new createjs.Text(ig.strings.MATCH.MATCH_IT_ES,"42px bodegasans","#fefeca");a.textAlign="center";a.x=140;a.y=115;this.disObj.addChild(a)}else{if(this.name=="arrow"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"arrow");this.size.x=106;this.size.y=80}else{if(this.name.indexOf("card-")==0){this.disObj=new createjs.Container;this.size.x=202;this.size.y=231;this.objName=this.name.split("-").pop();var e=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"card-back-pink");e.x=e.regX=this.size.x*0.5;this.disObj.addChild(e);if(this.name.indexOf("card-object-")>-1){e=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"card-"+this.objName+"-pink");e.x=e.regX=this.size.x*0.5;e.scaleX=0;this.disObj.addChild(e)}else{if(this.name.indexOf("card-text-")>-1){e=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"card-front-pink");e.x=e.regX=this.size.x*0.5;e.scaleX=0;this.disObj.addChild(e);var a=new createjs.Text(ig.strings["OBJECT_"+this.objName.toUpperCase()],"42px bodegasans","#6d6d6b");a.textAlign="center";a.x=this.size.x*0.5;a.y=this.size.y*0.6;a.scaleX=0;a.lineWidth=this.size.x-60;a.lineHeight=42;a.regY=a.getMeasuredHeight()*0.5;this.disObj.addChild(a)}}}else{if(this.name=="ui-time"){this.disObj=new createjs.Container;this.size.x=300;this.size.y=90;var d=new createjs.Graphics().setStrokeStyle(4).beginStroke("#f2a644").beginFill("#ffffc1").drawRoundRect(0,0,300,90,8);var c=new createjs.Shape(d);this.disObj.addChild(c);var a=new createjs.Text("","42px bodegasans","#da7629");a.textAlign="center";a.x=150;a.y=45;a.lineWidth=300;this.disObj.addChild(a)}else{if(this.name=="mouse"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"mouse");this.size.x=302;this.size.y=284}else{if(this.name=="sign"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"sign");this.size.x=705;this.size.y=378}else{if(this.name=="text-results"){this.disObj=new createjs.Container;var a=new createjs.Text(ig.scene.correct==5?ig.strings.MATCH.END_HEADER_GOOD_JOB:ig.strings.MATCH.END_HEADER_OHNO,"48px bodegasans",ig.scene.correct==5?"#445c23":"#cd0101");a.textAlign="center";a.y=30;this.disObj.addChild(a);a=new createjs.Text(ig.scene.correct==5?ig.strings.MATCH.END_HEADER_TIME_WAS:ig.strings.MATCH.END_HEADER_OUT_OF_TIME,"48px bodegasans","#445c23");a.textAlign="center";a.y=84;this.disObj.addChild(a);if(ig.scene.correct==5){a=new createjs.Text(ig.strings.MATCH.END_TIME.replace("{time}",(ig.config.matchIt.time- -ig.scene.timer.delta()).toFixed(1)),"48px bodegasans","#06c");a.textAlign="center";a.y=138;this.disObj.addChild(a);a=new createjs.Text(ig.strings.MATCH.END_MESSAGE,"38px bodegasans","#445c23");a.textAlign="center";a.y=192;this.disObj.addChild(a)}else{a=new createjs.Text(ig.strings.MATCH.END_MESSAGE,"38px bodegasans","#445c23");a.textAlign="center";a.y=138;this.disObj.addChild(a)}}else{if(this.name.indexOf("prop-")>-1){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("match"),this.name);if(this.name=="prop-chair"){this.size.x=445;this.size.y=287}else{if(this.name=="prop-floatie"){this.size.x=80;this.size.y=57}else{if(this.name=="prop-flippers"){this.size.x=72;this.size.y=30}else{if(this.name=="prop-tube"){this.size.x=136;this.size.y=39}else{if(this.name=="prop-sunscreen"){this.size.x=47;this.size.y=83}else{if(this.name=="prop-peachball"){this.size.x=185;this.size.y=185}}}}}}}else{if(this.name=="bubble"){this.disObj=new createjs.Container;this.disObj.visible=false;this.size.x=469;this.size.y=273;var b=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"bubble");this.disObj.addChild(b);var a=new createjs.Text("THIS IS TEXT","64px bodegasans","#1171DB");a.x=this.size.x*0.5;a.textAlign="center";a.maxWidth=this.size.x-60;this.disObj.addChild(a)}else{if(this.name=="noah-speech-long"){this.disObj=new createjs.Container;this.size.x=840;this.size.y=105;var b=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"noah-speech-long");this.disObj.addChild(b);var a=new createjs.Text(ig.strings.MATCH.INSTRUCTIONS_2,"42px bodegasans","#434943");a.x=this.size.x*0.5;a.y=this.size.y*0.5;a.textAlign="center";a.maxWidth=this.size.x*0.9;this.disObj.addChild(a)}else{if(this.name=="noah-speech-round"){this.disObj=new createjs.Container;this.size.x=496;this.size.y=334;var b=new createjs.Sprite(ig.loader.getSpriteSheet("match"),"noah-speech-round");b.scaleX=b.scaleY=0.9;this.disObj.addChild(b);var a=new createjs.Text(ig.strings.MATCH.INSTRUCTIONS_1,"42px bodegasans","#3a3a3a");a.x=(this.size.x*0.5)*0.9;a.y=90;a.textAlign="center";a.lineHeight=42;a.lineWidth=this.size.x*0.65;this.disObj.addChild(a)}}}}}}}}}}}}},update:function(f){var c=f.delta*0.001;if(this.name=="ui-time"){this.disObj.getChildAt(1).text=ig.strings.MATCH.DISPLAY_TIME.replace("{time}",(ig.config.matchIt.time-(-ig.scene.timer.delta())).toFixed(1))}if(this.name.indexOf("card-")>-1&&ig.scene.currentStateId==ig.scene.stateId.game){var b=this.name.indexOf("card-object-")>-1?this.objName:"front";if(this.disObj.alpha<1){this.disObj.getChildAt(0).scaleX=0;this.disObj.getChildAt(1).gotoAndStop("card-"+b+"-blue")}else{var a=this.inBounds();if(ig.device.mobile&&!(ig.input.pressed(ig.KEY.MOUSE1)||ig.input.state(ig.KEY.MOUSE1))){a=false}if(a){ig.game.cursorPointer=true}if(b=="front"){if(!this.wasInBounds&&a){this.wasInBounds=true;var d=createjs.Sound.play(ig.config.sound.object[this.objName],createjs.Sound.INTERRUPT_ANY);d.on("complete",function(){this.wasInBounds=false},this);ig.scene.getEntityByName("circle-coco").disObj.visible=true;ig.scene.getEntityByName("circle-noah").disObj.visible=false}else{if(!a){this.wasInBounds=false}}}if(!this.isSelected){this.disObj.getChildAt(0).scaleX=0;this.disObj.getChildAt(1).gotoAndStop(a?"card-"+b+"-green":"card-"+b+"-pink")}else{this.disObj.getChildAt(0).scaleX=1;this.disObj.getChildAt(0).gotoAndStop(a?"card-front-green":"card-front-blue");this.disObj.getChildAt(1).gotoAndStop("card-"+b+"-blue")}if(ig.input.released(ig.KEY.MOUSE1)&&a){ig.scene.checkSelected(this)}}}this.parent(f)},switchState:function(c,d){if(this.name=="green-tall"){if(c==ig.scene.stateId.title){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},600)}else{if(c==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="arrow"){if(c==ig.scene.stateId.directions){this.disObj.alpha=0;this.disObj.rotation=-90;this.pos.x=-350;this.pos.y=-150;createjs.Tween.get(this.disObj).wait(400).to({alpha:1},800);createjs.Tween.get(this.pos).wait(800).to({x:350},1200,createjs.Ease.quadOut).to({y:150},1200,createjs.Ease.quadIn)}}else{if(this.name.indexOf("card-")>-1){if(c==ig.scene.stateId.game){var b=d==ig.scene.stateId.directions?2400:800;this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).wait(b+((5-this.cardIndex)*150)).to({x:this.pos.x+ig.system.width},800,createjs.Ease.quadOut);createjs.Tween.get(this.disObj.getChildAt(0)).wait(b+1600).to({scaleX:0},400);createjs.Tween.get(this.disObj.getChildAt(1)).wait(b+2000).to({scaleX:1},400);var a=this.disObj.getChildAt(2);if(a){createjs.Tween.get(a).wait(b+2000).to({scaleX:1},400)}}else{if(c==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="ui-time"){if(c==ig.scene.stateId.game){this.disObj.alpha=0;createjs.Tween.get(this.disObj).wait(6000).to({alpha:1},800).call(ig.scene.timer.reset,null,ig.scene.timer)}else{if(c==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="mouse"||this.name=="sign"||this.name=="text-results"){if(c==ig.scene.stateId.end){this.disObj.alpha=0;createjs.Tween.get(this.disObj).wait(400).to({alpha:1},800)}else{if(c==ig.scene.stateId.game){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="noah-speech-long"){if(c==ig.scene.stateId.directions){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},600)}else{if(c==ig.scene.stateId.game){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="noah-speech-round"){if(c==ig.scene.stateId.directions){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},600)}}}}}}}}}})});ig.baked=true;ig.module("lib.game.entities.match.obj").requires("lib.impact.entity").defines(function(){ig.Entity.Match=ig.Entity.Match||{};ig.Entity.Match.Obj=ig.Entity.extend({isUI:true,objName:"",init:function(){this.parent.apply(this,arguments);this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("match"),this.name);this.objName=this.name.split("-")[1];if(this.name=="object-cucumber"){this.size.x=283;this.size.y=106}else{if(this.name=="object-flipflops"){this.size.x=190;this.size.y=103}else{if(this.name=="object-grapes"){this.size.x=350;this.size.y=165}else{if(this.name=="object-lettuce"){this.size.x=248;this.size.y=186}else{if(this.name=="object-lifepreserver"){this.size.x=118;this.size.y=206}else{if(this.name=="object-pineapple"){this.size.x=156;this.size.y=288}else{if(this.name=="object-strawberries"){this.size.x=189;this.size.y=196}else{if(this.name=="object-sunglasses"){this.size.x=264;this.size.y=72}else{if(this.name=="object-bathingsuit"){this.size.x=155;this.size.y=268;this.disObj.skewX=55;this.disObj.skewY=10}else{if(this.name=="object-umbrella"){this.size.x=326;this.size.y=150}}}}}}}}}}},update:function(c){var b=c.delta*0.001;if(ig.scene.currentStateId==ig.scene.stateId.directions){var a=this.inBounds(true);if(ig.device.mobile&&!(ig.input.pressed(ig.KEY.MOUSE1)||ig.input.state(ig.KEY.MOUSE1))){a=false}if(a){ig.game.cursorPointer=true}if(a){ig.scene.highlightObject(this)}if(!this.wasInBounds&&a){createjs.Sound.play(ig.config.sound.object[this.objName],createjs.Sound.INTERRUPT_ANY);this.wasInBounds=true}else{if(!a){this.wasInBounds=false}}}this.parent(c)},switchState:function(b,c){if(b==ig.scene.stateId.game){createjs.Tween.get(this.scale).to({x:1,y:1},800,createjs.Ease.quadOut);var a;if(this.name=="object-grapes"){a=createjs.Tween.get(this.pos).to({x:-300,y:-100},800,createjs.Ease.quadOut)}else{if(this.name=="object-pineapple"){a=createjs.Tween.get(this.pos).to({x:0,y:-150},800,createjs.Ease.quadOut)}else{if(this.name=="object-cucumber"){a=createjs.Tween.get(this.pos).to({x:300,y:-100},800,createjs.Ease.quadOut)}else{if(this.name=="object-lettuce"){a=createjs.Tween.get(this.pos).to({x:-150,y:150},800,createjs.Ease.quadOut)}else{if(this.name=="object-strawberries"){a=createjs.Tween.get(this.pos).to({x:150,y:150},800,createjs.Ease.quadOut)}else{if(this.name=="object-lifepreserver"){createjs.Tween.get(this.scale).to({x:1,y:1},800);a=createjs.Tween.get(this.pos).to({x:0,y:-100},800,createjs.Ease.quadOut)}else{if(this.name=="object-bathingsuit"){createjs.Tween.get(this.disObj).to({skewX:0,skewY:0},800,createjs.Ease.quadOut);createjs.Tween.get(this.scale).to({x:1,y:1},800);a=createjs.Tween.get(this.pos).to({x:250,y:-100},800,createjs.Ease.quadOut)}else{if(this.name=="object-umbrella"){createjs.Tween.get(this.localAnchor).to({y:1},800);a=createjs.Tween.get(this.pos).to({x:-225,y:-150},800,createjs.Ease.quadOut)}else{if(this.name=="object-sunglasses"){createjs.Tween.get(this.scale).to({x:1,y:1},800);a=createjs.Tween.get(this.pos).to({x:-150,y:150},800,createjs.Ease.quadOut)}else{if(this.name=="object-flipflops"){createjs.Tween.get(this.scale).to({x:1,y:1},800);a=createjs.Tween.get(this.pos).to({x:150,y:150},800,createjs.Ease.quadOut)}}}}}}}}}}a.wait(800).to({y:this.pos.y-ig.system.height},600,createjs.Ease.backIn).call(this.kill,null,this)}}})});ig.baked=true;ig.module("lib.game.scenes.match").requires("lib.impact.timer","lib.game.scenes.base","lib.game.entities.match.misc","lib.game.entities.match.obj").defines(function(){ig.Scene.Match=ig.Scene.Base.extend({version:0,timer:new ig.Timer,correct:0,rolledOver:[],init:function(a){this.timer.target=ig.config.matchIt.time;this.version=parseInt(a.version||1);this.spawnEntity(ig.Entity.Match.Misc,0,0,{name:"bg-"+this.version,zIndex:-10000});if(this.version==1){this.spawnEntity(ig.Entity.Match.Obj,-190,135,{name:"object-grapes",zIndex:10,scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Match.Obj,-10,125,{name:"object-lettuce",zIndex:10,scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Match.Obj,125,95,{name:"object-pineapple",zIndex:10,scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Match.Obj,265,145,{name:"object-cucumber",zIndex:10,scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Match.Obj,410,115,{name:"object-strawberries",zIndex:10,scale:{x:0.5,y:0.5}})}else{if(this.version==2){this.spawnEntity(ig.Entity.Match.Misc,-350,125,{name:"prop-chair",zIndex:10});this.spawnEntity(ig.Entity.Match.Obj,-265,165,{name:"object-sunglasses",zIndex:11,scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Match.Obj,-350,-250,{name:"object-umbrella",zIndex:9,localAnchor:{x:0.5,y:0}});this.spawnEntity(ig.Entity.Match.Obj,-5,-50,{name:"object-lifepreserver",zIndex:10,scale:{x:0.5,y:0.5}});this.spawnEntity(ig.Entity.Match.Misc,-425,0,{name:"prop-tube",zIndex:-100});this.spawnEntity(ig.Entity.Match.Misc,400,215,{name:"prop-beachball",zIndex:10});this.spawnEntity(ig.Entity.Match.Obj,175,240,{name:"object-flipflops",zIndex:10,scale:{x:0.75,y:0.75}});this.spawnEntity(ig.Entity.Match.Obj,375,200,{name:"object-bathingsuit",zIndex:9,scale:{x:0.75,y:0.75}});this.spawnEntity(ig.Entity.Match.Misc,275,160,{name:"prop-sunscreen",zIndex:8})}}if(ig.game.videoIndex>2){this.spawnEntity(ig.Entity.Misc,0,0,{name:"x",zIndex:9999999999})}if(ig.game.videoIndex<=2){this.spawnEntity(ig.Entity.Misc,0,0,{name:"orange",zIndex:9999999999,screenAnchor:{x:0.5,y:1},localAnchor:{x:0.5,y:0}});this.spawnEntity(ig.Entity.Btn,-100,30,{name:"btn-keep-watching",zIndex:99999999999,screenAnchor:{x:1,y:1},scale:{x:0.5,y:0.5},stateIds:[this.stateId.transit,this.stateId.game,this.stateId.title,this.stateId.directions,this.stateId.difficulty,this.stateId.end]})}},update:function(a){if(this.currentStateId==this.stateId.game){if(this.timer.delta()>0){this.switchState(this.stateId.end)}}this.parent(a)},switchState:function(k){var l=ig.system.fixedWidth,f=ig.system.fixedHeight,e=l*0.5,g=f*0.5,j=this.currentStateId;if(k==this.stateId.loadComplete){setTimeout(function(){this.switchState(this.stateId.title)}.bind(this),1)}if(k==this.stateId.title){this.spawnEntity(ig.Entity.Misc,0,-250,{name:"circle-noah",zIndex:100,screenAnchor:{x:0.5,y:1}});this.spawnEntity(ig.Entity.Misc,0,-250,{name:"circle-coco",zIndex:100,screenAnchor:{x:0.5,y:1}});this.spawnEntity(ig.Entity.Match.Misc,0,-110,{name:"green-tall",zIndex:99,screenAnchor:{x:0.5,y:1}});createjs.Sound.play("sfx-ding",{volume:0.2});createjs.Tween.get({}).wait(250).call(function(){this.currentStateId=k;var h=createjs.Sound.play(ig.config.sound.playMatchIt,createjs.Sound.INTERRUPT_ANY);h.on("complete",function(){this.switchState(this.stateId.directions)},this)},null,this)}else{if(k==this.stateId.directions){this.rolledOver.length=0;var b=this.spawnEntity(ig.Entity.Match.Misc,0,100,{name:"arrow",zIndex:100});var a=this.spawnEntity(ig.Entity.Match.Misc,-475,-100,{name:"noah-speech-round",zIndex:110,localAnchor:{x:0,y:1},screenAnchor:{x:0.5,y:1}});this.spawnEntity(ig.Entity.Match.Misc,0,0,{name:"bubble",zIndex:100});this.spawnEntity(ig.Entity.Misc,0,165,{name:"text-name"});var c=createjs.Sound.play(ig.config.sound.directionsIntro_2,createjs.Sound.INTERRUPT_ANY);c.on("complete",function(){createjs.Tween.get(b.disObj).to({alpha:0},200).call(b.kill,null,b);createjs.Tween.get(a.disObj).to({alpha:0},200).call(a.kill,null,a);this.currentStateId=k},this)}else{if(k==this.stateId.game){this.timer.reset();this.timer.pause();if(this.version==1){var m=["cucumber","grapes","lettuce","pineapple","strawberries"].shuffle()}else{if(this.version==2){var m=["flipflops","lifepreserver","sunglasses","bathingsuit","umbrella"].shuffle()}}for(var d=0;d<m.length;d++){this.spawnEntity(ig.Entity.Match.Misc,(d*200)-400,-180,{name:"card-object-"+m[d],zIndex:100,cardIndex:d,scale:{x:0.9,y:0.9}})}m=m.shuffle();for(var d=0;d<m.length;d++){this.spawnEntity(ig.Entity.Match.Misc,(d*200)-400,30,{name:"card-text-"+m[d],zIndex:100,cardIndex:d,scale:{x:0.9,y:0.9}})}this.spawnEntity(ig.Entity.Match.Misc,0,-70,{name:"ui-time",screenAnchor:{x:0.5,y:1}});createjs.Sound.play("sfx-glitter");createjs.Tween.get({}).wait(j==this.stateId.directions?2400:800).call(function(){this.getEntityByName("circle-coco").disObj.visible=false;this.getEntityByName("circle-coco").disObj.alpha=1;this.getEntityByName("circle-noah").disObj.visible=true;var h=this.spawnEntity(ig.Entity.Match.Misc,60,-75,{name:"noah-speech-long",screenAnchor:{x:0.5,y:1}});h.switchState(this.stateId.directions);var i=createjs.Sound.play(ig.config.sound.matchInstructions,createjs.Sound.INTERRUPT_ANY);i.on("complete",function(){this.correct=0;h.switchState(k);this.currentStateId=k},this)},null,this)}else{if(k==this.stateId.end){this.getEntityByName("circle-coco").disObj.visible=false;this.getEntityByName("circle-noah").disObj.visible=false;this.spawnEntity(ig.Entity.Btn,180,-60,{name:"btn-again",screenAnchor:{x:0,y:1},stateIds:[this.stateId.end]});this.spawnEntity(ig.Entity.Match.Misc,140,-105,{name:"mouse",zIndex:21,localAnchor:{x:0.5,y:1},screenAnchor:{x:0,y:1}});this.spawnEntity(ig.Entity.Match.Misc,0,-100,{name:"sign",zIndex:-100});this.spawnEntity(ig.Entity.Match.Misc,0,this.correct==5?-225:-150,{name:"text-results",zIndex:20});createjs.Sound.play(ig.config.sound[this.correct==5?"endGoFaster":"endTimeUp"],createjs.Sound.INTERRUPT_ANY);if(this.correct==5){createjs.Sound.play("sfx-gameover-win")}createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=k},null,this)}}}}this.parent.apply(this,arguments)},highlightObject:function(d){var c=this.getEntityByName("bubble");if(d===false){c.disObj.visible=false}if(d){if(this.rolledOver.indexOf(d)==-1){this.rolledOver.push(d);if(this.rolledOver.length>=5){var a=this.spawnEntity(ig.Entity.Btn,0,-60,{name:"btn-next",zIndex:100,screenAnchor:{x:0.5,y:1},stateIds:[this.stateId.directions]});a.switchState(this.stateId.directions)}}this.getEntityByName("circle-noah").disObj.visible=false;this.getEntityByName("circle-coco").disObj.visible=true;var b=c.disObj.getChildAt(1);b.text=ig.strings["OBJECT_"+d.objName.toUpperCase()];c.disObj.visible=true;if(d.name=="object-bathingsuit"){c.pos.x=240;c.pos.y=25;c.disObj.scaleX=-1;c.disObj.scaleY=1;b.scaleX=-1;b.scaleY=1;b.y=100}else{if(d.name=="object-flipflops"){c.pos.x=75;c.pos.y=60;c.disObj.scaleX=-1;c.disObj.scaleY=1;b.scaleX=-1;b.scaleY=1;b.y=100}else{if(d.name=="object-lifepreserver"){c.pos.x=125;c.pos.y=100;c.disObj.scaleX=1;c.disObj.scaleY=-1;b.scaleX=1;b.scaleY=-1;b.y=110}else{if(d.name=="object-umbrella"){c.pos.x=-150;c.pos.y=25;c.disObj.scaleX=1;c.disObj.scaleY=-1;b.scaleX=1;b.scaleY=-1;b.y=110}else{if(d.name=="object-sunglasses"){c.pos.x=-125;c.pos.y=0;c.disObj.scaleX=1;c.disObj.scaleY=1;b.scaleX=1;b.scaleY=1;b.y=100}else{if(d.name=="object-grapes"){c.pos.x=-50;c.pos.y=-35;c.disObj.scaleX=1;c.disObj.scaleY=1;b.scaleX=1;b.scaleY=1;b.y=100}else{if(d.name=="object-lettuce"){c.pos.x=75;c.pos.y=-75;c.disObj.scaleX=1;c.disObj.scaleY=1;b.scaleX=1;b.scaleY=1;b.y=100}else{if(d.name=="object-pineapple"){c.pos.x=0;c.pos.y=-75;c.disObj.scaleX=-1;c.disObj.scaleY=1;b.scaleX=-1;b.scaleY=1;b.y=100}else{if(d.name=="object-cucumber"){c.pos.x=150;c.pos.y=-25;c.disObj.scaleX=-1;c.disObj.scaleY=1;b.scaleX=-1;b.scaleY=1;b.y=100}else{if(d.name=="object-strawberries"){c.pos.x=285;c.pos.y=-65;c.disObj.scaleX=-1;c.disObj.scaleY=1;b.scaleX=-1;b.scaleY=1;b.y=100}}}}}}}}}}}},checkSelected:function(a){if(this.firstCard&&this.firstCard!=a){if(a.objName==this.firstCard.objName){createjs.Sound.play("sfx-ding",{volume:0.2});createjs.Tween.get(a.disObj).to({alpha:0},800).call(a.kill,null,a);createjs.Tween.get(this.firstCard.disObj).to({alpha:0},800).call(this.firstCard.kill,null,this.firstCard);createjs.Tween.get(a.pos).to({y:a.pos.y-ig.system.height},800,createjs.Ease.backIn);createjs.Tween.get(this.firstCard.pos).to({y:this.firstCard.pos.y-ig.system.height},800,createjs.Ease.backIn);a.zIndex=this.firstCard.zIndex=100;this.sortEntities();this.correct++;if(this.correct==5){this.timer.pause();createjs.Tween.get({}).wait(800).call(this.switchState,[this.stateId.end],this)}}else{createjs.Sound.play("sfx-wrong2");a.isSelected=false;this.firstCard.isSelected=false}this.firstCard=null}else{if(this.firstCard!=a){this.firstCard=a;a.isSelected=!a.isSelected}else{a.isSelected=false}}}})});ig.baked=true;ig.module("lib.game.entities.btn").requires("lib.impact.entity").defines(function(){ig.Entity.Btn=ig.Entity.extend({isUI:true,stateIds:[],init:function(){this.parent.apply(this,arguments);if(this.name=="btn-play"){this.disObj=new createjs.Container;this.size.x=169;this.size.y=85;var b=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"btn-green");this.disObj.addChild(b);var a=new createjs.Text(ig.strings.BTN_PLAY,"48px bodegasans","#fff");a.maxWidth=this.size.x;a.x=this.size.x*0.5;a.y=this.size.y*0.5;a.textAlign="center";this.disObj.addChild(a)}else{if(this.name=="btn-next"){this.disObj=new createjs.Container;this.size.x=169;this.size.y=85;var b=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"btn-blue");this.disObj.addChild(b);var a=new createjs.Text(ig.strings.BTN_NEXT,"48px bodegasans","#fff");a.maxWidth=this.size.x;a.x=this.size.x*0.5;a.y=this.size.y*0.5;a.textAlign="center";this.disObj.addChild(a)}else{if(this.name=="btn-easy"||this.name=="btn-hard"||this.name=="btn-pro"||this.name=="btn-again"||this.name=="btn-change"||this.name=="btn-keep-watching"){this.disObj=new createjs.Container;this.size.x=280;this.size.y=85;var b=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"btn-green-big");this.disObj.addChild(b);var c;if(this.name=="btn-easy"){c=ig.strings.DIFFICULTY_EASY}else{if(this.name=="btn-hard"){c=ig.strings.DIFFICULTY_HARD}else{if(this.name=="btn-pro"){c=ig.strings.DIFFICULTY_PRO}else{if(this.name=="btn-again"){c=ig.strings.BTN_PLAY_AGAIN}else{if(this.name=="btn-change"){c=ig.strings.BTN_CHANGE_LEVEL}else{if(this.name=="btn-keep-watching"){c=ig.strings.BTN_KEEP_WATCHING}}}}}}var a=new createjs.Text(c,"48px bodegasans","#506d29");a.maxWidth=this.size.x;a.x=this.size.x*0.5;a.y=this.size.y*0.5;a.textAlign="center";a.maxWidth=this.size.x*0.85;this.disObj.addChild(a);if(this.name=="btn-keep-watching"){this.disObj.on("click",function(){if(this.stateIds.indexOf(ig.scene.currentStateId)>-1){ig.game.switchScene(ig.Scene.Video)}},this)}}else{if(this.name=="btn-back"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"btn-back");this.size.x=58;this.size.y=58;this.size.r=30}else{if(this.name=="btn-play-big"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("general"),"play");this.size.x=329;this.size.y=333}}}}}},update:function(c){if(this.stateIds.indexOf(ig.scene.currentStateId)>-1){var a=this.inBounds(true);if(ig.device.mobile&&!(ig.input.pressed(ig.KEY.MOUSE1)||ig.input.state(ig.KEY.MOUSE1))){a=false}if(this.name=="btn-play-big"){a=true}if(a){ig.game.cursorPointer=true}if(this.name=="btn-play"){this.disObj.getChildAt(1).color=a?"#ff0":"#fff"}else{if(this.name=="btn-next"){this.disObj.getChildAt(0).gotoAndStop(a?"btn-green":"btn-blue");this.disObj.getChildAt(1).color=a?"#506d29":"#fff"}else{if(this.name=="btn-easy"||this.name=="btn-hard"||this.name=="btn-pro"||this.name=="btn-again"||this.name=="btn-change"||this.name=="btn-keep-watching"){this.disObj.getChildAt(1).color=a?"#fff":"#506d29"}else{if(this.name=="btn-back"){this.disObj.gotoAndStop(a?"btn-back-over":"btn-back");this.miscObjs[0].disObj.visible=a;this.miscObjs[1].disObj.visible=!a}}}}if(!this.wasInBounds&&a){this.wasInBounds=true;var b="";if(this.name=="btn-play"){b=ig.config.sound.play}else{if(this.name=="btn-easy"){b=ig.config.sound.difficultyEasy}else{if(this.name=="btn-hard"){b=ig.config.sound.difficultyHard}else{if(this.name=="btn-pro"){b=ig.config.sound.difficultyPro}else{if(this.name=="btn-again"){b=ig.config.sound.playAgain}else{if(this.name=="btn-change"||this.name=="btn-back"){b=ig.config.sound.changeLevel}else{if(this.name=="btn-keep-watching"){b=ig.config.sound.keepWatchingVideo}}}}}}}if(b!=""){createjs.Sound.play(b,this.name=="btn-keep-watching"?createjs.Sound.INTERRUPT_NONE:createjs.Sound.INTERRUPT_ANY)}}else{if(!a){this.wasInBounds=false}}if(a&&ig.input.released(ig.KEY.MOUSE1)){if(this.name=="btn-play"){ig.scene.switchState(ig.scene.stateId.directions)}else{if(this.name=="btn-next"){if(ig.scene instanceof ig.Scene.Match){ig.scene.switchState(ig.scene.stateId.game)}else{ig.scene.switchState(ig.scene.stateId.difficulty)}}else{if(this.name=="btn-easy"||this.name=="btn-hard"||this.name=="btn-pro"){ig.scene.difficulty=this.name.split("-")[1];ig.scene.switchState(ig.scene.stateId.game)}else{if(this.name=="btn-back"){ig.scene.switchState(ig.scene.stateId.difficulty)}else{if(this.name=="btn-again"){ig.scene.switchState(ig.scene.stateId.game)}else{if(this.name=="btn-change"){ig.scene.switchState(ig.scene.stateId.difficulty)}}}}}}}}this.parent(c)},switchState:function(a,b){if(this.name=="btn-play"){if(a==ig.scene.stateId.title){createjs.Tween.get(this.pos).wait(800).to({y:225},600,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}else{if(a==ig.scene.stateId.end){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},600)}}}}else{if(this.name=="btn-next"){if(ig.scene instanceof ig.Scene.Match){if(a==ig.scene.stateId.directions){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},800)}else{if(a==ig.scene.stateId.game){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(a==ig.scene.stateId.directions){this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game){this.kill()}}}}else{if(this.name=="btn-easy"||this.name=="btn-hard"||this.name=="btn-pro"){if(a==ig.scene.stateId.difficulty){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},1200)}else{if(a==ig.scene.stateId.game||a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="btn-back"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="btn-again"||this.name=="btn-change"){if(a==ig.scene.stateId.end){this.disObj.alpha=0;createjs.Tween.get(this.disObj).to({alpha:1},1200)}else{if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.game){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="btn-play-big"){if(a==ig.scene.stateId.title){this.scale.x=this.scale.y=0;createjs.Tween.get(this.disObj).wait(200).to({rotation:-360},800,createjs.Ease.backOut);createjs.Tween.get(this.scale).wait(200).to({x:1,y:1},800,createjs.Ease.backOut)}}}}}}}}})});ig.baked=true;ig.module("lib.game.entities.racecar.misc").requires("lib.impact.entity").defines(function(){ig.Entity.RaceCar=ig.Entity.RaceCar||{};ig.Entity.RaceCar.Misc=ig.Entity.extend({isUI:true,init:function(){this.parent.apply(this,arguments);if(this.name=="bg"){this.disObj=new createjs.Bitmap(ig.loader.getResult("racecar-bg"));this.size.x=this.disObj.image.width;this.size.y=this.disObj.image.height}else{if(this.name=="title"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"title");this.size.x=654;this.size.y=212}else{if(this.name=="noah"){this.disObj=new createjs.Container;this.size.x=359;this.size.y=593;var a=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"noah");this.disObj.addChild(a);var f=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"noah-eyes");f.x=144;f.y=96;this.disObj.addChild(f)}else{if(this.name=="coco"){this.disObj=new createjs.Container;this.size.x=369;this.size.y=424;var a=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"coco");this.disObj.addChild(a);var f=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"coco-eyes");f.x=55;f.y=92;this.disObj.addChild(f)}else{if(this.name=="street-line"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"street-line");this.size.x=42;this.size.y=92;this.screenAnchor.y=0;this.points=[{x:25*this.side,y:0},{x:190*this.side,y:ig.system.height}];this.pointPosition=0}else{if(this.name.indexOf("ui-")>-1){this.disObj=new createjs.Container;this.size.x=120;this.size.y=70;this.screenAnchor.y=1;var e=new createjs.Graphics().beginFill("#333").drawRoundRect(0,0,120,70,8);this.disObj.addChild(new createjs.Shape(e));var b=new createjs.Text("","28px Arial","#fff");b.textAlign="center";b.x=60;b.y=22;this.disObj.addChild(b)}else{if(this.name=="car"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"car-center");this.size.x=249;this.size.y=195;this.screenAnchor.y=1;this.startY=this.pos.y;this.motor=0;this.lane=0;this.canSwitch=true}else{if(this.name=="points"){this.disObj=new createjs.Text(ig.strings.RACE.POPUP_CORRECT.replace("{points}",ig.config.wordRace.points),"58px bodegasans","#ff3");this.disObj.textAlign="center"}else{if(this.name=="sign"){this.disObj=new createjs.Container;this.size.x=367;this.size.y=292;var d=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"sign");this.disObj.addChild(d);var b=new createjs.Text(ig.strings.RACE.INSTRUCTIONS_1,"54px bodegasans","#445c23");b.lineHeight=48;b.lineWidth=this.size.y*0.9;b.textAlign="center";b.x=this.size.x*0.5;b.y=48;var c=b.getMetrics();this.disObj.addChild(b);var b=new createjs.Text(ig.strings.RACE.INSTRUCTIONS_2.replace("{time}",ig.config.wordRace[ig.scene.difficulty].time),"54px bodegasans","#ff6701");b.lineWidth=this.size.y*0.9;b.textAlign="center";b.x=this.size.x*0.5;b.y=c.height+c.lineHeight;this.disObj.addChild(b)}}}}}}}}}},update:function(i){var g=i.delta*0.001;if(this.name=="street-line"){var f=this.pointPosition;if(ig.scene.currentStateId==ig.scene.stateId.game){var h=ig.config.wordRace[ig.scene.difficulty].speed;this.pointPosition+=g*h}else{f=f.limit(0,1)}f=createjs.Ease.circIn(f);this.pos.x=Math.lerp(this.points[0].x,this.points[1].x,f);this.pos.y=Math.lerp(this.points[0].y,this.points[1].y,f);this.scale.x=this.scale.y=(f*1.5).limit(0.05,2);this.scale.x*=-this.side;if(this.pointPosition>1.2){this.pointPosition=-0.1}this.disObj.visible=!isNaN(f)}else{if(this.name.indexOf("ui")>-1){if(this.name=="ui-score"){this.disObj.getChildAt(1).text=ig.strings.RACE.DISPLAY_SCORE.replace("{score}",~~ig.scene.score)}else{if(this.name=="ui-time"){this.disObj.getChildAt(1).text=ig.strings.RACE.DISPLAY_TIME.replace("{time}",~~(-ig.scene.timer.delta()))}else{if(this.name=="ui-miss"){this.disObj.getChildAt(1).text=ig.strings.RACE.DISPLAY_MISS.replace("{miss}",ig.scene.miss)}}}}else{if(this.name=="car"){var c=0;var a=0;if(ig.scene.currentStateId==ig.scene.stateId.game){if(ig.input.pressed(ig.KEY.RIGHT_ARROW)&&this.lane<1){c++}else{if(ig.input.pressed(ig.KEY.LEFT_ARROW)&&this.lane>-1){c--}else{if(ig.input.pressed(ig.KEY.MOUSE1)&&ig.input.mouse.y<ig.system.height-100){var a=ig.input.mouse.x-(ig.system.width*0.5);if(a<-130&&this.lane==0){c=-1}else{if(a<-130&&this.lane==1){c=-2}else{if(a>130&&this.lane==0){c=1}else{if(a>130&&this.lane==-1){c=2}else{if(a>-130&&a<130&&this.lane!=0){c=this.lane==1?-1:1}}}}}}}}this.pos.y=this.startY+(Math.cos(this.motor)*2);this.motor+=g*40}if(c!=0&&this.canSwitch){var d=200;var b=260*Math.abs(c);if(c<0){createjs.Tween.get(this).wait(d*0.5).call(function(){this.disObj.gotoAndStop(this.lane==-1?"car-left":"car-center")},null,this);createjs.Tween.get(this.pos).to({x:this.pos.x-b},d,createjs.Ease.quadOut).call(function(){this.canSwitch=true},null,this)}else{if(c>0){createjs.Tween.get(this).wait(d*0.5).call(function(){this.disObj.gotoAndStop(this.lane==1?"car-right":"car-center")},null,this);createjs.Tween.get(this.pos).to({x:this.pos.x+b},d,createjs.Ease.quadOut).call(function(){this.canSwitch=true},null,this)}}this.lane+=c;this.canSwitch=false}}}}this.parent(i)},switchState:function(a,b){if(this.name=="title"){if(a==ig.scene.stateId.title){this.pos.x-=this.size.x*0.5;createjs.Tween.get(this.pos).to({x:100},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="noah"){if(a==ig.scene.stateId.title){this.pos.y+=this.size.y*0.5;createjs.Tween.get(this.pos).wait(600).to({y:100},800,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}else{if(a==ig.scene.stateId.difficulty&&b!=ig.scene.stateId.end){this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game){createjs.Tween.get(this.pos).to({x:this.pos.x-ig.system.width},400,createjs.Ease.quadIn).call(this.kill,null,this)}else{if(a==ig.scene.stateId.end){this.pos.y+=this.size.y*0.5;createjs.Tween.get(this.pos).to({y:100},800,createjs.Ease.quadOut)}}}}}}else{if(this.name=="coco"){if(a==ig.scene.stateId.end){this.pos.y+=this.size.y*0.5;createjs.Tween.get(this.pos).to({y:100},800,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game||a==ig.scene.stateId.directions){createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},400,createjs.Ease.quadIn).call(this.kill,null,this)}}}else{if(this.name.indexOf("ui-")>-1){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="car"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="sign"){if(a==ig.scene.stateId.game){this.disObj.alpha=0;createjs.Tween.get(this.disObj).wait(600).to({alpha:1},800)}}}}}}}}})});ig.baked=true;ig.module("lib.game.entities.racecar.obj").requires("lib.impact.entity").defines(function(){ig.Entity.RaceCar=ig.Entity.RaceCar||{};ig.Entity.RaceCar.Obj=ig.Entity.extend({isUI:true,localAnchor:{x:0.5,y:1},init:function(){this.parent.apply(this,arguments);if(this.name=="bush"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"bush");this.size.x=211;this.size.y=95}else{if(this.name=="tree"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"tree");this.size.x=360;this.size.y=712}else{if(this.name=="flowers-1"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"flowers-1");this.size.x=158;this.size.y=84}else{if(this.name=="flowers-2"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("racecar"),"flowers-2");this.size.x=84;this.size.y=41}}}}if(this.points){this.points=[{x:130*this.side,y:0},{x:700*this.side,y:ig.system.height}];this.screenAnchor.y=0}},update:function(d){var b=d.delta*0.001;if(this.points){var a=this.pointPosition;var c=ig.config.wordRace[ig.scene.difficulty].speed;if(ig.scene.currentStateId==ig.scene.stateId.game){this.pointPosition+=b*c}a=createjs.Ease.circIn(a);this.pos.x=Math.lerp(this.points[0].x,this.points[1].x,a);this.pos.y=Math.lerp(this.points[0].y,this.points[1].y,a);this.scale.x=this.scale.y=Math.lerp(0.4,1.8,a);this.scale.x*=-this.side;if(this.pointPosition>1.2){this.pointPosition=-0.05}this.disObj.visible=!isNaN(a)}this.parent(d)},switchState:function(a,b){if(this.points){return}if(this.name=="bush"){if(a==ig.scene.stateId.title){this.pos.x-=this.size.x*0.5;createjs.Tween.get(this.pos).to({x:-300},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="tree"){if(a==ig.scene.stateId.title){this.pos.x+=this.size.x*0.5;createjs.Tween.get(this.pos).to({x:450},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}}}})});ig.baked=true;ig.module("lib.game.scenes.racecar").requires("lib.impact.timer","lib.game.scenes.base","lib.game.entities.btn","lib.game.entities.obj","lib.game.entities.racecar.misc","lib.game.entities.racecar.obj").defines(function(){ig.Scene.RaceCar=ig.Scene.Base.extend({difficulty:"easy",score:0,timer:new ig.Timer,miss:0,correct:0,timerRate:new ig.Timer(5),lastSpawned:[],correctAnswerLane:0,isChecking:false,checkCount:0,correctObjects:[],init:function(){this.spawnEntity(ig.Entity.RaceCar.Misc,0,0,{name:"bg",zIndex:-10000});for(var c=0,a=0;c<12;c++){var b=this.spawnEntity(ig.Entity.RaceCar.Misc,0,0,{name:"street-line",side:c%2?-1:1,zIndex:-9999});b.pointPosition=a*0.21;if(c%2){a++}}this.spawnEntity(ig.Entity.Misc,0,0,{name:"x",zIndex:9999999999})},update:function(a){if(this.currentStateId==this.stateId.game){if(this.timer.delta()>0){this.switchState(this.stateId.end)}if(this.timer.delta()<0&&this.timerRate.delta()>0){this.spawnObjects()}}this.parent(a)},switchState:function(o){var r=ig.system.fixedWidth,g=ig.system.fixedHeight,e=r*0.5,m=g*0.5,n=this.currentStateId;if(o==this.stateId.loadComplete){setTimeout(function(){this.switchState(this.stateId.title)}.bind(this),1)}else{if(o==this.stateId.title){this.spawnEntity(ig.Entity.RaceCar.Obj,-e,-200,{name:"bush"});this.spawnEntity(ig.Entity.RaceCar.Obj,e,50,{name:"tree"});this.spawnEntity(ig.Entity.RaceCar.Misc,-e,0,{name:"title"});this.spawnEntity(ig.Entity.RaceCar.Misc,-425,m,{name:"noah"});this.spawnEntity(ig.Entity.Btn,300,m+50,{name:"btn-play",stateIds:[this.stateId.title]});createjs.Sound.play(ig.config.sound.wordRace,createjs.Sound.INTERRUPT_ANY);createjs.Sound.play("sfx-race-intro");createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=o},null,this)}else{if(o==this.stateId.game){this.timer.target=ig.config.wordRace[this.difficulty].time;this.timer.reset();this.timer.pause();var t=this.getEntitiesByType(ig.Entity.RaceCar.Obj);var k=false;for(var d=0;d<t.length;d++){if(t[d].name=="bush"||t[d].name=="flowers-1"||t[d].name=="flowers-2"){k=true}}if(!k){var f=["bush","flowers-1","flowers-2"];for(var d=0,q=0;d<12;d++){var l=this.spawnEntity(ig.Entity.RaceCar.Obj,0,0,{name:f.random(),side:d%2?-1:1,zIndex:-9999,points:true});l.pointPosition=q*0.21;if(d%2){q++}}}this.spawnEntity(ig.Entity.Misc,0,-60,{name:"bg-grey",zIndex:400,screenAnchor:{x:0.5,y:1}});var p=this.spawnEntity(ig.Entity.Misc,-400,-60,{name:"text-change",zIndex:401,screenAnchor:{x:0.5,y:1}});var a=this.spawnEntity(ig.Entity.RaceCar.Misc,-345,-60,{name:"ui-score",zIndex:401});this.spawnEntity(ig.Entity.RaceCar.Misc,275,-60,{name:"ui-time",zIndex:401});this.spawnEntity(ig.Entity.RaceCar.Misc,420,-60,{name:"ui-miss",zIndex:401});this.spawnEntity(ig.Entity.Misc,0,-60,{name:"text-item",zIndex:401,screenAnchor:{x:0.5,y:1}});this.spawnEntity(ig.Entity.Btn,-450,-60,{name:"btn-back",stateIds:[this.stateId.game],miscObjs:[p,a],zIndex:401,screenAnchor:{x:0.5,y:1}});this.spawnEntity(ig.Entity.RaceCar.Misc,0,-225,{name:"car",zIndex:100});var j=this.spawnEntity(ig.Entity.RaceCar.Misc,0,ig.device.mobile?0:60,{name:"sign",zIndex:900});var c;if(!ig.device.mobile){c=this.spawnEntity(ig.Entity.Misc,0,-165,{name:"arrows",zIndex:900})}if(!this.bgMusic){this.bgMusic=createjs.Sound.play("bg-music-drive",{loop:-1})}this.bgMusic.play();var b=createjs.Sound.play(ig.config.sound.raceInstructions,createjs.Sound.INTERRUPT_ANY);b.on("complete",function(){this.timerRate.reset();this.timer.resume();this.score=0;this.miss=0;this.correct=0;createjs.Tween.get(j.disObj).to({alpha:0},600).call(j.kill,null,j);if(c){createjs.Tween.get(c.disObj).to({alpha:0},600).call(c.kill,null,c)}this.currentStateId=o},this)}else{if(o==this.stateId.end){this.bgMusic.stop();createjs.Sound.play(this.miss==ig.config.wordRace.miss?"sfx-race-gameover-lose":"sfx-race-gameover-win");createjs.Sound.play(ig.config.sound[this.miss==ig.config.wordRace.miss?"threeMisses":"goodJob"]);this.spawnEntity(ig.Entity.Misc,0,0,{name:"bg-gradient",zIndex:500});this.spawnEntity(ig.Entity.RaceCar.Misc,-425,m,{name:"noah",zIndex:550});this.spawnEntity(ig.Entity.RaceCar.Misc,450,m,{name:"coco",zIndex:550});this.spawnEntity(ig.Entity.Misc,0,-225,{name:"text-end-header",zIndex:600});this.spawnEntity(ig.Entity.Misc,0,-150,{name:"text-end-score",zIndex:600});this.spawnEntity(ig.Entity.Misc,0,-75,{name:"text-end-stats",zIndex:600});this.spawnEntity(ig.Entity.Btn,0,50,{name:"btn-again",stateIds:[this.stateId.end],zIndex:600});this.spawnEntity(ig.Entity.Btn,0,150,{name:"btn-change",stateIds:[this.stateId.end],zIndex:600});createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=o},null,this)}}}}this.parent.apply(this,arguments)},spawnObjects:function(){this.timerRate.reset();this.timerRate.pause();this.isChecking=false;this.isCorrect=false;this.checkCount=0;var a=this.objectList.shuffle().slice(0);for(var d=0;d<this.lastSpawned.length;d++){a.erase(this.lastSpawned[d])}for(var d=0;d<this.correctObjects.length;d++){a.erase(this.correctObjects[d])}var b=ig.config.catchIt[this.difficulty];if(a.length<b.spawn){a=this.objectList.shuffle().slice(0);this.lastSpawned.length=0}var c=[-1,0,1].shuffle();var e=this.getEntityByName("text-item");e.disObj.text=ig.strings["OBJECT_"+a[0].toUpperCase()];createjs.Sound.play(ig.config.sound.object[a[0]],createjs.Sound.INTERRUPT_ANY);for(var d=0;d<b.spawn;d++){createjs.Tween.get({}).wait(600).call(function(g,f){this.spawnEntity(ig.Entity.Obj,0,0,{name:"object-"+a[g],pointPosition:0,side:f,localAnchor:{x:0.5,y:1},screenAnchor:{x:0.5,y:0}});this.lastSpawned.push(a[g]);if(g==0){this.correctAnswerLane=f}},[d,c.pop()],this)}},checkObjects:function(b){this.isChecking=true;if(b.side==this.getEntityByName("car").lane){b.kill();this.isCorrect=this.isCorrect?true:b.side==this.correctAnswerLane;if(this.isCorrect&&this.correctObjects.indexOf(b.name)==-1){this.correctObjects.push(b.name)}}this.checkCount++;var a=ig.config.catchIt[this.difficulty];if(this.checkCount==a.spawn){this.checkObjectsComplete()}},checkObjectsComplete:function(){this.timerRate.resume();var c=this.getEntityByName("text-item");c.disObj.text="";var b;if(this.isCorrect){this.correct++;createjs.Tween.get(this).to({score:this.score+ig.config.wordRace.points},800);b=this.spawnEntity(ig.Entity.RaceCar.Misc,0,-100,{name:"points",scale:{x:0,y:0},zIndex:50});var a=["goodJob","gotIt","nice","thatsRight"];createjs.Sound.play(ig.config.sound[a.random()],createjs.Sound.INTERRUPT_ANY);createjs.Sound.play("sfx-ding")}else{this.miss++;if(this.miss<ig.config.wordRace.miss){b=this.spawnEntity(ig.Entity.Misc,0,-130,{name:"x-bad",scale:{x:0,y:0},zIndex:50});var a=["missedIt","ohNo","notRight","keepTrying"];createjs.Sound.play(ig.config.sound[a.random()],createjs.Sound.INTERRUPT_ANY);createjs.Sound.play("sfx-wrong")}}if(this.miss==ig.config.wordRace.miss){createjs.Tween.get({}).wait(800).call(this.switchState,[this.stateId.end],this)}if(b){b.disObj.alpha=0;createjs.Tween.get(b.disObj).to({alpha:1},600).wait(1200).to({alpha:0},600);createjs.Tween.get(b.scale).to({x:1,y:1},600,createjs.Ease.backOut).wait(1200).to({x:0,y:0},650,createjs.Ease.backIn).call(b.kill,null,b)}}})});ig.baked=true;ig.module("lib.game.entities.catch.misc").requires("lib.impact.entity").defines(function(){ig.Entity.Catch=ig.Entity.Catch||{};ig.Entity.Catch.Misc=ig.Entity.extend({isUI:true,init:function(){this.parent.apply(this,arguments);if(this.name=="bg"){this.disObj=new createjs.Bitmap(ig.loader.getResult("catch-bg-easy"));this.size.x=this.disObj.image.width;this.size.y=this.disObj.image.height}else{if(this.name=="mouse"){this.disObj=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"mouse-wave");this.size.x=281;this.size.y=295}else{if(this.name=="mouse-catcher"){this.disObj=new createjs.Container;this.size.x=300;this.size.y=218;this.scale.x=this.scale.y=0.65;this.targetPos=0;var l=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"mouse-walk-1");this.disObj.addChild(l);var a=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"mouse-head");a.x=110;a.y=-14;this.disObj.addChild(a);this.fpsRate=1000/18/1000;this.fpsCounter=0;this.frameIndex=1}else{if(this.name=="title"){this.disObj=new createjs.Container;var c=new createjs.Text(ig.strings.CATCH.TITLE_1,"72px bodegasans","#066");c.textAlign="center";this.disObj.addChild(c);c=new createjs.Text(ig.strings.CATCH.TITLE_2,"58px bodegasans","#090");c.y=75;c.textAlign="center";this.disObj.addChild(c)}else{if(this.name=="coco"){this.disObj=new createjs.Container;this.size.x=369;this.size.y=424;var f=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"coco");this.disObj.addChild(f);var b=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"coco-eyes");b.x=155;b.y=92;this.disObj.addChild(b)}else{if(this.name=="ui-score"){this.disObj=new createjs.Container;this.size.y=60;this.screenAnchor.y=0;var c=new createjs.Text(ig.strings.CATCH.ITEMS,"42px bodegasans","#fff");c.y=30;this.disObj.addChild(c);var e=new createjs.Graphics().setStrokeStyle(4).beginStroke("#527029").beginFill("#333").drawRoundRect(0,0,80,60,8);var m=new createjs.Shape(e);m.x=100;this.disObj.addChild(m);c=new createjs.Text(ig.scene.score,"38px Arial","#6f0");c.textAlign="center";c.x=140;c.y=30;this.disObj.addChild(c);for(var d=0;d<3;d++){var j=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"glove");j.x=(d*65)+200;this.disObj.addChild(j)}}else{if(this.name=="ui-time"){this.disObj=new createjs.Container;this.size.x=120;this.size.y=70;this.screenAnchor.y=0;var e=new createjs.Graphics().beginFill("#333").drawRoundRect(0,0,120,70,8);this.disObj.addChild(new createjs.Shape(e));var c=new createjs.Text("","28px Arial","#fff");c.textAlign="center";c.x=60;c.y=22;this.disObj.addChild(c)}else{if(this.name=="sign"){this.disObj=new createjs.Container;this.size.x=367;this.size.y=401;var h=new createjs.Sprite(ig.loader.getSpriteSheet("catch"),"sign");this.disObj.addChild(h);var c=new createjs.Text(ig.strings.CATCH[ig.scene.difficulty.toUpperCase()+"_DIFFICULTY"],"64px bodegasans","#ff6701");c.lineHeight=54;c.maxWidth=this.size.y*0.9;c.textAlign="center";c.x=this.size.x*0.5;c.y=88;var k=c.getMetrics();this.disObj.addChild(c);var c=new createjs.Text(ig.strings.CATCH.CATCH_N_THINGS.replace("{objects}",""),"54px bodegasans","#445c23");c.lineWidth=this.size.y*0.9;c.textAlign="center";c.x=this.size.x*0.5;c.y=k.height+(k.lineHeight*2.2);this.disObj.addChild(c);var c=new createjs.Text(ig.config.catchIt[ig.scene.difficulty].objects,"64px bodegasans","#ff6701");c.lineWidth=this.size.y*0.9;c.textAlign="center";c.x=(this.size.x*0.5)-10;c.y=k.height+(k.lineHeight*2.2);this.disObj.addChild(c)}}}}}}}}},update:function(d){var c=d.delta*0.001;if(this.name=="ui-time"){this.disObj.getChildAt(1).text=ig.strings.CATCH.DISPLAY_TIME.replace("{time}",~~(-ig.scene.timer.delta()))}else{if(this.name=="ui-score"){this.disObj.getChildAt(2).text=ig.scene.score}else{if(this.name=="mouse-catcher"){var b=0;if(ig.scene.currentStateId==ig.scene.stateId.game){if(ig.input.state(ig.KEY.LEFT_ARROW)){b=-1}else{if(ig.input.state(ig.KEY.RIGHT_ARROW)){b=1}}if(ig.input.state(ig.KEY.MOUSE1)){this.targetPos=ig.input.mouse.x-(ig.system.width*0.5)}}if(this.targetPos!=0){b=this.pos.x<this.targetPos?1:-1;if(Math.abs(this.pos.x-this.targetPos)<ig.config.catchIt.walkSpeed*c){this.targetPos=0;b=0}}if(b!=0){this.fpsCounter+=c;if(this.fpsCounter>this.fpsRate){this.fpsCounter=0;this.frameIndex++;if(this.frameIndex>9){this.frameIndex=1}this.disObj.getChildAt(0).gotoAndStop("mouse-walk-"+this.frameIndex)}this.pos.x+=b*ig.config.catchIt.walkSpeed*c;var a=ig.system.width*0.5;this.pos.x=this.pos.x.limit(-a,a);this.scale.x=b>0?-0.65:0.65}else{this.fpsCounter=0;this.disObj.getChildAt(0).gotoAndStop("mouse-walk-1")}}}}this.parent(d)},switchState:function(a,b){if(this.name=="bg"){if(a==ig.scene.stateId.game){this.disObj.image=ig.loader.getResult("catch-bg-"+ig.scene.difficulty)}}else{if(this.name=="mouse"){if(a==ig.scene.stateId.title){this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:-25},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="mouse-catcher"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="title"){if(a==ig.scene.stateId.title){this.pos.y-=ig.system.height;createjs.Tween.get(this.pos).to({y:-250},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}}else{if(this.name=="coco"){if(a==ig.scene.stateId.directions){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}if((a==ig.scene.stateId.difficulty&&b!=ig.scene.stateId.end)||a==ig.scene.stateId.end){this.pos.x-=ig.system.width;createjs.Tween.get(this.pos).to({x:this.pos.x+ig.system.width},1200,createjs.Ease.quadOut)}else{if(a==ig.scene.stateId.game){createjs.Tween.get(this.pos).to({x:this.pos.x-ig.system.width},400,createjs.Ease.quadIn).call(this.kill,null,this)}}}else{if(this.name=="ui-time"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="ui-score"){if(a==ig.scene.stateId.difficulty||a==ig.scene.stateId.end){createjs.Tween.get(this.disObj).to({alpha:0},200).call(this.kill,null,this)}}else{if(this.name=="sign"){if(a==ig.scene.stateId.game){this.disObj.rotation=-20;this.pos.y+=this.size.y;createjs.Tween.get(this.pos).to({y:-160},800,createjs.Ease.quadOut)}}}}}}}}}}})});ig.baked=true;ig.module("lib.game.scenes.catch").requires("lib.game.scenes.base","lib.game.entities.btn","lib.game.entities.obj","lib.game.entities.catch.misc").defines(function(){ig.Scene.Catch=ig.Scene.Base.extend({difficulty:"easy",score:0,timer:new ig.Timer,miss:0,correct:0,timerRate:new ig.Timer(5),lastSpawned:[],isChecking:false,mouseCatcher:null,currentObjects:[],correctObjects:[],init:function(){this.spawnEntity(ig.Entity.Catch.Misc,0,0,{name:"bg",zIndex:-10000});this.spawnEntity(ig.Entity.Misc,0,0,{name:"x",zIndex:9999999999})},update:function(a){if(this.currentStateId==this.stateId.game){if(this.timer.delta()>0){this.switchState(this.stateId.end)}if(this.timer.delta()<0&&this.timerRate.delta()>0){this.spawnObjects()}this.checkObjects()}this.parent(a)},switchState:function(i){var k=ig.system.fixedWidth,d=ig.system.fixedHeight,c=k*0.5,f=d*0.5,g=this.currentStateId;if(i==this.stateId.loadComplete){setTimeout(function(){this.switchState(this.stateId.title)}.bind(this),1)}else{if(i==this.stateId.title){this.spawnEntity(ig.Entity.Catch.Misc,0,150,{name:"mouse",scale:{x:0.9,y:0.9}});this.spawnEntity(ig.Entity.Obj,-200,-f,{name:"object-grapes",killIt:true});this.spawnEntity(ig.Entity.Obj,0,-f,{name:"object-lettuce",killIt:true});this.spawnEntity(ig.Entity.Obj,200,-f,{name:"object-strawberries",killIt:true});this.spawnEntity(ig.Entity.Catch.Misc,0,0,{name:"title"});this.spawnEntity(ig.Entity.Btn,300,f+50,{name:"btn-play",stateIds:[this.stateId.title]});createjs.Sound.play(ig.config.sound.youCatchIt,createjs.Sound.INTERRUPT_ANY);createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=i},null,this)}else{if(i==this.stateId.game){this.timer.target=ig.config.catchIt[this.difficulty].time;this.timer.reset();this.timer.pause();this.spawnEntity(ig.Entity.Misc,0,60,{name:"bg-grey",zIndex:400,screenAnchor:{x:0.5,y:0}});var j=this.spawnEntity(ig.Entity.Misc,-400,60,{name:"text-change",zIndex:401,screenAnchor:{x:0.5,y:0}});var a=this.spawnEntity(ig.Entity.Catch.Misc,-400,60,{name:"ui-score",zIndex:401});this.spawnEntity(ig.Entity.Catch.Misc,420,60,{name:"ui-time",zIndex:401});this.spawnEntity(ig.Entity.Misc,170,60,{name:"text-item",zIndex:401,screenAnchor:{x:0.5,y:0}});this.spawnEntity(ig.Entity.Btn,-450,60,{name:"btn-back",stateIds:[this.stateId.game],miscObjs:[j,a],zIndex:401,screenAnchor:{x:0.5,y:0}});this.mouseCatcher=this.spawnEntity(ig.Entity.Catch.Misc,0,-80,{name:"mouse-catcher",zIndex:300,screenAnchor:{x:0.5,y:1}});var e=this.spawnEntity(ig.Entity.Catch.Misc,300,-100,{name:"sign",zIndex:900,screenAnchor:{x:0.5,y:1}});if(!this.bgMusic){this.bgMusic=createjs.Sound.play("bg-music-catch",{loop:-1})}this.bgMusic.play();var b=createjs.Sound.play(ig.config.sound[ig.config.catchIt[this.difficulty].total==5?"catchAllFive":"catchAllTen"],createjs.Sound.INTERRUPT_ANY);b.on("complete",function(){b=createjs.Sound.play(ig.config.sound.catchInstructions,createjs.Sound.INTERRUPT_ANY);if(!ig.device.mobile){var h=this.spawnEntity(ig.Entity.Misc,0,-100,{name:"arrows",zIndex:900});h.switchState(i,g);b.on("complete",function(){createjs.Tween.get(h.disObj).to({alpha:0},600).call(h.kill,null,h)});b.on("interrupted",function(){createjs.Tween.get(h.disObj,{overwrite:true}).to({alpha:0},200).call(h.kill,null,h)})}this.timerRate.reset();this.timer.resume();this.score=0;this.miss=0;this.correct=0;createjs.Tween.get(e.pos).to({y:e.pos.y+e.size.y},600,createjs.Ease.quadIn).call(e.kill,null,e);this.currentStateId=i},this)}else{if(i==this.stateId.end){this.bgMusic.stop();createjs.Sound.play(this.miss==3?"sfx-race-gameover-lose":"sfx-race-gameover-win");createjs.Sound.play(ig.config.sound[this.miss==3?"threeMisses":"goodJob"]);this.spawnEntity(ig.Entity.Misc,0,0,{name:"bg-gradient",zIndex:500});this.spawnEntity(ig.Entity.Catch.Misc,-325,100,{name:"coco",zIndex:550});this.spawnEntity(ig.Entity.Misc,0,-225,{name:"text-end-header",zIndex:600});this.spawnEntity(ig.Entity.Misc,0,-150,{name:"text-end-stats",zIndex:600});this.spawnEntity(ig.Entity.Misc,0,-75,{name:"text-end-score",zIndex:600});this.spawnEntity(ig.Entity.Btn,0,50,{name:"btn-again",stateIds:[this.stateId.end],zIndex:600});this.spawnEntity(ig.Entity.Btn,0,150,{name:"btn-change",stateIds:[this.stateId.end],zIndex:600});createjs.Tween.get({}).wait(100).call(function(){this.currentStateId=i},null,this)}}}}this.parent.apply(this,arguments)},spawnObjects:function(){this.timerRate.reset();this.timerRate.pause();this.isChecking=true;this.currentObjects.length=0;var a=this.objectList.shuffle().slice(0);for(var d=0;d<this.lastSpawned.length;d++){a.erase(this.lastSpawned[d])}for(var d=0;d<this.correctObjects.length;d++){a.erase(this.correctObjects[d])}var b=ig.config.catchIt[this.difficulty];if(a.length<b.spawn){a=this.objectList.shuffle().slice(0);this.lastSpawned.length=0}var c=[-450,-300,-150,0,150,300,450].shuffle();var e=this.getEntityByName("text-item");e.disObj.text=ig.strings["OBJECT_"+a[0].toUpperCase()];createjs.Sound.play(ig.config.sound.object[a[0]],createjs.Sound.INTERRUPT_ANY);for(var d=0;d<b.spawn;d++){createjs.Tween.get({}).wait(600).call(function(f){var g=this.spawnEntity(ig.Entity.Obj,c.pop(),0,{name:"object-"+a[f],fallRate:b.fallRate,isCorrect:f==0,screenAnchor:{x:0.5,y:0}});this.currentObjects.push(g);this.lastSpawned.push(a[f])},[d],this)}},checkObjects:function(){if(!this.isChecking){return}var j=this.mouseCatcher;var h=j.size.x*0.4;var g=j.size.y*0.4;var k=[];for(var b=0,a;a=this.currentObjects[b++];){if(a.disObj.y>j.disObj.y-g&&a.disObj.y<j.disObj.y+g*0.5){if(a.disObj.x>j.disObj.x-h&&a.disObj.x<j.disObj.x+h){k.push(a)}}}var f=999999999;var c=-1;for(b=0;b<k.length;b++){var e=Math.distance(j.disObj.x,j.disObj.y,k[b].disObj.x,k[b].disObj.y);if(e<f){f=e;c=b}}if(c>-1){this.checkObjectsComplete(k[c])}},checkObjectsComplete:function(d){if(!this.isChecking){return}this.isChecking=false;this.timerRate.resume();var e=this.getEntityByName("text-item");e.disObj.text="";this.isChecking=false;var b=false;if(d&&d.isCorrect){b=true;this.score++;this.correct++;if(this.correctObjects.indexOf(d.name)==-1){this.correctObjects.push(d.name)}}else{this.miss++;this.getEntityByName("ui-score").disObj.getChildAt(this.miss+2).gotoAndStop("glove-x")}d&&d.kill();if(this.correct==ig.config.catchIt[this.difficulty].total||this.miss==3){this.switchState(this.stateId.end)}else{this.getEntityByName("mouse-catcher").disObj.getChildAt(1).gotoAndPlay("mouse-head-"+(b?"good":"bad"));if(b){var a=["goodJob","gotIt","nice","thatsRight"];createjs.Sound.play(ig.config.sound[a.random()],createjs.Sound.INTERRUPT_ANY);createjs.Sound.play("sfx-ding")}else{var c=this.spawnEntity(ig.Entity.Misc,0,-110,{name:"x-bad",scale:{x:0,y:0},zIndex:50});c.disObj.alpha=0;createjs.Tween.get(c.disObj).to({alpha:1},600).wait(1200).to({alpha:0},600);createjs.Tween.get(c.scale).to({x:1,y:1},600,createjs.Ease.backOut).wait(1200).to({x:0,y:0},650,createjs.Ease.backIn).call(c.kill,null,c);var a=["missedIt","ohNo","notRight","keepTrying"];createjs.Sound.play(ig.config.sound[a.random()],createjs.Sound.INTERRUPT_ANY);createjs.Sound.play("sfx-wrong")}}}})});ig.baked=true;ig.module("lib.game.main").requires("config","strings","lib.impact.system","lib.impact.input","lib.impact.timer","lib.plugins.createjs.impact","lib.game.loader","lib.game.scenes.video","lib.game.scenes.menu","lib.game.scenes.match","lib.game.scenes.racecar","lib.game.scenes.catch").defines(function(){ig.loader.load("menu",function(a){if(a==1&&!ig.game){new ig.Game}});ig.Game=ig.Class.extend({isFocused:10,cursorPointer:false,stages:[],stageUpdateBG:1,imageSmoothingEnabled:true,videoIndex:0,videoElements:[],init:function(){ig.game=this;ig.debug&&ig.debug.log("v",ig.config.version);if(ig.device.mobile){document.addEventListener("touchstart",function a(){document.removeEventListener("touchstart",a,false);ig.loader.load("sound")},false)}else{ig.loader.load("sound")}this.setupStages();ig.input=new ig.Input(this.stages[this.stages.length-1]);ig.input.bind(ig.KEY.MOUSE1);ig.input.bind(ig.KEY.LEFT_ARROW);ig.input.bind(ig.KEY.RIGHT_ARROW);ig.input.bind(ig.KEY.UP_ARROW);ig.input.bind(ig.KEY.DOWN_ARROW);window.addEventListener("resize",this.onResizeWindow.bind(this),false);window.addEventListener("orientationchange",this.onResizeWindow.bind(this),false);window.addEventListener("pageshow",this.onPageShow.bind(this),false);window.addEventListener("pagehide",this.onPageHide.bind(this),false);window.addEventListener("focus",this.onPageShow.bind(this),false);window.addEventListener("blur",this.onPageHide.bind(this),false);createjs.Ticker.timingMode=createjs.Ticker.RAF;createjs.Ticker.on("tick",this.run,this);if(ig.system.getUrlVar("menu")){this.videoIndex=3;this.switchScene(ig.Scene.Menu)}else{this.switchScene(ig.Scene.Video)}},run:function(b){if(this.isFocused==-1){return}if(this.isFocused>0){this.isFocused--;return}ig.Timer.step();ig.scene&&ig.scene.update(b);if(this.stageUpdateBG==-1||this.stageUpdateBG>0){if(this.stages[0] instanceof createjs.Stage){this.stages[0].update(b)}if(this.stageUpdateBG>0){this.stageUpdateBG--}}for(var a=1;a<this.stages.length;a++){this.stages[a] instanceof createjs.Stage&&this.stages[a].update(b)}ig.scene&&ig.scene.draw();ig.debug&&ig.debug.update(b);ig.input&&ig.input.clearPressed();if(!ig.device.mobile){document.body.style.cursor=this.cursorPointer?"pointer":"default"}this.cursorPointer=false},switchScene:function(c){createjs.Sound.stop();if(c===ig.Scene.Video){new c;return}if(ig.scene){var f=ig.scene.spawnEntity(ig.Entity.Misc,0,0,{name:"loader",zIndex:99999999999});ig.scene.switchState(ig.scene.stateId.loadStart);var d="";if(c==ig.Scene.RaceCar){d="racecar"}else{if(c==ig.Scene.Catch){d="catch"}else{if(c==ig.Scene.Match){d="match"}}}var b=Array.prototype.slice.call(arguments);var e=b.slice(1)[0];var a=setInterval(function(){if(!f.statusReady()){return}clearInterval(a);new c(e);ig.scene.spawnEntity(ig.Entity.Misc,0,0,{name:"loader",zIndex:99999999999,alpha:1});ig.scene.switchState(ig.scene.stateId.loadEnd)},100);createjs.Tween.get({}).wait(800).call(ig.loader.load,[d,function(g){f.statusUpdate(g)}],ig.loader)}else{new c}},onResizeWindow:function(){if(this.stageUpdateBG==0){this.stageUpdateBG=1}},onPageShow:function(){createjs.Sound.setVolume(1);this.isFocused=10},onPageHide:function(){createjs.Sound.setVolume(0);this.isFocused=-1},setupStages:function(){var f=ig.$("#"+ig.config.gameWrapper);var h=f?f.getElementsByTagName("canvas"):[];var g="data-render-type";if(!h.length){if(ig.$("#canvas")){h=[ig.$("#canvas")]}else{h=[ig.$new("canvas")];f.appendChild(h[0])}ig.system.onResizeWindow(true);this.stageUpdateBG=-1}for(var b=0,a;a=h[b++];){var c=a.getAttribute?a.getAttribute(g)||"":"";if(!c||c.toLowerCase()=="createjs"){var e=new createjs.Stage(a);this.stages.push(e);createjs.Touch.enable(e);if(this.stages.length==1&&h.length>1){e.autoClear=false}}else{if(c=="threejs"){this.stages.push(a)}}}for(b=this.stages.length-1;b>-1;b--){if(b>0&&this.stages[b] instanceof createjs.Stage&&this.stages[b-1] instanceof createjs.Stage){this.stages[b].nextStage=this.stages[b-1]}}for(b=0;b<this.stages.length;b++){var j=this.stages[b].canvas.getContext("2d");if(j){var d="imageSmoothingEnabled";var k=d.charAt(0).toUpperCase()+d.substr(1);if(j[d]!==undefined){j[d]=this.imageSmoothingEnabled}else{if(j["ms"+k]!==undefined){j["ms"+k]=this.imageSmoothingEnabled}else{if(j["moz"+k]!==undefined){j["moz"+k]=this.imageSmoothingEnabled}else{if(j["webkit"+k]!==undefined){j["webkit"+k]=this.imageSmoothingEnabled}else{if(j["o"+k]!==undefined){j["o"+k]=this.imageSmoothingEnabled}}}}}}}if(this.stages.length==1){this.stageUpdateBG=-1}}})});