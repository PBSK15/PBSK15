(function(){var a={};PBS=this.PBS||{};PBS.KIDS=this.PBS.KIDS||{};PBS.KIDS.platformer=a;a.settings={global:{autoLoad:true,initialScene:"load",fps:60,rootElement:"main_content",aspectRatio:1.877,nativeAssetResolution:1100,resizeFont:true},aspects:[{ogg:["firefox","opera","chrome"],m4a:["silk"],m4aCombined:["android","ipod","ipad","iphone"],mp3:["msie","safari","trident"]}],assets:{"Intro-0":{id:"Intro-0",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro0.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro0.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro0.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:4320,length:9170}}}},"Intro-1":{id:"Intro-1",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro1.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro1.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro1.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:9870,length:7540}}}},"Intro-2":{id:"Intro-2",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro2.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro2.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro2.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:14790,length:6530}}}},"Intro-3":{id:"Intro-3",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro3.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro3.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro3.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:18700,length:6890}}}},"Intro-4":{id:"Intro-4",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro4.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro4.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Intro4.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:22970,length:6630}}}},"T-Calm":{id:"T-Calm",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Calm.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Calm.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Calm.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:26980,length:10250}}}},"T-Press-Key":{id:"T-Press-Key",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Press_Key.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Press_Key.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Press_Key.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:37310,length:7010}}}},"T-Bud-AS":{id:"T-Bud-AS",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Bud_AS.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Bud_AS.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Bud_AS.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:44300,length:5540}}}},"T-But-Bud":{id:"T-But-Bud",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_But_Bud.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:49820,length:3740}}}},"T-But-Don":{id:"T-But-Don",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_But_Don.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:53540,length:4130}}}},"T-But-NTR":{id:"T-But-NTR",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_But_NTR.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:57650,length:3170}}}},"T-Collect":{id:"T-Collect",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Collect.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Collect.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Collect.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:60800,length:9250}}}},"T-Don-LR":{id:"T-Don-LR",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Don_LR.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Don_LR.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Don_LR.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:70030,length:6150}}}},"T-Each-Raft":{id:"T-Each-Raft",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Each_Raft.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Each_Raft.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Each_Raft.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:76160,length:4420}}}},"T-Keyboard":{id:"T-Keyboard",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Keyboard.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Keyboard.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Keyboard.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:80560,length:3380}}}},"T-NTR-LR":{id:"T-NTR-LR",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_NTR_LR.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_NTR_LR.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_NTR_LR.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:83920,length:6040}}}},"T-Press-But":{id:"T-Press-But",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Press_But.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:89940,length:7740}}}},"T-Start":{id:"T-Start",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Start.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Start.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Start.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:97660,length:6350}}}},"T-Your-Raft":{id:"T-Your-Raft",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Your_Raft.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Your_Raft.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/T_Your_Raft.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:103990,length:3980}}}},"GS-Ready":{id:"GS-Ready",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/GS_Ready.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:107950,length:1370}}}},"GS-Set":{id:"GS-Set",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/GS_Set.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:109900,length:1370}}}},"GS-Go":{id:"GS-Go",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/GS_Go.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:111850,length:1440}}}},"Rem-Key-Mul":{id:"Rem-Key-Mul",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Rem_Key_Mul.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:113670,length:12200}}}},"Rem-Key-Sin":{id:"Rem-Key-Sin",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Rem_Key_Sin.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:126250,length:6110}}}},"Rem-But-Any":{id:"Rem-But-Any",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Rem_But_Any.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:132740,length:3810}}}},"Rem-Insects":{id:"Rem-Insects",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Rem_Insects.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:145960,length:4360}}}},"End-1p-Lose":{id:"End-1p-Lose",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_1p_Lose.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_1p_Lose.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_1p_Lose.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:150700,length:5060}}}},"End-1p-Win":{id:"End-1p-Win",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_1p_Win.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_1p_Win.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_1p_Win.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:156140,length:5190}}}},"End-2p-Don-Won":{id:"End-2p-Don-Won",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_2p_Don_Won.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_2p_Don_Won.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_2p_Don_Won.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:161710,length:4880}}}},"End-2p-Bud-Won":{id:"End-2p-Bud-Won",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_2p_Buddy_Won.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_2p_Buddy_Won.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_2p_Buddy_Won.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:166970,length:6840}}}},"End-Tie":{id:"End-Tie",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_Tie.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_Tie.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_Tie.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:174190,length:7130}}}},"End-Opt":{id:"End-Opt",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/End_Opt.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:181700,length:6500}}}},"Misc-Whoa":{id:"Misc-Whoa",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Misc_Whoa.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:193480,length:3580}}}},"Misc-Watch":{id:"Misc-Watch",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Misc_Watch.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:197440,length:2370}}}},"Misc-Rapids":{id:"Misc-Rapids",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Misc_Rapids.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:200190,length:2610}}}},"Misc-Look":{id:"Misc-Look",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Misc_Look.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:203180,length:2480}}}},"Fact-Turtle":{id:"Fact-Turtle",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Turtle.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:206040,length:2500}}}},"Fact-Stream":{id:"Fact-Stream",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Stream.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Stream.mp3",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:208920,length:4780}}}},"Fact-Erosion":{id:"Fact-Erosion",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Erosion.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Erosion.mp3",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:214080,length:4310}}}},"Fact-Carve":{id:"Fact-Carve",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Carve.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:218670,length:5160}}}},"Fact-Sandbar":{id:"Fact-Sandbar",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Sandbar.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:224210,length:6660}}}},"Fact-Sandbar-2":{id:"Fact-Sandbar-2",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Sandbar_2.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Sandbar_2.mp3",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:231250,length:5980}}}},"Fact-Rapids":{id:"Fact-Rapids",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Rapids.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Rapids.mp3",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:237610,length:10130}}}},"Fact-Spiracles":{id:"Fact-Spiracles",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Spiracles.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:248120,length:9060}}}},"Fact-Exo":{id:"Fact-Exo",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Exo.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:257560,length:8280}}}},"Fact-Fly":{id:"Fact-Fly",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Fly.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:266220,length:9090}}}},"Fact-Whirl":{id:"Fact-Whirl",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/Fact_Whirl.ogg",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:275690,length:6610}}}},"ins-coll-0":{id:"ins-coll-0",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ins-coll-0.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ins-coll-0.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ins-coll-0.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:282680,length:1470}}}},"ins-coll-1":{id:"ins-coll-1",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ins-coll-1.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ins-coll-1.mp3",m4a:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ins-coll-1.m4a",m4aCombined:{assetId:"combined",src:"http://pbskids.org/dinosaurtrain/games/riverrun/a/combined.m4a",data:{channels:1,offset:284530,length:1520}}}},"raft-coll-0":{id:"raft-coll-0",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/raft-coll-0.ogg"}},"raft-coll-1":{id:"raft-coll-1",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/raft-coll-1.ogg"}},"raft-coll-2":{id:"raft-coll-2",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/raft-coll-2.ogg"}},"pad-0":{id:"pad-0",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/pad-0.ogg"}},"pad-1":{id:"pad-1",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/pad-1.ogg"}},"pad-2":{id:"pad-2",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/pad-2.ogg"}},"pad-3":{id:"pad-3",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/pad-3.ogg"}},"ambient-bg":{id:"ambient-bg",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-bg.ogg",mp3:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-bg.mp3"}},"ambient-0":{id:"ambient-0",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-0.ogg"}},"ambient-1":{id:"ambient-1",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-1.ogg"}},"ambient-2":{id:"ambient-2",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-2.ogg"}},"ambient-3":{id:"ambient-3",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-3.ogg"}},"ambient-4":{id:"ambient-4",src:{ogg:"http://pbskids.org/dinosaurtrain/games/riverrun/a/ambient-4.ogg"}},buttons:{id:"buttons",src:"riverrun/i/buttons.png",data:{rows:4,columns:2}},tiles:{id:"tiles",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/tiles.png",data:{rows:10,columns:12}},entities:{id:"entities",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/entities.png",data:{rows:2,columns:10}},"raft-don":{id:"raft-don",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/raft-don.png",data:{rows:3,columns:13}},"raft-buddy":{id:"raft-buddy",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/raft-buddy.png",data:{rows:3,columns:13}},raft:{id:"raft",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/raft.png"},caterpillar:{id:"caterpillar",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/caterpillar.png",data:{rows:1,columns:18}},bee:{id:"bee",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/bee.png",data:{rows:1,columns:10}},butterfly:{id:"butterfly",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/butterfly.png",data:{rows:1,columns:6}},dragonfly:{id:"dragonfly",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/dragonfly.png",data:{rows:1,columns:10}},"title-screen":{id:"title-screen",src:"riverrun/i/title-screen.jpg"},"buddy-scorebox":{id:"buddy-scorebox",src:"riverrun/i/buddy-scorebox.png"},"don-scorebox":{id:"don-scorebox",src:"riverrun/i/don-scorebox.png"},"progress-bar":{id:"progress-bar",src:"riverrun/i/progress-bar.png"},"progress-icon":{id:"progress-icon",src:"riverrun/i/progress-icon.png"},"lilypad-small":{id:"lilypad-small",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/lilypad-small.png",data:{rows:2,columns:34}},"lilypad-big":{id:"lilypad-big",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/lilypad-big.png",data:{rows:2,columns:27}},log:{id:"log",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/log.png",data:{rows:1,columns:35}},turtle:{id:"turtle",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/turtle.png",data:{rows:5,columns:20}},"paddle-buttons":{id:"paddle-buttons",src:"riverrun/i/paddle-buttons.png",data:{rows:1,columns:4}},"paddle-keys":{id:"paddle-keys",src:"riverrun/i/paddle-keys.png",data:{rows:1,columns:4}},"play-buttons":{id:"play-buttons",src:"riverrun/i/play-buttons.png",data:{rows:2,columns:2}},"ready-set-go":{id:"ready-set-go",src:"riverrun/i/ready-set-go.png",data:{rows:3,columns:1}},"winner-icons":{id:"winner-icons",src:"riverrun/i/winner-icons.png",data:{rows:1,columns:3}},"arrow-button":{id:"arrow-button",src:"riverrun/i/arrow-button.png",data:{rows:1,columns:1}},"tutorial-arrows":{id:"tutorial-arrows",src:"riverrun/i/tutorial-arrows.png",data:{rows:1,columns:2}},"post-game-buttons":{id:"post-game-buttons",src:"riverrun/i/post-game-buttons.png",data:{rows:1,columns:4}},rapid:{id:"rapid",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/rapid.png",data:{rows:1,columns:17}},whirlpool:{id:"whirlpool",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/whirlpool.png",data:{rows:1,columns:1}},loading:{id:"loading",src:"riverrun/i/loading.gif",data:{rows:1,columns:1}},"vo-buddy-body":{id:"vo-buddy-body",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/vo-buddy-body.png",data:{rows:3,columns:8}},"vo-buddy-head":{id:"vo-buddy-head",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/vo-buddy-head.png",data:{rows:1,columns:9}},"vo-don-body":{id:"vo-don-body",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/vo-don-body.png",data:{rows:2,columns:13}},"vo-don-head":{id:"vo-don-head",src:"http://pbskids.org/dinosaurtrain/games/riverrun/i/vo-don-head.png",data:{rows:1,columns:7}},"dino-font":{id:"dino-font",src:"riverrun/f/dino-font.ttf"}},includes:{CreateJS:{id:"CreateJS",src:"http://code.createjs.com/createjs-2013.12.12.min.js"},JQuery4GAS:{id:"JQuery4GAS",src:"http://pbskids.org/gas/static/adapter/js/jquery/jquery.min.js"},PBSKIDSGAS:{id:"PBSKIDSGAS",src:"http://pbskids.org/gas/static/adapter/js/pbs-kids-gas.js"},Browser:{id:"Browser",src:"../engine/browser.js"},Main:{id:"Main",src:"../engine/main.js"},ButtonCSS:{id:"ButtonCSS",src:"../game/css/button.css"},MainCSS:{id:"MainCSS",src:"../game/css/main.css"},GameCSS:{id:"GameCSS",src:"../game/css/game.css"},"GUI CSS":{id:"GUI CSS",src:"../game/css/gui.css"},FullScreenCSS:{id:"FullScreenCSS",src:"../game/css/fullscreen.css"}},classes:{Game:{id:"Game",src:"../engine/game.js"},ComponentFactory:{id:"ComponentFactory",src:"../engine/factory.js"},Entity:{id:"Entity",src:"../engine/entity.js"},Scene:{id:"Scene",src:"../engine/scene.js"},Vector2D:{id:"Vector2D",src:"../engine/vector2D.js"},"Collision-Shape":{id:"Collision-Shape",src:"../engine/collision-shape.js"},"Collision-Data-Container":{id:"Collision-Data-Container",src:"../engine/collision-data-container.js"},AABB:{id:"AABB",src:"../engine/aabb.js"}},components:{"asset-loader":{id:"asset-loader",src:"../engine/components/asset-loader.js"},"enable-ios-audio":{id:"enable-ios-audio",src:"../engine/components/enable-ios-audio.js"},"handler-collision":{id:"handler-collision",src:"../engine/components/handler-collision.js"},"handler-controller":{id:"handler-controller",src:"../engine/components/handler-controller.js"},"tiled-loader":{id:"tiled-loader",src:"../engine/components/tiled-loader.js"},"handler-render-createjs":{id:"handler-render-createjs",src:"../engine/components/handler-render-createjs.js"},"handler-render-dom":{id:"handler-render-dom",src:"../engine/components/handler-render-dom.js"},"handler-ai":{id:"handler-ai",src:"../engine/components/handler-ai.js"},"handler-logic":{id:"handler-logic",src:"../engine/components/handler-logic.js"},camera:{id:"camera",src:"../engine/components/camera.js"},"collision-group":{id:"collision-group",src:"../engine/components/collision-group.js"},audio:{id:"audio",src:"../engine/components/audio.js"},"broadcast-events":{id:"broadcast-events",src:"../engine/components/broadcast-events.js"},"change-scene":{id:"change-scene",src:"../engine/components/change-scene.js"},"dom-element":{id:"dom-element",src:"../engine/components/dom-element.js"},"entity-container":{id:"entity-container",src:"../engine/components/entity-container.js"},"entity-controller":{id:"entity-controller",src:"../engine/components/entity-controller.js"},fullscreen:{id:"fullscreen",src:"../engine/components/fullscreen.js"},"render-debug":{id:"render-debug",src:"../engine/components/render-debug.js"},"render-tiles":{id:"render-tiles",src:"../engine/components/render-tiles.js"},"render-animation":{id:"render-animation",src:"../engine/components/render-animation.js"},"render-image":{id:"render-image",src:"../engine/components/render-image.js"},"logic-button":{id:"logic-button",src:"../engine/components/logic-button.js"},"logic-directional-movement":{id:"logic-directional-movement",src:"../engine/components/logic-directional-movement.js"},"logic-angular-movement":{id:"logic-angular-movement",src:"../engine/components/logic-angular-movement.js"},"logic-gravity":{id:"logic-gravity",src:"../engine/components/logic-gravity.js"},"logic-jump":{id:"logic-jump",src:"../engine/components/logic-jump.js"},counter:{id:"counter",src:"../engine/components/counter.js"},"logic-timer":{id:"logic-timer",src:"../engine/components/logic-timer.js"},"logic-portal":{id:"logic-portal",src:"../engine/components/logic-portal.js"},"collision-basic":{id:"collision-basic",src:"../engine/components/collision-basic.js"},"collision-tiles":{id:"collision-tiles",src:"../engine/components/collision-tiles.js"},"logic-fps-counter":{id:"logic-fps-counter",src:"../engine/components/logic-fps-counter.js"},"render-destroy-me":{id:"render-destroy-me",src:"../engine/components/render-destroy-me.js"},"entity-linker":{id:"entity-linker",src:"../engine/components/entity-linker.js"},"logic-carrier":{id:"logic-carrier",src:"../engine/components/logic-carrier.js"},"logic-portable":{id:"logic-portable",src:"../engine/components/logic-portable.js"},"voice-over":{id:"voice-over",src:"../engine/components/voice-over.js"},"logic-delay-message":{id:"logic-delay-message",src:"../engine/components/logic-delay-message.js"},"logic-rebounder":{id:"logic-rebounder",src:"../engine/components/logic-rebounder.js"},"ai-chaser":{id:"ai-chaser",src:"../engine/components/ai-chaser.js"},"logic-spawner":{id:"logic-spawner",src:"../engine/components/logic-spawner.js"},"level-builder":{id:"level-builder",src:"../engine/components/level-builder.js"},"logic-attached-entity":{id:"logic-attached-entity",src:"../engine/components/logic-attached-entity.js"},"logic-hero":{id:"logic-hero",src:"../game/components/logic-hero.js"},"logic-rafter":{id:"logic-rafter",src:"../game/components/logic-rafter.js"},"logic-turtle":{id:"logic-turtle",src:"../game/components/logic-turtle.js"},"logic-log":{id:"logic-log",src:"../game/components/logic-log.js"},"logic-insect":{id:"logic-insect",src:"../game/components/logic-insect.js"},"logic-lakitu":{id:"logic-lakitu",src:"../game/components/logic-lakitu.js"},"logic-bumper":{id:"logic-bumper",src:"../game/components/logic-bumper.js"},"logic-game-manager":{id:"logic-game-manager",src:"../game/components/logic-game-manager.js"},"logic-tutorial-manager":{id:"logic-tutorial-manager",src:"../game/components/logic-tutorial-manager.js"},"logic-ready-set-go":{id:"logic-ready-set-go",src:"../game/components/logic-ready-set-go.js"},"logic-end-game-interface":{id:"logic-end-game-interface",src:"../game/components/logic-end-game-interface.js"},"logic-water-current":{id:"logic-water-current",src:"../game/components/logic-water-current.js"},"logic-rapid":{id:"logic-rapid",src:"../game/components/logic-rapid.js"},"logic-whirlpool":{id:"logic-whirlpool",src:"../game/components/logic-whirlpool.js"},"brain-scoreboard":{id:"brain-scoreboard",src:"../game/components/brain-scoreboard.js"},"brain-finish-line":{id:"brain-finish-line",src:"../game/components/brain-finish-line.js"},"ai-rower":{id:"ai-rower",src:"../game/components/ai-rower.js"},"ai-moving-bug":{id:"ai-moving-bug",src:"../game/components/ai-moving-bug.js"},"trigger-once":{id:"trigger-once",src:"../game/components/trigger-once.js"},"logic-event-scheduler":{id:"logic-event-scheduler",src:"../game/components/logic-event-scheduler.js"},"logic-announcement":{id:"logic-announcement",src:"../game/components/logic-announcement.js"}},entities:{"action-layer":{id:"action-layer",components:[{type:"handler-controller"},{type:"handler-ai"},{type:"handler-logic",bufferHeight:190},{type:"handler-collision"},{type:"camera",transitionX:1,transitionY:1,width:1100},{type:"handler-render-createjs",bufferHeight:190},{type:"entity-container",entities:[{type:"game-manager"},{type:"event-scheduler"}],childEvents:["link-entity","world-loaded"]},{type:"level-builder",levelTemplate:[["end"],["filler"],["filler"],["filler"],["start"]]},{type:"tiled-loader",entityPositionX:"center",entityPositionY:"center",manuallyLoad:true}]},"tutorial-layer":{id:"tutorial-layer",components:[{type:"handler-controller"},{type:"handler-ai"},{type:"handler-logic"},{type:"handler-collision"},{type:"camera",transitionX:1,transitionY:1,width:1100},{type:"handler-render-createjs"},{type:"entity-container",entities:[{type:"tutorial-manager"},{type:"tutorial-event-scheduler"}],childEvents:["link-entity","scene-loaded"]},{type:"tiled-loader",entityPositionX:"center",entityPositionY:"center"}]},"desktop-interface-1p-layer":{id:"desktop-interface-1p-layer",filter:{excludes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"raft-controls-faux-1p"},{type:"river-progress-bar"},{type:"don-scoreboard"},{type:"buddy-scoreboard"},{type:"fps-counter"},{type:"end-game-interface"}],childEvents:["time-elapsed"]}]},"desktop-interface-2p-layer":{id:"desktop-interface-2p-layer",filter:{excludes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"raft-controls-faux-2p"},{type:"river-progress-bar"},{type:"don-scoreboard"},{type:"buddy-scoreboard"},{type:"fps-counter"},{type:"end-game-interface"}],childEvents:["time-elapsed"]}]},"touch-interface-1p-layer":{id:"touch-interface-1p-layer",filter:{includes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"river-progress-bar"},{type:"don-scoreboard"},{type:"buddy-scoreboard"},{type:"raft-controls-1p"},{type:"fps-counter"},{type:"end-game-interface"}],childEvents:["link-entity"]}]},"touch-interface-2p-layer":{id:"touch-interface-2p-layer",filter:{includes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"river-progress-bar"},{type:"don-scoreboard"},{type:"buddy-scoreboard"},{type:"raft-controls-2p"},{type:"fps-counter"},{type:"end-game-interface"}],childEvents:["link-entity"]}]},"desktop-interface-tutorial-1p-layer":{id:"desktop-interface-tutorial-1p-layer",filter:{excludes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"fps-counter"},{type:"raft-controls-tut-faux-1p"},{type:"tutorial-gui-1p"},{type:"full-screen-interface"}],childEvents:["time-elapsed"]}]},"desktop-interface-tutorial-2p-layer":{id:"desktop-interface-tutorial-2p-layer",filter:{excludes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"fps-counter"},{type:"raft-controls-tut-faux-2p"},{type:"tutorial-gui-2p"},{type:"full-screen-interface"}],childEvents:["time-elapsed"]}]},"touch-interface-tutorial-1p-layer":{id:"touch-interface-tutorial-1p-layer",filter:{includes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"raft-controls-1p"},{type:"fps-counter"},{type:"tutorial-gui-1p"},{type:"full-screen-interface"}],childEvents:["link-entity"]}]},"touch-interface-tutorial-2p-layer":{id:"touch-interface-tutorial-2p-layer",filter:{includes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"raft-controls-2p"},{type:"fps-counter"},{type:"tutorial-gui-2p"},{type:"full-screen-interface"}],childEvents:["link-entity"]}]},"full-screen-interface":{id:"full-screen-interface",components:[{type:"dom-element",element:"div",className:"button-fullscreen-intro",onmouseup:"toggle-fullscreen",ontouchend:"toggle-fullscreen"},{type:"fullscreen"}]},"tile-layer":{id:"tile-layer",components:[{type:"render-tiles",spriteSheet:"import",imageMap:"import"},{type:"collision-tiles",collisionMap:"import"}]},"render-layer":{id:"render-layer",components:[{type:"render-tiles",spriteSheet:"import",imageMap:"import"}]},"collision-layer":{id:"collision-layer",components:[{type:"collision-tiles",collisionMap:"import"}]},"button-fullscreen":{id:"button-fullscreen",components:[{type:"dom-element",element:"div",className:"button-fullscreen",onmouseup:"toggle-fullscreen",ontouchend:"toggle-fullscreen"},{type:"fullscreen"}]},"button-pre-game":{id:"button-pre-game",components:[{type:"dom-element",element:"div",className:"menu-button",onclick:"new-scene"},{type:"change-scene",scene:"menu",preload:true}]},"button-play-game":{id:"button-play-game",components:[{type:"dom-element",element:"div",className:"play-game-button p1",onmouseup:"new-scene",ontouchend:"new-scene"},{type:"change-scene",scene:"scene-tutorial-single-player",transition:"fade-to-black"}]},"button-play-2p-game":{id:"button-play-2p-game",components:[{type:"dom-element",element:"div",className:"play-game-button p2",onmouseup:"new-scene",ontouchend:"new-scene"},{type:"change-scene",scene:"scene-tutorial-multi-player",transition:"fade-to-black"}]},"button-mute":{id:"button-mute",components:[{type:"logic-button",toggle:true,state:"pressed"},{type:"dom-element",element:"div",className:"game-button mute-button",updateClassName:true,onmouseup:["audio-mute-toggle","mouseup"],ontouchend:["audio-mute-toggle","mouseup"]},{type:"audio"}],properties:{x:10,y:10,z:400,width:400,height:400}},"progress-bar":{id:"progress-bar",components:[{type:"dom-element",id:"progress-bar-container",className:"progress-bar"},{type:"dom-element",id:"progress-bar-container-container",parent:"progress-bar-container"},{type:"dom-element",id:"progress-bar",parent:"progress-bar-container-container"},{type:"entity-container",entities:[{id:"container",components:[{type:"change-scene",scene:"menu",message:"complete"},{type:"asset-loader",progressBar:"progress-bar",useXHR:false}]}]}]},"progress-bar-mobile":{id:"progress-bar-mobile",components:[{type:"dom-element",id:"progress-bar-container",className:"progress-bar"},{type:"dom-element",id:"progress-bar-container-container",parent:"progress-bar-container"},{type:"dom-element",id:"progress-bar",parent:"progress-bar-container-container"},{type:"entity-container",entities:[{id:"container",components:[{type:"change-scene",scene:"pre-menu",message:"complete"},{type:"asset-loader",progressBar:"progress-bar",useXHR:false}]}]}]},"level-portal":{id:"level-portal",components:[{type:"logic-portal"},{type:"collision-basic",collisionType:"portal",immobile:true,softCollisions:{hero:"occupied-portal"}},{type:"change-scene",transition:"fade-to-black"}],properties:{z:0}},"load-screen":{id:"load-screen",components:[{type:"dom-element",element:"div",className:"load-screen"}]},"title-screen":{id:"title-screen",components:[{type:"dom-element",element:"div",className:"title-screen"}]},gui:{id:"gui",components:[{type:"logic-gui"},{type:"entity-container",entities:[{}],childEvents:["handle-logic","handle-render","handle-render-load"]}]},"fps-counter":{id:"fps-counter",components:[{type:"logic-fps-counter"},{type:"dom-element",className:"fps-counter",style:{position:"absolute",left:"0.1em",top:"0.1em",color:"white",fontSize:"0.4em",fontWeight:"bold",fontFamily:"Arial",pointerEvents:"none",zIndex:11}}]},"rafter-don":{id:"rafter-don",components:[{type:"entity-controller",controlMap:{"button-left-paddle":"paddle-on-left","key:left-arrow":"paddle-on-left","button-right-paddle":"paddle-on-right","key:right-arrow":"paddle-on-right"}},{type:"logic-water-current",currentY:-0.02},{type:"logic-rebounder"},{type:"logic-rafter"},{type:"logic-portable"},{type:"collision-basic",collisionType:"raft",regY:33,solidCollisions:{tiles:"hit-static",rock:"hit-static",raft:"hit-non-static",log:"hit-non-static",bumper:"hit-bumper",turtle:"hit-non-static"},softCollisions:{},shapeType:"circle",radius:33},{type:"render-animation",rotate:true,animationMap:{"paddling-right":"paddle-right","paddling-left":"paddle-left","paddling-both":"paddle-both","default":"idle"},spriteSheet:{images:["raft-don"],frames:{width:147,height:88,regX:71,regY:46},animations:{"paddle-right":{frames:[1,2,3,4,5,6,7,8,9,10,11,12],speed:0.5,next:"idle"},"paddle-left":{frames:[13,14,15,16,17,18,19,20,21,22,23,24],speed:0.5,next:"idle"},"paddle-both":{frames:[25,26,27,28,29,30,31,32,33,34,35,36],speed:0.5,next:"idle"},idle:{frames:[0],speed:0.5}}}},{type:"render-image",rotate:true,regX:39,regY:45,image:"raft",offsetZ:-2},{type:"audio",audioMap:{"audio-collision-0":{sound:"raft-coll-0"},"audio-collision-1":{sound:"raft-coll-1"},"audio-collision-2":{sound:"raft-coll-2"},"audio-paddle-0":{sound:"pad-0"},"audio-paddle-1":{sound:"pad-1"},"audio-paddle-2":{sound:"pad-2"},"audio-paddle-3":{sound:"pad-3"}}},{type:"entity-linker",linkId:"raft-controller-input"},{type:"render-debug"}],properties:{alwaysOn:true,z:201}},"rafter-buddy":{id:"rafter-buddy",components:[{type:"entity-controller",controlMap:{"button-left-paddle-p2":"paddle-on-left","key:a":"paddle-on-left","button-right-paddle-p2":"paddle-on-right","key:s":"paddle-on-right"}},{type:"logic-water-current",currentY:-0.02},{type:"logic-rebounder"},{type:"logic-rafter"},{type:"logic-portable"},{type:"collision-basic",collisionType:"raft",regY:33,solidCollisions:{tiles:"hit-static",rock:"hit-static",raft:"hit-non-static",log:"hit-non-static",bumper:"hit-bumper",turtle:"hit-non-static"},softCollisions:{},shapeType:"circle",radius:33},{type:"render-animation",rotate:true,animationMap:{"paddling-right":"paddle-right","paddling-left":"paddle-left","paddling-both":"paddle-both","default":"idle"},spriteSheet:{images:["raft-buddy"],frames:{width:147,height:89,regX:71,regY:46},animations:{"paddle-right":{frames:[1,2,3,4,5,6,7,8,9,10,11,12],speed:0.5,next:"idle"},"paddle-left":{frames:[13,14,15,16,17,18,19,20,21,22,23,24],speed:0.5,next:"idle"},"paddle-both":{frames:[25,26,27,28,29,30,31,32,33,34,35,36],speed:0.5,next:"idle"},idle:{frames:[0],speed:0.5}}}},{type:"render-image",rotate:true,regX:39,regY:45,image:"raft",offsetZ:-2},{type:"audio",audioMap:{"audio-collision-0":{sound:"raft-coll-0"},"audio-collision-1":{sound:"raft-coll-1"},"audio-collision-2":{sound:"raft-coll-2"},"audio-paddle-0":{sound:"pad-0"},"audio-paddle-1":{sound:"pad-1"},"audio-paddle-2":{sound:"pad-2"},"audio-paddle-3":{sound:"pad-3"}}},{type:"entity-linker",linkId:"raft-controller-input"}],properties:{alwaysOn:true,z:200}},"rafter-buddy-robot":{id:"rafter-buddy-robot",components:[{type:"ai-rower"},{type:"logic-water-current",currentY:-0.02},{type:"logic-rebounder"},{type:"logic-rafter"},{type:"logic-portable"},{type:"collision-basic",collisionType:"raft",regY:33,solidCollisions:{tiles:["hit-static","shorten-range"],rock:["hit-static","shorten-range"],bumper:["hit-bumper","shorten-range"],raft:"hit-non-static",log:"hit-non-static",turtle:"hit-non-static"},softCollisions:{},shapeType:"circle",radius:33},{type:"render-animation",rotate:true,animationMap:{"paddling-right":"paddle-right","paddling-left":"paddle-left","paddling-both":"paddle-both","default":"idle"},spriteSheet:{images:["raft-buddy"],frames:{width:147,height:89,regX:71,regY:46},animations:{"paddle-right":{frames:[1,2,3,4,5,6,7,8,9,10,11,12],speed:0.5,next:"idle"},"paddle-left":{frames:[13,14,15,16,17,18,19,20,21,22,23,24],speed:0.5,next:"idle"},"paddle-both":{frames:[25,26,27,28,29,30,31,32,33,34,35,36],speed:0.5,next:"idle"},idle:{frames:[0],speed:0.5}}}},{type:"render-image",rotate:true,regX:39,regY:45,image:"raft",offsetZ:-2},{type:"audio",audioMap:{"audio-collision-0":{sound:"raft-coll-0"},"audio-collision-1":{sound:"raft-coll-1"},"audio-collision-2":{sound:"raft-coll-2"},"audio-paddle-0":{sound:"pad-0"},"audio-paddle-1":{sound:"pad-1"},"audio-paddle-2":{sound:"pad-2"},"audio-paddle-3":{sound:"pad-3"}}},{type:"entity-linker",linkId:"raft-controller-input"},{type:"render-debug"}],properties:{alwaysOn:true,z:200}},caterpillar:{id:"caterpillar",components:[{type:"logic-insect"},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["caterpillar"],frames:{width:25,height:60,regX:12,regY:30},animations:{don:{frames:[17,17,17],speed:0.05},buddy:{frames:[16,16,16],speed:0.05},idle:{frames:[0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],speed:0.5},paused:{frames:[0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:190}},bee:{id:"bee",components:[{type:"logic-insect"},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["bee"],frames:{width:52,height:42,regX:26,regY:23},animations:{don:{frames:[9],speed:0.5},buddy:{frames:[8],speed:0.5},idle:{frames:[4,4,4,4,4,4,5,6,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,6,7,4,5,6,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],speed:0.5},paused:{frames:[0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:190}},"bee-flying":{id:"bee-flying",components:[{type:"ai-moving-bug"},{type:"ai-chaser"},{type:"logic-insect"},{type:"logic-angular-movement",visualOrientationOffset:1.57,maxVelocity:2.5},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect",waypoint:"hit-node"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["bee"],frames:{width:52,height:42,regX:26,regY:23},animations:{don:{frames:[9],speed:0.5},buddy:{frames:[8],speed:0.5},idle:{frames:[0,1,2,3],speed:0.5},paused:{frames:[0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:200}},butterfly:{id:"butterfly",components:[{type:"logic-insect"},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["butterfly"],frames:{width:72,height:46,regX:36,regY:17},animations:{don:{frames:[5],speed:0.5},buddy:{frames:[4],speed:0.5},paused:{frames:[0],speed:0.5},idle:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,0,1,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:190}},"butterfly-flying":{id:"butterfly-flying",components:[{type:"ai-moving-bug"},{type:"ai-chaser"},{type:"logic-insect"},{type:"logic-angular-movement",visualOrientationOffset:1.57,maxVelocity:1.5},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect",waypoint:"hit-node"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["butterfly"],frames:{width:72,height:46,regX:36,regY:17},animations:{don:{frames:[5],speed:0.5},buddy:{frames:[4],speed:0.5},idle:{frames:[0,0,0,0,0,0,1,2,3],speed:0.5},paused:{frames:[0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:200}},dragonfly:{id:"dragonfly",components:[{type:"logic-insect"},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["dragonfly"],frames:{width:76,height:50,regX:38,regY:25},animations:{buddy:{frames:[8],speed:0.5},don:{frames:[9],speed:0.5},idle:{frames:[4,5,6,7,4,5,6,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],speed:0.5},paused:{frames:[0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:190}},"dragonfly-flying":{id:"dragonfly-flying",components:[{type:"ai-moving-bug"},{type:"ai-chaser"},{type:"logic-insect"},{type:"logic-angular-movement",visualOrientationOffset:1.57,maxVelocity:4},{type:"collision-basic",collisionType:"insect",softCollisions:{raft:"collect",waypoint:"hit-node"},shapeType:"circle",radius:40,regX:40,regY:40},{type:"render-animation",rotate:true,animationMap:{"collected-by-don":"don","collected-by-buddy":"buddy",idle:"idle","default":"paused"},spriteSheet:{images:["dragonfly"],frames:{width:76,height:50,regX:38,regY:25},animations:{buddy:{frames:[8],speed:0.5},don:{frames:[9],speed:0.5},idle:{frames:[0,1,2],speed:0.5},paused:{frames:[0],speed:0.5}}}},{type:"audio",audioMap:{"audio-collect-0":"ins-coll-0","audio-collect-1":"ins-coll-1"}},{type:"render-debug"}],properties:{z:200}},lakitu:{id:"lakitu",components:[{type:"collision-basic",collisionType:"lakitu"},{type:"logic-lakitu"},{type:"render-debug"}],properties:{camera:"locked",width:1000,height:10}},"raft-controls-1p":{id:"raft-controls-1p",components:[{type:"dom-element",element:"div",className:"paddle-button one-player-left",ontouchstart:"left-button-pressed",ontouchend:"left-button-released",ontouchcancel:"left-button-released",updateClassName:true,id:"tut-left-paddle",aliases:{"update-p1-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button one-player-right",ontouchstart:"right-button-pressed",ontouchend:"right-button-released",ontouchcancel:"right-button-released",updateClassName:true,id:"tut-right-paddle",aliases:{"update-p1-right":"logical-state"}},{type:"entity-linker",linkId:"tutorial-link"},{type:"entity-linker",linkId:"raft-controller-input",events:{"left-button-pressed":"button-left-paddle:down","left-button-released":"button-left-paddle:up","right-button-pressed":"button-right-paddle:down","right-button-released":"button-right-paddle:up"}}]},"raft-controls-2p":{id:"raft-controls-2p",components:[{type:"dom-element",element:"div",className:"paddle-button two-player-p1-left",ontouchstart:"left-button-pressed",ontouchend:"left-button-released",ontouchcancel:"left-button-released",id:"tut-p1-left-paddle",updateClassName:true,aliases:{"update-p1-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p1-right",ontouchstart:"right-button-pressed",ontouchend:"right-button-released",ontouchcancel:"right-button-released",id:"tut-p1-right-paddle",updateClassName:true,aliases:{"update-p1-right":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p2-left",ontouchstart:"left-button-2-pressed",ontouchend:"left-button-2-released",ontouchcancel:"left-button-2-released",id:"tut-p2-left-paddle",updateClassName:true,aliases:{"update-p2-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p2-right",ontouchstart:"right-button-2-pressed",ontouchend:"right-button-2-released",ontouchcancel:"right-button-2-released",id:"tut-p2-right-paddle",updateClassName:true,aliases:{"update-p2-right":"logical-state"}},{type:"entity-linker",linkId:"tutorial-link"},{type:"entity-linker",linkId:"raft-controller-input",events:{"left-button-pressed":"button-left-paddle:down","right-button-pressed":"button-right-paddle:down","left-button-released":"button-left-paddle:up","right-button-released":"button-right-paddle:up","left-button-2-pressed":"button-left-paddle-p2:down","right-button-2-pressed":"button-right-paddle-p2:down","left-button-2-released":"button-left-paddle-p2:up","right-button-2-released":"button-right-paddle-p2:up"}}]},"raft-controls-faux-1p":{id:"raft-controls-faux-1p",components:[{type:"dom-element",element:"div",className:"paddle-button one-player-left",updateClassName:true,id:"left-paddle",aliases:{"update-p1-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button one-player-right",updateClassName:true,id:"right-paddle",aliases:{"update-p1-right":"logical-state"}},{type:"dom-element",element:"div",parent:"left-paddle",className:"paddle-button-key-icon left p1"},{type:"dom-element",element:"div",parent:"right-paddle",className:"paddle-button-key-icon right p1"},{type:"entity-linker",linkId:"tutorial-link"}]},"raft-controls-faux-2p":{id:"raft-controls-faux-2p",components:[{type:"dom-element",element:"div",className:"paddle-button two-player-p1-left",updateClassName:true,id:"p1-left-paddle",aliases:{"update-p1-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p1-right",updateClassName:true,id:"p1-right-paddle",aliases:{"update-p1-right":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p2-left",updateClassName:true,id:"p2-left-paddle",aliases:{"update-p2-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p2-right",updateClassName:true,id:"p2-right-paddle",aliases:{"update-p2-right":"logical-state"}},{type:"dom-element",element:"div",parent:"p1-left-paddle",className:"paddle-button-key-icon left p1"},{type:"dom-element",element:"div",parent:"p1-right-paddle",className:"paddle-button-key-icon right p1"},{type:"dom-element",element:"div",parent:"p2-left-paddle",className:"paddle-button-key-icon left p2"},{type:"dom-element",element:"div",parent:"p2-right-paddle",className:"paddle-button-key-icon right p2"},{type:"entity-linker",linkId:"tutorial-link"}]},"raft-controls-tut-faux-1p":{id:"raft-controls-tut-faux-1p",components:[{type:"dom-element",element:"div",className:"paddle-button one-player-left",updateClassName:true,id:"tut-left-paddle",aliases:{"update-p1-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button one-player-right",updateClassName:true,id:"tut-right-paddle",aliases:{"update-p1-right":"logical-state"}},{type:"dom-element",element:"div",parent:"tut-left-paddle",className:"paddle-button-key-icon left p1"},{type:"dom-element",element:"div",parent:"tut-right-paddle",className:"paddle-button-key-icon right p1"},{type:"entity-linker",linkId:"tutorial-link"}]},"raft-controls-tut-faux-2p":{id:"raft-controls-tut-faux-2p",components:[{type:"dom-element",element:"div",className:"paddle-button two-player-p1-left",updateClassName:true,id:"tut-p1-left-paddle",aliases:{"update-p1-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p1-right",updateClassName:true,id:"tut-p1-right-paddle",aliases:{"update-p1-right":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p2-left",updateClassName:true,id:"tut-p2-left-paddle",aliases:{"update-p2-left":"logical-state"}},{type:"dom-element",element:"div",className:"paddle-button two-player-p2-right",updateClassName:true,id:"tut-p2-right-paddle",aliases:{"update-p2-right":"logical-state"}},{type:"dom-element",element:"div",parent:"tut-p1-left-paddle",className:"paddle-button-key-icon left p1"},{type:"dom-element",element:"div",parent:"tut-p1-right-paddle",className:"paddle-button-key-icon right p1"},{type:"dom-element",element:"div",parent:"tut-p2-left-paddle",className:"paddle-button-key-icon left p2"},{type:"dom-element",element:"div",parent:"tut-p2-right-paddle",className:"paddle-button-key-icon right p2"},{type:"entity-linker",linkId:"tutorial-link"}]},bumper:{id:"bumper",components:[{type:"collision-basic",collisionType:"bumper",solidCollisions:{raft:"hit-solid"}},{type:"logic-carrier"},{type:"render-debug"}],properties:{alwaysOn:true,width:1152,height:64}},"game-manager":{id:"game-manager",components:[{type:"entity-controller",controlMap:{"button-left-paddle":"p1-paddled","key:left-arrow":"p1-paddled","button-right-paddle":"p1-paddled","key:right-arrow":"p1-paddled","button-left-paddle-p2":"p2-paddled","key:a":"p2-paddled","button-right-paddle-p2":"p2-paddled","key:s":"p2-paddled"}},{type:"logic-game-manager"},{type:"entity-linker",linkId:"manager-link",events:{"update-score-don":"set-don-score","update-score-buddy":"set-buddy-score","set-progress":"set-river-progress","start-end":"start-end-sequence"}},{type:"entity-linker",linkId:"tutorial-link",events:{"update-p1-left-button":"update-p1-left","update-p1-right-button":"update-p1-right","update-p2-left-button":"update-p2-left","update-p2-right-button":"update-p2-right","update-don-tutorial-arrow":"update-don-arrow","update-buddy-tutorial-arrow":"update-buddy-arrow"}}],properties:{alwaysOn:true}},"tutorial-manager":{id:"tutorial-manager",components:[{type:"entity-controller",controlMap:{"key:left-arrow":"p1-left-button","key:right-arrow":"p1-right-button","key:a":"p2-left-button","key:s":"p2-right-button"}},{type:"logic-tutorial-manager"},{type:"entity-linker",linkId:"tutorial-link",events:{"update-p1-left-button":"update-p1-left","update-p1-right-button":"update-p1-right","update-p2-left-button":"update-p2-left","update-p2-right-button":"update-p2-right","update-don-tutorial-arrow":"update-don-arrow","update-buddy-tutorial-arrow":"update-buddy-arrow"}},{type:"change-scene",scene:"scene-single-player",transition:"fade-to-black"},{type:"audio",audioMap:{"controls-1p-desktop":[{sound:"T-Start"},{sound:"T-Your-Raft"},{sound:"T-NTR-LR",events:[{time:100,event:"show-don-arrow"}]},{sound:"T-Press-Key",events:[{time:0,event:"hide-don-arrow"}]},{sound:"T-Calm"},{sound:"T-Collect"}],"controls-2p-desktop":[{sound:"T-Start"},{sound:"T-Each-Raft"},{sound:"T-Keyboard"},{sound:"T-Bud-AS",events:[{time:100,event:"show-buddy-arrow"}]},{sound:"T-Don-LR",events:[{time:100,event:"show-don-arrow"},{time:0,event:"hide-buddy-arrow"}]},{sound:"T-Press-Key",events:[{time:0,event:"hide-don-arrow"}]},{sound:"T-Calm"},{sound:"T-Collect"}],"controls-1p-mobile":[{sound:"T-Start"},{sound:"T-Your-Raft"},{sound:"T-But-NTR",events:[{time:100,event:"show-don-arrow"}]},{sound:"T-Press-But",events:[{time:0,event:"hide-don-arrow"}]},{sound:"T-Calm"},{sound:"T-Collect"}],"controls-2p-mobile":[{sound:"T-Start"},{sound:"T-Each-Raft"},{sound:"T-But-Bud",events:[{time:100,event:"show-buddy-arrow"}]},{sound:"T-But-Don",events:[{time:100,event:"show-don-arrow"},{time:0,event:"hide-buddy-arrow"}]},{sound:"T-Press-But",events:[{time:0,event:"hide-don-arrow"}]},{sound:"T-Calm"},{sound:"T-Collect"}]}}],properties:{alwaysOn:true}},"don-scoreboard":{id:"don-scoreboard",components:[{type:"brain-scoreboard",aliases:{"set-don-score":"set-score"}},{type:"dom-element",element:"div",className:"scoreboard",id:"scoreboard-don"},{type:"dom-element",element:"div",className:"score score-don",parent:"scoreboard-don",updateClassName:true,innerHTML:"0",aliases:{"set-score-content":"update-content"}},{type:"entity-linker",linkId:"manager-link"}]},"buddy-scoreboard":{id:"buddy-scoreboard",components:[{type:"brain-scoreboard",aliases:{"set-buddy-score":"set-score"}},{type:"dom-element",element:"div",className:"scoreboard scoreboard-buddy",id:"scoreboard-buddy"},{type:"dom-element",element:"div",className:"score score-buddy",parent:"scoreboard-buddy",updateClassName:true,innerHTML:"0",aliases:{"set-score-content":"update-content"}},{type:"entity-linker",linkId:"manager-link"}]},"river-progress-bar":{id:"river-progress-bar",components:[{type:"dom-element",element:"div",id:"river-progress-bar"},{type:"dom-element",element:"div",parent:"river-progress-bar",id:"river-progress-icon-container"},{type:"dom-element",element:"div",className:"river-progress-icon",parent:"river-progress-icon-container",aliases:{"set-river-progress":"set-style"}},{type:"dom-element",element:"div",className:"button-fullscreen",onmouseup:"toggle-fullscreen",ontouchend:"toggle-fullscreen"},{type:"fullscreen"},{type:"entity-linker",linkId:"manager-link"}]},"small-rock":{id:"small-rock",components:[{type:"collision-basic",collisionType:"rock",regX:26,regY:26,shapeType:"circle",radius:26},{type:"render-debug"}],properties:{}},"big-rock":{id:"big-rock",components:[{type:"collision-basic",collisionType:"rock",regX:20,regY:88,shapeType:"circle",radius:54},{type:"render-debug"}],properties:{}},"lilypad-small":{id:"lilypad-small",components:[{type:"collision-basic",collisionType:"rock",regY:60,shapeType:"circle",radius:26},{type:"render-animation",rotate:true,animationMap:{"default":"idle"},spriteSheet:{images:["lilypad-small"],frames:{width:59,height:61,regX:29,regY:30},animations:{idle:{frames:[0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,49,49,49,49,49,49,49,49,49],speed:0.5}}}},{type:"render-debug"}],properties:{}},"lilypad-big":{id:"lilypad-big",components:[{type:"collision-basic",collisionType:"rock",regY:60,shapeType:"circle",radius:26},{type:"render-animation",rotate:true,animationMap:{"default":"idle"},spriteSheet:{images:["lilypad-big"],frames:{width:74,height:72,regX:37,regY:36},animations:{idle:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,33,33],speed:0.5}}}},{type:"render-debug"}],properties:{}},log:{id:"log",components:[{type:"logic-attached-entity",entityType:"caterpillar",offsetX:-4,offsetY:-60,randomizedYRange:40},{type:"logic-water-current",currentY:-0.04},{type:"logic-rebounder",mass:5},{type:"logic-log"},{type:"collision-basic",collisionType:"log",solidCollisions:{tiles:"hit-static",rock:"hit-static",raft:"hit-non-static",log:"hit-non-static",turtle:"hit-non-static"},regX:26,regY:86},{type:"render-animation",rotate:true,animationMap:{"default":"idle"},spriteSheet:{images:["log"],frames:{width:58,height:179,regX:29,regY:89},animations:{idle:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],speed:0.5}}}},{type:"render-debug"}],properties:{width:45,height:108,z:190}},turtle:{id:"turtle",components:[{type:"logic-attached-entity",entityType:"butterfly",offsetX:0,offsetY:0},{type:"logic-water-current",currentY:-0.02},{type:"logic-rebounder",mass:5},{type:"logic-turtle"},{type:"logic-portable"},{type:"collision-basic",collisionType:"turtle",solidCollisions:{tiles:"hit-static",rock:"hit-static",log:"hit-non-static",turtle:"hit-non-static",raft:"hit-non-static"},shapeType:"circle",radius:33},{type:"render-animation",rotate:true,animationMap:{"default":"idle"},spriteSheet:{images:["turtle"],frames:{width:100,height:167,regX:48,regY:60},animations:{idle:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89],speed:0.5}}}},{type:"render-debug"}],properties:{}},"path-node":{id:"path-node",components:[{type:"render-debug"}],properties:{width:4,height:4}},"ready-set-go":{id:"ready-set-go",components:[{type:"logic-ready-set-go"},{type:"render-animation",animationMap:{"get-ready":"ready","get-set":"set","get-go":"go"},spriteSheet:{images:["ready-set-go"],frames:{width:320,height:160,regX:160,regY:160},animations:{ready:{frames:[0],speed:0.5},set:{frames:[1],speed:0.5},go:{frames:[2],speed:0.5}}}},{type:"audio",audioMap:{"audio-ready":{sound:"GS-Ready"},"audio-set":{sound:"GS-Set"},"audio-go":{sound:"GS-Go"}}},{type:"render-debug"}],properties:{z:20000}},"finish-line":{id:"finish-line",components:[{type:"brain-finish-line"},{type:"collision-basic",collisionType:"finish-line",softCollisions:{raft:"hit-raft"}},{type:"render-debug"}],properties:{}},"end-game-interface":{id:"end-game-interface",components:[{type:"logic-end-game-interface"},{type:"dom-element",element:"div",className:"winner-icon",updateClassName:true,aliases:{"set-winner-state":"logical-state","set-icon-style":"set-style"}},{type:"dom-element",element:"div",className:"arrow-button pre-end",innerHTML:"Next",onmousedown:"go-to-options",ontouchstart:"go-to-options",aliases:{"set-arrow-style":"set-style"}},{type:"dom-element",element:"div",className:"end-button play-again",onmousedown:["silence-all-events","new-scene"],ontouchstart:["silence-all-events","new-scene"],updateClassName:true,aliases:{"update-play-again":"logical-state","set-options-style":"set-style"}},{type:"dom-element",element:"a",className:"end-button something-else",href:"http://pbskids.org/dinosaurtrain/games/index.html",updateClassName:true,aliases:{"update-something-else":"logical-state","set-options-style":"set-style"}},{type:"dom-element",element:"div",className:"blind",aliases:{"set-blind-style":"set-style"}},{type:"entity-linker",linkId:"manager-link",events:{"schedule-event":"force-queue","silence-all-events":"silence-events"}},{type:"change-scene",scene:"menu",transition:"fade-to-black"}]},"tutorial-gui-1p":{id:"tutorial-gui-1p",components:[{type:"dom-element",element:"div",className:"arrow-button tutorial",innerHTML:"Play",onmousedown:"hit-skip",ontouchstart:"hit-skip",aliases:{"set-arrow-style":"set-style"}},{type:"entity-linker",linkId:"tutorial-link",events:{"hit-skip":"go-to-game"}}]},"tutorial-gui-2p":{id:"tutorial-gui-2p",components:[{type:"dom-element",element:"div",className:"arrow-button tutorial",innerHTML:"Play",onmousedown:"hit-skip",ontouchstart:"hit-skip",aliases:{"set-arrow-style":"set-style"}},{type:"entity-linker",linkId:"tutorial-link",events:{"hit-skip":"go-to-game"}}]},"voice-over-buddy":{id:"voice-over-buddy",components:[{type:"entity-linker",linkId:"vo-link",events:{"tag-don-2":"play-intro-2","tag-don-4":"play-intro-4"}},{type:"logic-delay-message",events:{load:{event:"buddy-state",delay:1}}},{type:"render-animation",mirror:true,spriteSheet:{images:["vo-buddy-body"],frames:{width:228,height:165,regX:114,regY:165},animations:{"default":{frames:[23]},point:{frames:[22,21,20,19,18,17,16,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],next:"default",speed:0.25}}},pins:[{pinId:"buddy-neck",x:129,y:12}]},{type:"voice-over",messagePrefix:"buddy-says",frameLength:100,pinTo:"buddy-neck",animationMap:{"-":"face-m",A:"face-a",B:"face-m",C:"face-d",D:"face-d",E:"face-a",F:"face-f",G:"face-d",H:"face-a",I:"face-i",J:"face-d",K:"face-d",L:"face-l",M:"face-m",N:"face-i",O:"face-a",P:"face-m",Q:"face-o",R:"face-o",S:"face-i",T:"face-i",U:"face-d",V:"face-i",W:"face-i",X:"face-d",Y:"face-d",Z:"face-i","default":"default"},spriteSheet:{images:["vo-buddy-head"],frames:{width:151,height:139,regX:57,regY:137},animations:{"face-m":0,"face-o":3,"face-i":1,"face-l":1,"face-a":4,"face-f":2,"face-d":2,"default":{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,7,5],speed:0.25}}},voiceoverMap:{"play-intro-1":[{sound:{sound:"Intro-1",events:[{time:10000,event:"tag-don-2"},{time:1300,event:"point"}]},voice:"-WRGNGRAFTNGDNFRIVRTOFNDBUGSFRDANSCXN-"}],"play-intro-3":[{sound:{sound:"Intro-3",events:[{time:10000,event:"tag-don-4"},{time:0,event:"point"}]},voice:"-CLKARTAPFATAPBDNIFYRPLAYNBYRSL-"}]},aliases:{"conversation-started":"audio-stop"}}],properties:{x:280,y:540}},"voice-over-don":{id:"voice-over-don",components:[{type:"entity-linker",linkId:"vo-link",events:{"tag-buddy-1":"play-intro-1","tag-buddy-3":"play-intro-3"}},{type:"logic-delay-message",events:{"scene-live":{event:"play-intro-0",delay:2000}}},{type:"render-animation",mirror:true,spriteSheet:{images:["vo-don-body"],frames:{width:149,height:197,regX:124,regY:197},animations:{"default":{frames:[9]},point:{frames:[10,11,12,13,14,0,1,2,3,4,5,6,7,8,9],next:"default",speed:0.25}}},pins:[{pinId:"don-neck",x:79,y:14}]},{type:"voice-over",messagePrefix:"don-says",frameLength:100,pinTo:"don-neck",animationMap:{"-":"face-m",A:"face-a",B:"face-m",C:"face-d",D:"face-d",E:"face-a",F:"face-f",G:"face-d",H:"face-a",I:"face-i",J:"face-d",K:"face-d",L:"face-l",M:"face-m",N:"face-i",O:"face-o",P:"face-m",Q:"face-o",R:"face-o",S:"face-i",T:"face-i",U:"face-d",V:"face-i",W:"face-i",X:"face-d",Y:"face-d",Z:"face-i","default":"default"},spriteSheet:{images:["vo-don-head"],frames:{width:159,height:155,regX:111,regY:91},animations:{"face-m":0,"face-o":3,"face-i":1,"face-l":1,"face-a":4,"face-f":2,"face-d":2,"default":{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,5],speed:0.25}}},voiceoverMap:{"play-intro-0":[{sound:{sound:"Intro-0",events:[{time:450,event:"point"},{time:10000,event:"tag-buddy-1"}]},voice:"-DAAA---BADINDIARHVGACAMETIN---DOYOWANOHELP-"}],"play-intro-2":[{sound:{sound:"Intro-2",events:[{time:10000,event:"tag-buddy-3"}]},voice:"-ANDHOEVRFINDSDAMASTBAGSWINS-"}],"play-intro-4":[{sound:{sound:"Intro-4",events:[{time:500,event:"point"}]},voice:"-CLIKARTAPFABDMBDNIFYRPLANW-"}]},aliases:{"conversation-started":"audio-stop"}}],properties:{x:860,y:530}},rapid:{id:"rapid",components:[{type:"logic-rapid",current:-0.2},{type:"collision-basic",collisionType:"rapid",softCollisions:{raft:"in-rapids",log:"in-rapids",turtle:"in-rapids"}},{type:"render-animation",rotate:true,animationMap:{"default":"idle"},spriteSheet:{images:["rapid"],frames:{width:81,height:140,regX:40,regY:70},animations:{idle:{frames:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],speed:0.25}}}},{type:"render-debug"}],properties:{z:100,width:80,height:141}},"whirlpool-large":{id:"whirlpool-large",components:[{type:"logic-whirlpool",current:0.4,radius:233,scale:1},{type:"collision-basic",collisionType:"whirlpool",softCollisions:{raft:"in-whirlpool",log:"in-whirlpool",turtle:"in-whirlpool"},shapeType:"circle",radius:190,regY:190,regX:190},{type:"render-image",rotate:true,image:"whirlpool",source:{width:400,height:381},regX:200,regY:190},{type:"render-debug"}],properties:{z:100}},"whirlpool-medium":{id:"whirlpool-medium",components:[{type:"logic-whirlpool",current:0.35,radius:233,scale:0.75},{type:"collision-basic",collisionType:"whirlpool",softCollisions:{raft:"in-whirlpool",log:"in-whirlpool",turtle:"in-whirlpool"},shapeType:"circle",radius:142,regY:142,regX:142},{type:"render-image",rotate:true,image:"whirlpool",source:{width:400,height:381},regX:200,regY:190},{type:"render-debug"}],properties:{z:100}},"whirlpool-small":{id:"whirlpool-small",components:[{type:"logic-whirlpool",current:0.3,radius:233,scale:0.5},{type:"collision-basic",collisionType:"whirlpool",softCollisions:{raft:"in-whirlpool",log:"in-whirlpool",turtle:"in-whirlpool"},shapeType:"circle",radius:95,regY:95,regX:95},{type:"render-image",rotate:true,image:"whirlpool",source:{width:400,height:381},regX:200,regY:190},{type:"render-debug"}],properties:{z:100}},"insect-waypoint":{id:"insect-waypoint",components:[{type:"collision-basic",collisionType:"waypoint",immobile:true},{type:"render-debug"}],properties:{width:16,height:16,pathId:"path-a",id:"a",next:"b"}},"collision-spawner":{id:"collision-spawner",components:[{type:"collision-basic",collisionType:"collision-spawner",immobile:true,softCollisions:{lakitu:"trigger"}},{type:"trigger-once",message:"spawn"},{type:"logic-spawner",passOnProperties:["pathId"]},{type:"render-debug"}],properties:{width:16,height:16}},"event-scheduler":{id:"event-scheduler",components:[{type:"logic-event-scheduler",startingQueue:["bg-music"],ambientEvents:["amb-0","amb-1","amb-2","amb-3","amb-4","amb-0","amb-1","amb-2","amb-3","amb-4"],oneOffEvents:["oneoff-0","oneoff-1","oneoff-2","oneoff-3","oneoff-4","oneoff-5","oneoff-6"]},{type:"audio",audioMap:{"bg-music":{sound:"ambient-bg",loop:-1,volume:0.3},"amb-0":{sound:"ambient-0"},"amb-1":{sound:"ambient-1"},"amb-2":{sound:"ambient-2"},"amb-3":{sound:"ambient-3"},"amb-4":{sound:"ambient-4"},"oneoff-0":{sound:"Fact-Stream"},"oneoff-1":{sound:"Fact-Erosion"},"oneoff-2":{sound:"Fact-Carve"},"oneoff-3":{sound:"Fact-Rapids"},"oneoff-4":{sound:"Fact-Spiracles"},"oneoff-5":{sound:"Fact-Exo"},"oneoff-6":{sound:"Fact-Fly"},"ann-0":{sound:"Fact-Turtle"},"ann-1":{sound:"Misc-Whoa"},"ann-2":{sound:"Misc-Watch"},"ann-3":{sound:"Fact-Whirl"},"ann-4":{sound:"Misc-Rapids"},"ann-5":{sound:"Misc-Look"},"ann-6":{sound:"Fact-Sandbar"},"ann-7":{sound:"Fact-Sandbar-2"},"remember-controls-desktop-1p":[{sound:"Rem-Key-Sin",events:[{time:100,event:"man-show-controls"},{time:6000,event:"man-hide-controls"}]}],"remember-controls-desktop-2p":[{sound:"Rem-Key-Mul",events:[{time:100,event:"man-show-controls"},{time:10000,event:"man-hide-controls"}]}],"remember-controls-mobile":[{sound:"Rem-But-Any",events:[{time:100,event:"man-show-arrows"},{time:2000,event:"man-hide-arrows"}]}],"remember-insects":[{sound:"Rem-Insects"}],"don-wins-1p":[{sound:"End-1p-Win",events:[{time:100,event:"no-more-ambient-events"}]}],"don-wins-2p":[{sound:"End-2p-Don-Won",events:[{time:100,event:"no-more-ambient-events"}]}],"buddy-wins-1p":[{sound:"End-1p-Lose",events:[{time:100,event:"no-more-ambient-events"}]}],"buddy-wins-2p":[{sound:"End-2p-Bud-Won",events:[{time:100,event:"no-more-ambient-events"}]}],"tie-wins":[{sound:"End-Tie",events:[{time:100,event:"no-more-ambient-events"}]}],"post-game":[{sound:"End-Opt",events:[{time:100,event:"highlight-play-again"},{time:2300,event:"unhighlight-play-again"},{time:2500,event:"highlight-something-else"},{time:5500,event:"unhighlight-something-else"}]}]}},{type:"entity-linker",linkId:"tutorial-link",events:{"man-show-arrows":"show-arrows","man-show-controls":"show-controls","man-hide-arrows":"hide-arrows","man-hide-controls":"hide-controls"}},{type:"entity-linker",linkId:"announcement-link"},{type:"entity-linker",linkId:"manager-link",events:{"highlight-play-again":"highlight-play-again-option","unhighlight-play-again":"unhighlight-play-again-option","highlight-something-else":"highlight-something-else-option","unhighlight-something-else":"unhighlight-something-else-option"}}],properties:{alwaysOn:true}},"tutorial-event-scheduler":{id:"tutorial-event-scheduler",components:[{type:"logic-event-scheduler",startingQueue:["bg-music"],ambientEvents:["amb-0","amb-1","amb-2","amb-3","amb-4","amb-0","amb-1","amb-2","amb-3","amb-4"]},{type:"audio",audioMap:{"bg-music":{sound:"ambient-bg",loop:-1,volume:0.3},"amb-0":{sound:"ambient-0"},"amb-1":{sound:"ambient-1"},"amb-2":{sound:"ambient-2"},"amb-3":{sound:"ambient-3"},"amb-4":{sound:"ambient-4"},"remember-controls-desktop-1p":[{sound:"Rem-Key-Sin",events:[{time:100,event:"man-show-controls"},{time:6000,event:"man-hide-controls"}]}],"remember-controls-desktop-2p":[{sound:"Rem-Key-Mul",events:[{time:100,event:"man-show-controls"},{time:10000,event:"man-hide-controls"}]}],"remember-controls-mobile":[{sound:"Rem-But-Any",events:[{time:100,event:"man-show-arrows"},{time:2000,event:"man-hide-arrows"}]}]}},{type:"entity-linker",linkId:"tutorial-link",events:{"man-show-arrows":"show-arrows","man-show-controls":"show-controls","man-hide-arrows":"hide-arrows","man-hide-controls":"hide-controls"}},{type:"entity-linker",linkId:"announcement-link"},{type:"entity-linker",linkId:"manager-link",events:{"highlight-play-again":"highlight-play-again-option","unhighlight-play-again":"unhighlight-play-again-option","highlight-something-else":"highlight-something-else-option","unhighlight-something-else":"unhighlight-something-else-option"}}],properties:{alwaysOn:true}},announcement:{id:"announcement",components:[{type:"collision-basic",collisionType:"announcement",softCollisions:{lakitu:"make-announcement"}},{type:"logic-announcement"}],properties:{}}},scenes:{load:{layers:[{id:"load-layer-mobile",filter:{includes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"load-screen"},{type:"progress-bar-mobile"}],childEvents:["link-entity"]},{type:"gas",config_id:"551f3554-40c3-11e3-a686-1231390b1556",events:{"scene-loaded":"game-loaded-on-mobile"}}]},{id:"load-layer-desktop",filter:{excludes:["mobile"]},components:[{type:"handler-logic"},{type:"handler-render-dom"},{type:"entity-container",entities:[{type:"load-screen"},{type:"progress-bar"}],childEvents:["link-entity"]},{type:"gas",config_id:"551f3554-40c3-11e3-a686-1231390b1556",events:{"scene-loaded":"game-loaded-on-desktop"}}]}],id:"load"},"pre-menu":{layers:[{id:"pre-menu-layer",components:[{type:"handler-logic"},{type:"handler-render-dom",className:"pre-game-button-screen"},{type:"handler-controller"},{type:"entity-container",entities:[{type:"load-screen"},{type:"button-pre-game"}],childEvents:["scene-live"]}]},{id:"enable-ios-audio-layer",filter:{includes:["iOS"]},components:[{type:"enable-ios-audio",audioId:"combined"}]}],id:"pre-menu"},menu:{layers:[{id:"menu-layer",components:[{type:"handler-logic"},{type:"camera",width:1100},{type:"handler-render-dom"},{type:"handler-render-createjs",autoClear:true},{type:"handler-controller"},{type:"entity-container",entities:[{type:"title-screen"},{type:"button-play-game"},{type:"button-play-2p-game"},{type:"voice-over-buddy"},{type:"voice-over-don"},{type:"full-screen-interface"}],childEvents:["link-entity","scene-live"]}]}],id:"menu"},"scene-tutorial-single-player":{layers:[{type:"tutorial-layer",properties:{level:"pond-tutorial",playerCount:1}},{type:"touch-interface-tutorial-1p-layer"},{type:"desktop-interface-tutorial-1p-layer"}],id:"scene-tutorial-single-player"},"scene-tutorial-multi-player":{layers:[{type:"tutorial-layer",properties:{level:"pond-tutorial-multi",playerCount:2}},{type:"touch-interface-tutorial-2p-layer"},{type:"desktop-interface-tutorial-2p-layer"}],id:"scene-tutorial-multi-player"},"scene-single-player":{layers:[{type:"action-layer",properties:{levelPieces:{start:"pond-0",end:"pond-end",filler:["pond-1","pond-2","pond-3","pond-4","pond-5","pond-6","pond-7","pond-8","pond-9","pond-10"]},playerCount:1}},{type:"touch-interface-1p-layer"},{type:"desktop-interface-1p-layer"}],id:"scene-single-player"},"scene-multi-player":{layers:[{type:"action-layer",properties:{levelPieces:{start:"pond-0-multi",end:"pond-end",filler:["pond-1","pond-2","pond-3","pond-4","pond-5","pond-6","pond-7","pond-8","pond-9","pond-10"]},playerCount:2}},{type:"touch-interface-2p-layer"},{type:"desktop-interface-2p-layer"}],id:"scene-multi-player"}},levels:{"pond-0":{height:15,layers:[{data:[63,3221225521,2684354587,112,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612774,2684354623,32,1,3221225498,3221225486,112,3758096472,113,113,113,113,113,113,113,113,1610612823,112,1610612763,1073741873,2147483710,2684354597,112,112,3758096474,113,113,113,113,113,113,113,113,113,113,1610612825,1610612762,19,1073741885,2684354598,112,112,3758096483,113,113,113,113,113,113,113,113,113,113,1610612823,1610612750,2684354561,75,2684354599,112,112,3758096482,113,113,113,113,113,113,113,113,113,113,113,1610612826,1073741837,2147483649,2684354598,112,112,3758096472,113,113,113,113,113,113,113,113,113,113,113,1610612834,112,1610612751,2684354599,112,3758096473,113,113,113,113,113,88,2147483736,113,113,113,113,113,536871001,112,1610612751,2684354598,112,3758096483,113,113,113,113,536870999,112,112,2684354646,113,113,113,86,112,112,1610612751,2684354599,112,3758096482,113,113,113,113,1610612834,112,112,112,2684354647,113,536871000,112,112,112,1610612751,2684354598,112,3758096481,113,113,113,109,536871002,112,112,112,3758096481,113,1610612834,112,112,112,1610612751,1073741825,2147483662,2684354650,113,113,536871000,14,2147483675,2147483674,25,2684354573,2684354650,113,1610612824,112,536870926,26,3221225473,2147483709,1610612738,2684354573,2684354647,113,1610612835,1610612763,43,75,75,1610612738,2684354574,2684354647,113,1610612826,536870927,7,49,1610612798,2684354609,3758096422,2684354657,113,1610612835,1610612762,49,1073741887,2147483697,31,2684354597,2684354657,113,1610612835,1610612774,61,3221225534,44,1610612799,3758096422,2684354658,113,1610612834,1610612773,2147483722,20,1610612798,2147483697,3758096410,2684354658,113,1610612834,1610612774,2684354623,8,32,3758096435,2684354598,2684354659,113,1610612833,1610612761,2684354623,32,32,536870975,2684354599,2684354659,113,1610612833,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,1073741900,2684354641,2684354629,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1073741888,2684354642,2684354630,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1073741876,30,0,536870994,0,0,0,0,0,0,0,0,0,0,82,2684354642,0,0,28,29,0,0,0,0,0,0,54,55,0,0,0,0,0,69,70,3221225548,40,41,0,0,0,0,0,0,66,67,0,0,0,0,0,81,82,3221225536,52,2684354576,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225502,3221225524,64,65,0,0,0,0,0,0,0,0,0,0,0,0,0,1610612752,3221225513,3221225512,76,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225501,3221225500,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,79,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,73,73,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:131,height:0,name:"",properties:{},type:"",visible:true,width:0,x:544,y:704},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:448},{gid:121,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:768},{gid:141,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:146,height:0,name:"",properties:{firstNode:"d",pathId:"l0p0"},type:"",visible:true,width:0,x:704,y:512},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l0p0"},type:"",visible:true,width:0,x:384,y:576},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l0p0"},type:"",visible:true,width:0,x:384,y:256},{gid:146,height:0,name:"",properties:{firstNode:"b",pathId:"l0p0"},type:"",visible:true,width:0,x:384,y:320},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l0p0"},type:"",visible:true,width:0,x:704,y:576},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l0p0"},type:"",visible:true,width:0,x:704,y:320},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l0p1"},type:"",visible:true,width:0,x:832,y:192},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l0p1"},type:"",visible:true,width:0,x:640,y:128},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l0p1"},type:"",visible:true,width:0,x:448,y:128},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l0p1"},type:"",visible:true,width:0,x:256,y:192},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l0p1"},type:"",visible:true,width:0,x:256,y:256},{gid:148,height:0,name:"",properties:{id:"f",next:"g",pathId:"l0p1"},type:"",visible:true,width:0,x:448,y:192},{gid:148,height:0,name:"",properties:{id:"h",next:"a",pathId:"l0p1"},type:"",visible:true,width:0,x:832,y:256},{gid:148,height:0,name:"",properties:{id:"g",next:"h",pathId:"l0p1"},type:"",visible:true,width:0,x:640,y:192},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l0p1",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:576,y:128},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l0p1",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:576,y:384},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:320},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:320}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:384},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:384},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:192}],opacity:1,type:"objectgroup",visible:false,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-0"},"pond-0-multi":{height:15,layers:[{data:[63,3221225521,2684354587,112,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612774,2684354623,32,1,3221225498,3221225486,112,3758096472,113,113,113,113,113,113,113,113,1610612823,112,1610612763,1073741873,2147483710,2684354597,112,112,3758096474,113,113,113,113,113,113,113,113,113,113,1610612825,1610612762,19,1073741885,2684354598,112,112,3758096483,113,113,113,113,113,113,113,113,113,113,1610612823,1610612750,2684354561,75,2684354599,112,112,3758096482,113,113,113,113,113,113,113,113,113,113,113,1610612826,1073741837,2147483649,2684354598,112,112,3758096472,113,113,113,113,113,113,113,113,113,113,113,1610612834,112,1610612751,2684354599,112,3758096473,113,113,113,113,113,88,2147483736,113,113,113,113,113,536871001,112,1610612751,2684354598,112,3758096483,113,113,113,113,536870999,112,112,2684354646,113,113,113,86,112,112,1610612751,2684354599,112,3758096482,113,113,113,113,1610612834,112,112,112,2684354647,113,536871000,112,112,112,1610612751,2684354598,112,3758096481,113,113,113,109,536871002,112,112,112,3758096481,113,1610612834,112,112,112,1610612751,1073741825,2147483662,2684354650,113,113,536871000,14,2147483675,2147483674,25,2684354573,2684354650,113,1610612824,112,536870926,26,3221225473,2147483709,1610612738,2684354573,2684354647,113,1610612835,1610612763,43,75,75,1610612738,2684354574,2684354647,113,1610612826,536870927,7,49,1610612798,2684354609,3758096422,2684354657,113,1610612835,1610612762,49,1073741887,2147483697,31,2684354597,2684354657,113,1610612835,1610612774,61,3221225534,44,1610612799,3758096422,2684354658,113,1610612834,1610612773,2147483722,20,1610612798,2147483697,3758096410,2684354658,113,1610612834,1610612774,2684354623,8,32,3758096435,2684354598,2684354659,113,1610612833,1610612761,2684354623,32,32,536870975,2684354599,2684354659,113,1610612833,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,1073741900,0,69,70,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1073741888,536870994,81,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1073741876,30,0,0,0,0,0,0,0,0,0,0,0,0,69,70,0,0,28,29,0,0,0,0,0,0,54,55,0,0,0,0,81,1610612818,0,3221225548,40,41,0,0,0,0,0,0,66,67,0,0,0,0,0,0,82,3221225536,52,2684354576,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225502,3221225524,64,65,0,0,0,0,0,0,0,0,0,0,0,0,0,1610612752,3221225513,3221225512,76,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225501,3221225500,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,79,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,73,73,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0,0,73,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:131,height:0,name:"",properties:{},type:"",visible:true,width:0,x:544,y:704},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:448},{gid:121,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:768},{gid:122,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l0p0"},type:"",visible:true,width:0,x:640,y:320},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l0p1",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:576,y:384},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l0p1"},type:"",visible:true,width:0,x:640,y:128},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l0p1"},type:"",visible:true,width:0,x:448,y:128},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l0p0"},type:"",visible:true,width:0,x:640,y:512},{gid:148,height:0,name:"",properties:{id:"h",next:"a",pathId:"l0p1"},type:"",visible:true,width:0,x:832,y:256},{gid:146,height:0,name:"",properties:{firstNode:"b",pathId:"l0p0"},type:"",visible:true,width:0,x:384,y:320},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l0p0"},type:"",visible:true,width:0,x:448,y:320},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l0p1"},type:"",visible:true,width:0,x:256,y:256},{gid:148,height:0,name:"",properties:{id:"f",next:"g",pathId:"l0p1"},type:"",visible:true,width:0,x:448,y:192},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l0p0"},type:"",visible:true,width:0,x:448,y:512},{gid:148,height:0,name:"",properties:{id:"g",next:"h",pathId:"l0p1"},type:"",visible:true,width:0,x:640,y:192},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l0p1"},type:"",visible:true,width:0,x:256,y:192},{gid:146,height:0,name:"",properties:{firstNode:"d",pathId:"l0p0"},type:"",visible:true,width:0,x:704,y:512},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l0p1"},type:"",visible:true,width:0,x:832,y:192},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l0p1",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:576,y:128},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:320},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:256}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:384},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:384}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-0-multi"},"pond-1":{height:15,layers:[{data:[32,3758096434,2684354587,112,2684354650,113,113,113,113,113,113,113,113,536871002,13,3221225473,2684354623,32,32,3758096434,2684354598,112,112,2684354648,113,113,113,113,113,88,89,112,1610612774,61,3221225534,32,32,1610612799,1073741826,2147483661,112,2684354658,113,113,113,88,90,112,112,14,3221225474,1610612787,62,63,32,1073741886,2684354609,2684354598,112,2684354659,113,113,536870999,112,112,112,112,1610612774,7,1610612786,74,75,32,32,2684354610,1073741825,2147483662,2684354650,113,113,1610612824,112,112,112,112,1610612774,61,3221225534,1073741886,2684354621,8,44,1073741886,2684354609,2684354598,112,2147483734,113,113,1073741910,112,112,13,3221225473,1610612786,32,32,1073741886,32,32,62,3221225521,2684354598,112,1610612836,113,113,113,1610612825,112,1610612774,49,3221225534,32,32,32,62,63,3758096433,19,2684354598,112,3221225558,113,113,113,1610612835,112,1610612774,1610612787,32,20,32,32,3758096433,75,75,2,3221225486,3758096474,113,113,113,113,1610612834,112,1610612774,1073741885,63,2147483710,2147483668,32,75,75,7,2684354598,112,3758096482,113,113,113,113,1610612823,112,1073741838,2147483650,43,1610612787,62,63,2684354609,19,1,3221225485,112,3758096472,113,113,113,113,113,1610612826,112,1073741838,2147483649,1610612787,1073741886,2147483709,2684354610,75,2684354598,112,3758096473,113,113,113,113,113,113,1610612823,112,112,1610612774,1073741873,2147483710,1073741886,1073741886,2684354609,2684354598,112,3758096482,113,113,113,113,113,113,113,1610612822,112,1073741838,2147483650,1610612787,32,8,2684354610,2684354598,112,3758096481,113,113,113,113,113,113,113,113,1610612825,112,1610612774,1610612786,32,32,3758096435,2684354598,112,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483670,2147483669,0,69,70,0,0,0,0,0,0,0,0,0,0,11,12,536870936,2147483682,2147483681,0,81,82,0,2147483704,0,0,0,0,0,0,0,0,23,24,48,2147483694,2147483693,0,0,0,0,0,0,0,54,55,0,0,0,0,35,36,48,2147483706,2147483705,0,0,0,0,0,0,0,66,67,0,0,0,0,47,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,60,48,3221225530,3221225529,0,0,0,0,0,0,0,0,0,0,0,0,0,71,72,48,3221225518,3221225517,0,0,0,0,0,0,0,0,0,0,0,0,0,83,84,1610612760,3221225506,3221225505,0,0,0,0,0,53,0,0,0,0,0,0,0,0,9,10,3221225494,3221225493,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,22,3221225482,3221225481,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,34,0,0,0,82,0,0,0,0,0,0,56,0,0,0,0,0,45,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:576},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:192},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:320},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:768},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:768},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:576},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:320}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:147,height:0,name:"",properties:{pathId:"l1p3"},type:"",visible:true,width:0,x:512,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l1p1"},type:"",visible:true,width:0,x:640,y:448},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l1p2"},type:"",visible:true,width:0,x:384,y:320},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l1p3"},type:"",visible:true,width:0,x:768,y:64},{gid:146,height:0,name:"",properties:{pathId:"l1p0"},type:"",visible:true,width:0,x:543,y:865},{gid:147,height:0,name:"",properties:{pathId:"l1p1"},type:"",visible:true,width:0,x:576,y:512},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l1p2"},type:"",visible:true,width:0,x:384,y:448},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l1p1"},type:"",visible:true,width:0,x:640,y:640},{gid:147,height:0,name:"",properties:{pathId:"l1p2"},type:"",visible:true,width:0,x:448,y:384},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l1p0"},type:"",visible:true,width:0,x:768,y:896},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l1p3"},type:"",visible:true,width:0,x:320,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l1p0"},type:"",visible:true,width:0,x:320,y:896},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:768},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:128},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l1p4"},type:"",visible:true,width:0,x:832,y:768},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l1p4"},type:"",visible:true,width:0,x:704,y:640},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l1p4"},type:"",visible:true,width:0,x:704,y:320},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l1p4"},type:"",visible:true,width:0,x:832,y:128},{gid:148,height:0,name:"",properties:{id:"e",next:"a",pathId:"l1p4"},type:"",visible:true,width:0,x:896,y:448},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l1p4",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:576,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:768},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:768},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:448}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-1"},"pond-2":{height:15,layers:[{data:[20,3758096434,2684354587,112,2684354650,109,2147483757,109,113,113,113,113,113,1610612823,112,1610612774,2684354623,32,62,3221225533,2684354598,112,112,14,38,2684354574,2147483738,2147483736,113,113,113,113,1610612825,1610612763,1610612787,20,3758096435,1,3221225486,112,13,3221225473,7,1073741825,2147483662,112,2684354647,113,113,113,1610612833,1610612762,1610612786,32,2684354611,2684354598,112,14,3221225473,75,75,75,1073741825,2147483662,2684354657,113,113,113,1610612835,536870938,1610612785,2684354622,3758096433,2684354586,112,1610612774,43,75,75,75,7,3758096411,2684354658,113,113,113,1610612834,1610612774,31,1610612787,75,2684354587,112,1610612774,75,61,50,51,2684354609,2684354598,2684354659,113,113,113,536871002,1610612773,75,1610612786,19,2684354586,112,1610612763,19,3221225546,32,62,3221225533,2684354598,2684354658,113,113,536871000,112,1610612762,75,1610612785,31,2684354598,112,1073741837,2147483649,1610612785,63,3221225533,1,3221225486,2684354650,113,113,536871001,112,536870938,75,75,2684354609,1073741825,2147483661,112,1073741838,2147483649,75,1,3221225485,112,112,2147483738,89,112,112,1610612750,2147483649,75,2684354610,75,2684354598,112,112,1073741837,3221225510,3221225486,112,112,14,26,39,2147483662,112,112,1610612751,19,2684354611,2147483655,1073741825,2147483662,112,3221225562,1073741923,1073741913,112,13,3221225473,2147483655,75,2684354598,112,112,536870938,31,1610612798,2684354609,7,2684354586,3758096473,113,113,113,1610612826,1610612763,61,2147483697,7,2684354599,112,112,536870951,19,20,2684354610,75,2684354598,2684354658,113,113,113,1610612833,1610612773,1073741873,3221225533,1,3221225486,112,14,3221225473,75,32,2684354611,1,3221225485,2684354659,113,113,113,1610612824,1073741837,1073741862,3221225498,3221225485,112,112,536870950,61,51,32,3758096435,2684354598,112,2684354659,113,113,113,113,1073741934,1073741935,1073741933,3221225581,1610612826,112,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,0,0,0,0,0,0,0,0,2147483730,0,0,0,0,0,0,0,21,22,0,0,0,0,2147483727,0,0,0,0,0,0,0,0,0,0,0,33,34,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,0,45,46,0,0,0,0,0,35,2684354619,2147483683,0,0,0,0,0,0,0,0,57,58,0,0,0,0,0,1073741848,60,3221225531,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,84,1610612760,3221225507,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483670,2147483669,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483713,0,0,2147483682,2147483681,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483725,0,0,2147483694,2147483693,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483706,2147483705,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,73,0,73,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,73,0,73,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,73,0,73,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,73,0,73,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,73,0,73,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,73,73,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:152,height:0,name:"",properties:{eventId:"ann-6"},type:"",visible:true,width:0,x:320,y:832},{gid:152,height:0,name:"",properties:{eventId:"ann-7"},type:"",visible:true,width:0,x:384,y:832}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:777,y:696},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:7,y:448},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:249,y:384},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l2p0"},type:"",visible:true,width:0,x:256,y:768},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l2p0"},type:"",visible:true,width:0,x:512,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"a",pathId:"l2p0"},type:"",visible:true,width:0,x:384,y:960},{gid:147,height:0,name:"",properties:{pathId:"l2p0"},type:"",visible:true,width:0,x:384,y:768},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l2p1"},type:"",visible:true,width:0,x:896,y:448},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l2p1"},type:"",visible:true,width:0,x:896,y:192},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l2p1"},type:"",visible:true,width:0,x:640,y:256},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l2p1"},type:"",visible:true,width:0,x:640,y:512},{gid:146,height:0,name:"",properties:{pathId:"l2p1"},type:"",visible:true,width:0,x:896,y:512},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l2p1",spawneeClass:"dragonfly-flying"},type:"",visible:true,width:0,x:768,y:384},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l2p2"},type:"",visible:true,width:0,x:896,y:576},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l2p2"},type:"",visible:true,width:0,x:512,y:576},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l2p2"},type:"",visible:true,width:0,x:512,y:960},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l2p2"},type:"",visible:true,width:0,x:896,y:960},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l2p2",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:896,y:960},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:128}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:832},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:128,y:384},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:541,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:832},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:448}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-2"},"pond-3":{height:15,layers:[{data:[32,3758096434,2684354587,112,2684354650,113,113,113,113,113,113,113,113,1610612834,13,3221225474,2684354623,32,62,3221225533,3758096410,112,112,2147483737,99,2147483735,113,113,113,113,113,1610612835,1610612775,49,3758096446,44,3758096435,7,2684354599,112,13,38,39,2684354574,2684354645,113,113,113,113,536871001,1610612761,3758096447,32,20,3758096434,75,2684354597,112,1610612763,61,2684354609,2684354586,112,2147483737,98,99,89,112,1610612773,1073741885,63,2684354622,2684354610,19,2684354586,112,1610612762,1610612785,3221225533,2684354587,112,112,112,112,112,112,1610612750,2684354561,19,1073741873,2684354611,75,2684354598,112,1610612750,3221225498,3221225497,3221225485,112,112,14,15,2147483663,2147483662,112,1610612774,75,2147483691,1610612799,2147483655,1073741825,2684354573,112,3221225561,3221225571,3221225570,1073741914,112,1610612763,7,2147483691,2684354586,112,536870938,75,75,1073741886,2147483697,19,2684354575,3758096473,113,113,113,113,1610612825,1610612762,19,19,2684354587,112,536870939,43,61,32,1610612799,75,2684354586,2684354658,113,113,113,113,1610612823,1073741838,1073741839,3221225487,3221225485,112,1610612762,75,3221225546,44,2684354610,2,3758096398,2684354650,109,2147483757,109,113,113,1073741934,1073741913,112,112,13,3221225473,75,1610612785,63,3221225521,3758096423,112,112,13,2147483687,2684354574,2684354648,113,113,113,1610612826,13,3221225474,75,19,75,19,75,1610612738,2684354573,112,536870951,19,3758096423,2684354658,113,113,113,1610612835,536870951,75,75,75,61,75,75,75,3758096423,112,536870951,7,3758096423,2684354659,113,113,113,1610612834,536870951,19,75,7,1610612785,51,2684354609,7,3758096423,112,1610612750,1073741863,3221225486,3758096471,113,113,113,536871023,1610612749,2684354562,75,61,3221225535,32,3758096435,1,3221225486,3758096474,3221225581,1073741911,3221225560,113,113,113,113,113,1610612826,1610612750,2684354561,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,65,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,77,0,0,0,0,0,0,0,0,0,2147483730,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,69,70,0,0,35,36,0,0,0,0,0,0,0,0,0,0,0,0,81,82,0,0,1073741871,48,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,48,2147483670,2147483669,0,0,0,0,0,0,0,0,0,0,0,0,0,0,71,72,2147483682,2147483681,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,84,2147483694,2147483693,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483706,2147483705,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,78,0,0,0,0,0,0,0,0,78,0,0,0,0,0,0,0,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,73,73,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,73,73,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,73,73,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,73,73,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:320},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:512},{gid:151,height:0,name:"",properties:{offsetY:"400",spawneeClass:"log"},type:"",visible:true,width:0,x:576,y:768},{gid:152,height:0,name:"",properties:{eventId:"ann-6"},type:"",visible:true,width:0,x:768,y:832},{gid:152,height:0,name:"",properties:{eventId:"ann-7"},type:"",visible:true,width:0,x:704,y:832}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:760},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:128},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:192},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l3p0"},type:"",visible:true,width:0,x:256,y:960},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l3p0"},type:"",visible:true,width:0,x:384,y:960},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l3p0"},type:"",visible:true,width:0,x:576,y:896},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l3p0"},type:"",visible:true,width:0,x:576,y:640},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l3p0"},type:"",visible:true,width:0,x:384,y:640},{gid:148,height:0,name:"",properties:{id:"f",next:"a",pathId:"l3p0"},type:"",visible:true,width:0,x:256,y:704},{gid:151,height:0,name:"",properties:{offsetX:"-600",pathId:"l3p0",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:512,y:960},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l3p1"},type:"",visible:true,width:0,x:768,y:512},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l3p1"},type:"",visible:true,width:0,x:1024,y:512},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l3p2"},type:"",visible:true,width:0,x:64,y:320},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l3p2"},type:"",visible:true,width:0,x:320,y:320},{gid:145,height:0,name:"",properties:{pathId:"l3p1"},type:"",visible:true,width:0,x:960,y:512},{gid:145,height:0,name:"",properties:{pathId:"l3p2"},type:"",visible:true,width:0,x:128,y:320},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:693,y:519},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l3p3"},type:"",visible:true,width:0,x:256,y:576},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l3p3"},type:"",visible:true,width:0,x:576,y:448},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l3p3"},type:"",visible:true,width:0,x:256,y:448},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l3p3"},type:"",visible:true,width:0,x:576,y:576},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l3p3",spawneeClass:"dragonfly-flying"},type:"",visible:true,width:0,x:256,y:384},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l3p4"},type:"",visible:true,width:0,x:704,y:320},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l3p4"},type:"",visible:true,width:0,x:448,y:320},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l3p4"},type:"",visible:true,width:0,x:448,y:64},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l3p4"},type:"",visible:true,width:0,x:704,y:64},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l3p4",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:576,y:192}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:256},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:768},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:256},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:256},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:768},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:128}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-3"},"pond-4":{height:15,layers:[{data:[20,3758096434,1073741825,2147483661,2684354650,109,113,113,113,113,113,113,113,1610612846,112,1610612774,2684354623,20,32,74,43,1073741826,38,2147483662,2684354670,113,113,113,113,113,113,113,1610612825,536870949,1610612797,63,8,1073741886,51,2147483697,7,3758096411,2684354658,113,113,113,113,113,113,113,1610612835,1610612763,75,7,32,44,62,3221225533,75,3758096410,2684354659,113,113,113,113,113,113,113,2684354662,1610612762,31,49,20,62,3221225533,75,1,3221225486,3758096471,113,113,113,113,113,113,536871021,112,1610612774,7,1610612787,32,2684354610,19,2,3221225486,3221225558,113,113,113,113,113,113,113,1610612845,112,1610612775,75,1610612786,8,2684354611,1,3221225485,3758096473,113,113,113,113,113,113,113,113,113,1610612825,1610612761,61,3221225534,62,3221225533,2684354597,112,2684354649,113,113,113,113,113,113,113,113,113,536871001,1610612773,1610612787,20,74,2,3221225486,112,112,2684354647,113,113,113,113,113,113,113,85,14,3221225474,1610612786,32,2684354611,2684354586,112,112,112,2684354658,113,113,113,113,113,113,86,13,3221225473,49,3221225534,32,3221225521,2684354598,112,112,112,2684354659,113,113,113,113,113,1610612847,14,3221225474,19,3221225546,32,32,43,2684354599,112,112,112,3758096472,113,113,113,113,113,1610612834,1610612763,43,75,1610612797,2684354622,32,19,1610612737,2684354574,112,3758096474,113,113,113,113,113,113,1610612833,1610612762,75,19,7,2684354623,32,3221225535,2684354609,3758096410,112,2684354659,113,113,113,113,113,113,1610612846,1073741838,1073741850,2147483649,75,3221225546,32,32,3758096435,2684354598,112,2684354659,113,113,113,113,113,113,113,3221225581,1610612825,1073741837,2147483650,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,2147483726,0,0,0,0,0,0,0,0,0,2147483730,0,0,0,3221225556,3221225555,0,0,0,0,0,0,54,55,0,0,0,69,70,0,0,0,3221225544,3221225543,0,0,0,0,0,0,66,67,0,0,0,81,82,0,0,0,3221225532,3221225531,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,0,3221225520,3221225519,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225508,3221225507,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,3221225496,3221225495,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225484,3221225483,0,0,0,0,0,0,0,0,0,0,0,0,79,0,11,12,0,0,2147483718,2147483717,0,0,0,0,0,0,0,0,0,0,0,0,23,24,0,0,2147483730,2147483729,0,0,0,0,0,0,0,0,0,0,0,0,35,36,0,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,47,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,59,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,71,72,0,0,0,0,0,0,0,0,53,0,0,0,0,0,0,0,83,84,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:142,height:0,name:"",properties:{},type:"",visible:true,width:0,x:545,y:511},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:704},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:896},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:256},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:192},{gid:152,height:0,name:"",properties:{eventId:"ann-1"},type:"",visible:true,width:0,x:512,y:768},{gid:152,height:0,name:"",properties:{eventId:"ann-3"},type:"",visible:true,width:0,x:576,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:825,y:839},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:576},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:64},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:192},{gid:146,height:0,name:"",properties:{pathId:"l4p0"},type:"",visible:true,width:0,x:512,y:576},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l4p0"},type:"",visible:true,width:0,x:384,y:640},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l4p0"},type:"",visible:true,width:0,x:384,y:384},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l4p0"},type:"",visible:true,width:0,x:704,y:640},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l4p0"},type:"",visible:true,width:0,x:704,y:384},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:263,y:187},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l4p0",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:576,y:576},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l4p1"},type:"",visible:true,width:0,x:384,y:256},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l4p1"},type:"",visible:true,width:0,x:640,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l4p1"},type:"",visible:true,width:0,x:384,y:64},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l4p1"},type:"",visible:true,width:0,x:640,y:256},{gid:147,height:0,name:"",properties:{pathId:"l4p1"},type:"",visible:true,width:0,x:576,y:256},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l4p2"},type:"",visible:true,width:0,x:320,y:960},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l4p2"},type:"",visible:true,width:0,x:640,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l4p2"},type:"",visible:true,width:0,x:384,y:768},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l4p2"},type:"",visible:true,width:0,x:704,y:960},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l4p2",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:640,y:896},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l4p2",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:704,y:704},{gid:151,height:0,name:"",properties:{offsetX:"-600",pathId:"l4p1",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:512,y:192}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:128,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:704}],opacity:1,type:"objectgroup",visible:false,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-4"},"pond-5":{height:15,layers:[{data:[32,3758096434,1610612737,2684354573,2684354649,113,113,113,113,113,113,113,113,1610612835,112,1610612774,2684354623,32,32,1610612798,2684354621,1610612738,2684354573,2684354648,113,113,113,113,113,113,113,1610612823,112,1610612763,1073741873,63,32,2147483656,1610612798,2684354621,2684354585,2684354657,113,113,113,113,113,113,113,113,1610612826,1610612774,75,75,8,32,62,3221225521,2684354597,2684354658,113,113,113,113,113,113,113,113,536871001,1610612763,49,50,32,44,2684354610,2147483691,2684354598,2684354659,113,113,113,113,113,113,113,1610612845,13,3221225474,3758096447,32,20,8,2684354611,1,3221225486,3758096472,113,113,113,113,113,110,98,89,1610612762,49,3758096446,32,62,3221225523,3221225521,2684354586,3758096473,113,113,113,113,110,89,112,14,15,3221225473,1610612786,32,8,2684354610,7,1,3221225486,2684354658,113,113,113,1610612845,112,112,112,1610612774,19,61,3221225534,20,32,2684354611,19,2684354585,112,2684354659,113,113,113,113,1610612822,112,112,1610612749,2684354561,1073741873,2147483711,2147483710,2147483668,3221225521,2147483679,2684354599,112,3758096494,113,113,113,113,113,1073741912,1073741914,112,1610612750,2684354562,75,1073741873,2147483710,75,75,2684354587,3758096473,113,113,113,113,113,113,113,113,1073741912,1073741913,1610612749,2684354561,31,1073741885,3221225535,2684354609,2684354585,2684354658,113,113,113,113,113,113,113,113,113,113,1610612826,1610612774,43,75,20,2684354610,2684354597,2684354659,113,113,113,113,113,113,113,113,113,113,536871002,1610612762,75,61,32,2684354611,2684354598,2684354649,113,113,113,113,113,113,113,113,113,536871000,112,1610612773,49,3758096446,2147483692,3758096435,2684354598,112,2684354670,113,113,113,113,113,113,113,113,1610612835,112,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[2147483660,0,0,0,2684354642,0,0,0,0,0,0,0,0,0,79,0,0,0,2147483672,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483684,2147483683,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,2147483695,0,0,0,0,0,0,0,0,0,56,0,0,0,0,0,0,60,2147483707,0,0,0,0,0,53,0,0,0,0,0,0,0,0,0,0,2147483720,2147483719,0,0,0,0,0,0,0,0,0,0,0,78,0,0,1073741881,1073741882,2147483732,0,0,0,79,0,0,0,0,0,0,1610612818,0,0,0,0,1073741869,1073741870,0,0,0,0,0,0,0,0,0,3221225554,0,0,0,0,0,0,1073741857,1073741858,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,1073741845,1073741846,0,0,0,0,0,0,0,0,0,0,0,0,3758096466,3758096454,0,0,1073741833,1073741834,0,0,0,0,0,0,0,0,0,0,0,0,3758096465,3758096453,0,0,0,9,3221225481,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,53,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,0,0,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:163,y:795},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:341,y:788},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:424,y:840},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:605,y:825},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:683,y:893},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:853,y:904},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:281,y:369},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:369,y:291},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:540,y:279},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:619,y:240},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:815,y:213},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:768},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:832},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:896},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:320},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:256},{gid:152,height:0,name:"",properties:{eventId:"ann-4"},type:"",visible:true,width:0,x:512,y:960},{gid:152,height:0,name:"",properties:{eventId:"ann-4"},type:"",visible:true,width:0,x:512,y:448}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l5p0"},type:"",visible:true,width:0,x:0,y:768},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l5p0"},type:"",visible:true,width:0,x:256,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l5p0"},type:"",visible:true,width:0,x:512,y:832},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l5p0"},type:"",visible:true,width:0,x:768,y:896},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l5p0"},type:"",visible:true,width:0,x:1088,y:896},{gid:148,height:0,name:"",properties:{id:"f",next:"g",pathId:"l5p0"},type:"",visible:true,width:0,x:1088,y:832},{gid:148,height:0,name:"",properties:{id:"g",next:"h",pathId:"l5p0"},type:"",visible:true,width:0,x:768,y:832},{gid:148,height:0,name:"",properties:{id:"h",next:"i",pathId:"l5p0"},type:"",visible:true,width:0,x:512,y:768},{gid:148,height:0,name:"",properties:{id:"i",next:"j",pathId:"l5p0"},type:"",visible:true,width:0,x:256,y:704},{gid:148,height:0,name:"",properties:{id:"j",next:"a",pathId:"l5p0"},type:"",visible:true,width:0,x:0,y:704},{gid:146,height:0,name:"",properties:{pathId:"l5p0"},type:"",visible:true,width:0,x:0,y:832},{gid:146,height:0,name:"",properties:{firstNode:"f",pathId:"l5p0"},type:"",visible:true,width:0,x:1088,y:768},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l5p1"},type:"",visible:true,width:0,x:448,y:320},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l5p1"},type:"",visible:true,width:0,x:128,y:320},{gid:148,height:0,name:"",properties:{id:"h",next:"a",pathId:"l5p1"},type:"",visible:true,width:0,x:128,y:256},{gid:148,height:0,name:"",properties:{id:"g",next:"h",pathId:"l5p1"},type:"",visible:true,width:0,x:448,y:256},{gid:148,height:0,name:"",properties:{id:"f",next:"g",pathId:"l5p1"},type:"",visible:true,width:0,x:704,y:192},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l5p1"},type:"",visible:true,width:0,x:704,y:256},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l5p1"},type:"",visible:true,width:0,x:1088,y:192},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l5p1"},type:"",visible:true,width:0,x:1088,y:256},{gid:145,height:0,name:"",properties:{pathId:"l5p1"},type:"",visible:true,width:0,x:192,y:320},{gid:145,height:0,name:"",properties:{firstNode:"f",pathId:"l5p1"},type:"",visible:true,width:0,x:768,y:192},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:827,y:512},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:69,y:576},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:64},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l5p2"},type:"",visible:true,width:0,x:384,y:640},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l5p2"},type:"",visible:true,width:0,x:640,y:448},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l5p2"},type:"",visible:true,width:0,x:704,y:640},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l5p2"},type:"",visible:true,width:0,x:320,y:448},{gid:151,height:0,name:"",properties:{offsetX:"-600",pathId:"l5p2",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:512,y:576},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l5p2",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:576,y:704}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:640}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-5"},"pond-6":{height:15,layers:[{data:[32,3758096434,2684354587,112,2684354649,113,113,113,113,113,113,113,113,1610612824,112,1610612774,2684354623,2147483692,20,3758096435,2684354585,112,112,2147483738,2147483736,113,113,113,113,113,113,113,2684354661,1610612763,3221225546,2147483656,32,3758096434,2684354598,13,26,2147483663,2147483662,2684354648,113,113,113,113,113,113,2684354662,1610612775,2147483722,32,62,3758096433,2684354599,1610612775,49,2684354621,3758096411,2684354650,113,113,113,113,113,536871000,112,1610612774,1610612787,8,3758096435,19,2684354585,1610612774,1610612785,3221225533,3758096410,112,2147483738,99,2147483735,113,113,1610612835,14,3221225473,1610612786,32,3758096434,75,2684354597,1073741838,1073741839,3221225487,3221225485,14,15,15,2684354574,2684354647,113,536871001,1610612763,49,3221225534,44,3758096433,75,2684354587,112,3221225561,1073741914,112,1610612751,61,2684354621,3758096411,2684354657,536870999,112,1610612773,1610612787,20,32,19,2147483679,2684354598,3758096474,113,113,1610612825,536870938,1610612785,3221225533,3758096410,2684354658,1610612835,112,1610612761,1610612786,2147483656,32,2684354609,75,2684354599,2684354658,113,113,536871011,536870939,19,43,2684354575,2684354659,536871023,112,1610612775,1073741885,2684354634,2684354622,2684354610,7,2684354587,2684354649,113,113,1610612823,1073741837,1073741850,3221225487,3221225485,3758096472,113,1610612826,1610612774,19,2684354635,2684354623,2684354611,7,1073741826,2147483662,2684354648,113,113,1073741911,3221225571,3221225570,3221225559,113,113,1610612835,1610612761,75,31,1073741873,2684354610,43,2147483679,2684354585,2684354658,113,113,113,113,113,113,113,113,1610612834,1073741837,2147483649,75,7,2684354611,7,2147483691,2684354597,2684354659,113,113,113,113,113,113,113,113,536871010,112,1610612775,75,19,1073741886,2147483697,75,2684354587,2684354657,113,113,113,113,113,113,113,113,536871011,112,1610612774,49,50,2147483668,3758096435,1,3221225486,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612761,536870963,20],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,2147483726,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,0,0,0,54,55,3758096466,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483718,2147483717,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483730,2147483729,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,34,0,0,0,79,0,0,0,0,0,0,0,0,0,0,0,0,45,46,3221225556,3221225555,0,0,0,0,2147483726,0,0,0,0,0,0,0,0,0,57,58,3221225544,3221225543,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483696,2147483695,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483708,2147483707,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0,2147483720,2147483719,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483732,2147483731,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,73,73,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,73,73,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,73,73,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,73,73,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,73,73,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:411,y:437},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:163,y:449},{gid:136,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:320},{gid:153,height:0,name:"",properties:{},type:"",visible:true,width:0,x:545,y:833},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:192},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:128},{gid:152,height:0,name:"",properties:{eventId:"ann-2"},type:"",visible:true,width:0,x:576,y:960},{gid:152,height:0,name:"",properties:{eventId:"ann-6"},type:"",visible:true,width:0,x:512,y:704},{gid:152,height:0,name:"",properties:{eventId:"ann-0"},type:"",visible:true,width:0,x:768,y:640}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l6p7"},type:"",visible:true,width:0,x:576,y:576},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l6p7"},type:"",visible:true,width:0,x:960,y:576},{gid:146,height:0,name:"",properties:{pathId:"l6p7"},type:"",visible:true,width:0,x:768,y:576},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l6p0"},type:"",visible:true,width:0,x:64,y:448},{gid:146,height:0,name:"",properties:{pathId:"l6p0"},type:"",visible:true,width:0,x:256,y:448},{gid:148,height:0,name:"",properties:{id:"b",next:"a",pathId:"l6p0"},type:"",visible:true,width:0,x:512,y:448},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:131,y:765},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:957,y:708},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l6p1"},type:"",visible:true,width:0,x:640,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l6p1"},type:"",visible:true,width:0,x:960,y:64},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l6p1"},type:"",visible:true,width:0,x:960,y:256},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l6p1"},type:"",visible:true,width:0,x:640,y:256},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:128},{gid:145,height:0,name:"",properties:{pathId:"l6p1"},type:"",visible:true,width:0,x:576,y:64},{gid:145,height:0,name:"",properties:{pathId:"l6p2"},type:"",visible:true,width:0,x:384,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l6p2"},type:"",visible:true,width:0,x:704,y:896},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l6p2"},type:"",visible:true,width:0,x:384,y:768},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l6p2"},type:"",visible:true,width:0,x:384,y:896},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l6p2"},type:"",visible:true,width:0,x:704,y:768},{gid:145,height:0,name:"",properties:{pathId:"l6p2"},type:"",visible:true,width:0,x:192,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:64},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:64},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:157,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:704}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-6"},"pond-7":{height:15,layers:[{data:[32,3758096434,2684354587,112,2684354659,113,113,87,2147483747,2147483746,2147483735,113,113,1610612835,112,1610612774,2684354623,32,8,3758096435,2684354586,112,2684354657,113,536870999,14,26,27,2147483661,2684354647,113,1610612835,112,536870938,1073741873,1073741874,20,3758096434,2684354587,112,2684354658,113,1610612834,536870938,43,7,2684354598,2684354658,113,1610612834,112,1610612775,7,19,62,3758096433,2684354599,112,2684354659,113,1610612833,536870951,19,1,3221225485,3758096471,113,1610612833,112,1610612774,75,49,3758096435,31,2684354597,112,2684354649,113,1610612823,1073741837,3221225499,3221225486,3221225558,113,113,1610612835,13,3221225473,75,1610612787,3758096434,75,2684354598,112,112,2684354647,113,1073741911,3221225570,3221225559,113,113,113,536871001,1610612775,31,75,1610612786,3758096433,75,1073741826,2147483662,112,2684354657,113,113,113,113,113,113,536871000,112,1610612774,75,19,1073741885,7,75,75,2684354597,112,2684354649,113,113,113,113,113,113,1610612835,14,3221225474,19,2147483691,7,75,49,2147483709,2684354586,112,112,2684354647,113,113,113,113,113,1610612834,1610612763,75,49,50,51,31,1073741885,3221225521,2684354599,112,112,2684354659,113,113,113,113,113,1610612835,1610612762,75,1610612787,32,32,2684354621,7,75,2684354585,112,112,3758096471,113,113,113,113,113,1610612834,1610612773,2147483691,1610612786,32,32,1610612798,2684354609,75,2684354599,112,3758096474,113,113,113,113,113,113,1610612824,1073741838,2147483650,1073741885,2684354622,32,32,2684354610,2147483691,2684354587,112,3758096471,113,113,113,113,113,113,113,1610612825,1610612774,19,1610612787,32,32,2684354611,1,3221225486,3758096473,113,113,113,113,113,113,113,113,1610612834,1073741837,2147483649,1610612786,32,32,3758096435,3758096422,112,2684354659,113,113,113,113,113,113,113,113,1610612833,112,1610612774,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,2684354642,0,0,0,0,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,54,55,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483718,2147483717,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483730,2147483729,0,2147483704,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,0,0,0,0,3221225554,0,0,0,0,0,0,0,0,0,0,0,21,22,2147483683,0,0,0,0,0,0,0,53,0,0,0,0,0,0,0,33,34,2147483695,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,45,46,2147483707,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,58,2147483719,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,78,0,2147483701,0,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483726,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,73,73,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,73,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:448},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:320},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:320},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:788,y:898},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:320},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:448},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:640},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:896},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:896},{gid:151,height:0,name:"",properties:{offsetY:"400",spawneeClass:"log"},type:"",visible:true,width:0,x:768,y:640},{gid:151,height:0,name:"",properties:{offsetY:"400",spawneeClass:"log"},type:"",visible:true,width:0,x:448,y:576},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:896},{gid:152,height:0,name:"",properties:{eventId:"ann-5"},type:"",visible:true,width:0,x:384,y:576}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:261},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:64},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:1017,y:256},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l7p0"},type:"",visible:true,width:0,x:64,y:832},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l7p0"},type:"",visible:true,width:0,x:384,y:640},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l7p0"},type:"",visible:true,width:0,x:384,y:832},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l7p0"},type:"",visible:true,width:0,x:64,y:640},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l7p1"},type:"",visible:true,width:0,x:960,y:576},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l7p1"},type:"",visible:true,width:0,x:576,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l7p1"},type:"",visible:true,width:0,x:576,y:576},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l7p1"},type:"",visible:true,width:0,x:960,y:768},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:896},{gid:126,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:448},{gid:151,height:0,name:"",properties:{offsetX:"-600",pathId:"l7p0",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:512,y:896},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l7p1",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:576,y:704},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l7p2"},type:"",visible:true,width:0,x:128,y:320},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l7p2"},type:"",visible:true,width:0,x:448,y:320},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l7p2"},type:"",visible:true,width:0,x:448,y:256},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l7p2"},type:"",visible:true,width:0,x:128,y:256},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l7p3"},type:"",visible:true,width:0,x:704,y:320},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l7p3"},type:"",visible:true,width:0,x:896,y:128},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l7p3"},type:"",visible:true,width:0,x:704,y:192},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l7p3"},type:"",visible:true,width:0,x:896,y:256},{gid:147,height:0,name:"",properties:{pathId:"l7p2"},type:"",visible:true,width:0,x:64,y:320},{gid:147,height:0,name:"",properties:{pathId:"l7p3"},type:"",visible:true,width:0,x:960,y:128},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:131,y:509},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:956,y:835}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:192,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:128},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:704}],opacity:1,type:"objectgroup",visible:false,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-7"},"pond-8":{height:15,layers:[{data:[3221225522,3221225521,2684354587,112,2684354659,113,87,99,2147483736,113,113,113,113,1610612835,112,1610612761,1073741873,1073741874,19,19,2684354585,112,2684354657,536870999,14,26,2684354574,2684354648,113,113,113,1610612835,112,1610612750,2147483649,7,2684354609,7,1073741826,2684354573,2684354658,1610612835,1610612761,31,2684354575,2684354649,113,113,113,1610612834,112,112,1610612762,61,2684354610,75,75,2684354587,2684354659,1610612834,1610612762,7,1610612737,2684354573,2684354647,113,113,1610612823,112,112,536870939,2684354623,1610612798,2147483698,2147483697,2684354586,3758096483,1610612833,1610612775,49,2147483709,2684354599,2684354657,113,113,113,1610612825,112,1610612773,2684354623,32,32,2684354611,2684354598,3758096482,1610612833,1610612774,1073741885,3221225521,2684354586,2684354658,113,113,113,1610612835,112,1610612762,1610612787,3221225523,3221225522,3221225521,2684354599,3758096481,1610612823,1610612749,3221225499,3221225497,3221225486,2684354659,113,113,113,1610612834,112,1610612773,1610612786,19,75,1,3221225486,3758096471,113,1610612825,112,112,112,2684354659,113,113,113,1610612833,13,3221225474,1610612785,75,2147483691,2684354597,3758096474,113,113,1610612823,112,112,112,2684354650,113,113,113,536871009,1610612775,19,43,2684354609,75,2684354586,3758096483,113,113,113,1610612826,13,26,2684354574,2684354647,113,113,536871010,1610612774,75,19,2684354610,19,2684354599,3758096482,113,113,113,1610612835,1610612775,31,2684354597,2684354657,113,113,536871011,1610612762,19,49,2684354611,75,2684354587,3758096481,113,113,113,1610612834,1610612774,43,2684354586,2684354658,113,113,536871001,536870939,75,3758096447,1610612798,2684354621,2684354598,2684354650,113,113,113,1610612833,1610612763,7,2684354599,2684354659,113,536870999,112,1610612774,49,3758096446,8,2684354610,2684354586,112,2684354647,113,113,1610612824,1610612750,3221225499,3221225485,3758096472,113,1610612834,112,1610612761,2684354623,32,32,3758096435,2684354598,112,2684354659,113,113,113,1073741911,3221225570,3221225559,113,113,1610612835,112,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[3221225543,0,0,0,0,0,0,0,0,0,0,0,0,0,1610612814,0,0,0,3221225531,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225519,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2684354638,0,0,3221225507,0,0,0,0,0,0,0,0,0,0,0,0,0,53,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225554,56,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,2684354641,2684354629,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2684354642,2684354630,0,0,0,0,0,0,3221225529,0,0,0,0,0,3221225554,0,0,0,0,0,0,0,0,0,0,0,3221225517,0,0,78,0,0,69,70,0,0,0,0,0,0,0,0,0,0,3221225505,0,0,0,0,0,81,82,0,0,0,0,0,0,0,0,0,0,3221225493,0,0,0,0,0,0,0,0,0,0,2684354642,0,0,0,0,0,0,3221225481,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,78,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,73,73,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,73,73,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:136,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:128},{gid:136,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:448},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:256},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:320},{gid:152,height:0,name:"",properties:{eventId:"ann-0"},type:"",visible:true,width:0,x:832,y:768},{gid:152,height:0,name:"",properties:{eventId:"ann-0"},type:"",visible:true,width:0,x:256,y:448}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:188},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:448},{gid:146,height:0,name:"",properties:{pathId:"l8p0"},type:"",visible:true,width:0,x:1024,y:192},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l8p0"},type:"",visible:true,width:0,x:960,y:192},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l8p0"},type:"",visible:true,width:0,x:832,y:320},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l8p0"},type:"",visible:true,width:0,x:960,y:320},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l8p0"},type:"",visible:true,width:0,x:832,y:192},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:576},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l8p1"},type:"",visible:true,width:0,x:704,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l8p1"},type:"",visible:true,width:0,x:448,y:960},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l8p1"},type:"",visible:true,width:0,x:704,y:960},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l8p1"},type:"",visible:true,width:0,x:448,y:768},{gid:145,height:0,name:"",properties:{firstNode:"c",pathId:"l8p1"},type:"",visible:true,width:0,x:448,y:832},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l8p2"},type:"",visible:true,width:0,x:0,y:384},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l8p2"},type:"",visible:true,width:0,x:192,y:640},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l8p2"},type:"",visible:true,width:0,x:192,y:192},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l8p2"},type:"",visible:true,width:0,x:384,y:384},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l8p3"},type:"",visible:true,width:0,x:896,y:896},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l8p3"},type:"",visible:true,width:0,x:1088,y:704},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l8p3"},type:"",visible:true,width:0,x:768,y:704},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l8p3"},type:"",visible:true,width:0,x:896,y:512},{gid:151,height:0,name:"",properties:{offsetX:"-600",pathId:"l8p2",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:512,y:512},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l8p3",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:576,y:704},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l8p4"},type:"",visible:true,width:0,x:192,y:960},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l8p4"},type:"",visible:true,width:0,x:384,y:960},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l8p4"},type:"",visible:true,width:0,x:192,y:704},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l8p4"},type:"",visible:true,width:0,x:384,y:704},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l8p4",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:256,y:832},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:1017,y:704},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:69,y:768},{gid:145,height:0,name:"",properties:{firstNode:"c",pathId:"l8p1"},type:"",visible:true,width:0,x:448,y:896}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:384},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:384},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:576},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:704}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-8"},"pond-9":{height:15,layers:[{data:[32,3758096434,2684354587,112,2684354659,113,113,113,113,113,113,113,113,1610612823,112,1610612774,1073741885,2684354622,2147483668,1610612799,2684354597,112,2684354649,113,113,113,113,113,113,113,113,113,1610612821,1610612749,2684354562,2684354623,1073741875,3221225521,2684354586,112,112,2684354648,113,113,113,113,113,113,113,113,113,1610612825,1610612751,1610612785,2147483691,19,2684354599,112,112,2684354658,113,113,113,113,113,113,113,113,113,1610612835,1610612750,2684354562,2147483679,2,3221225485,112,112,3758096471,113,113,113,87,99,2147483735,113,113,113,1610612834,112,1610612763,19,2684354597,112,112,3221225558,113,113,113,86,14,38,2684354574,2684354648,113,113,1610612833,112,1610612762,75,3758096410,112,3758096473,113,113,113,536870999,14,3221225474,2147483655,2684354599,2684354657,113,113,536871002,112,1610612761,2147483667,2684354598,112,2684354658,113,113,113,1610612835,1610612763,75,19,2684354585,2684354658,113,1610612845,112,112,1610612775,2147483679,2684354587,112,2684354659,113,113,113,1610612834,1610612762,19,43,2684354586,2684354659,113,113,1610612826,112,1610612774,2684354609,2684354587,112,2684354649,113,113,113,1610612833,1610612750,3221225499,3221225498,3221225485,3758096472,113,113,1610612835,112,1610612773,2684354610,1610612737,2684354574,112,2684354646,113,113,1610612823,112,112,112,3221225557,113,113,113,1610612834,13,3221225474,2684354611,7,2684354575,112,112,2684354647,113,113,1073741912,1073741922,3221225559,113,113,113,113,536871002,1610612763,43,2684354610,75,2684354599,112,112,2684354659,113,113,113,113,113,113,113,113,85,536870926,3221225473,49,1610612798,2684354621,2684354587,112,112,3758096472,113,113,113,113,113,113,113,536871000,112,536870927,49,3758096446,32,2684354611,2684354598,112,3758096473,113,113,113,113,113,113,113,113,1610612835,112,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2684354576,2147483726,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2684354613,0,3221225514,3221225513,3221225512,0,0,0,0,0,0,0,0,3221225554,0,0,0,0,0,0,3221225502,3221225501,3221225500,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,2147483700,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483712,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483704,0,0,2147483724,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225529,0,0,0,0,0,2684354641,2684354629,0,0,0,0,0,0,0,0,0,0,3221225517,0,0,2684354576,0,0,2684354642,2684354630,0,0,0,0,0,0,0,1610612752,0,0,3221225505,0,0,536870990,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225493,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:143,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:512},{gid:153,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:832},{gid:153,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:192},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:640},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:320},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:256},{gid:144,height:0,name:"",properties:{},type:"",visible:true,width:0,x:960,y:704},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:320},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:640},{gid:152,height:0,name:"",properties:{eventId:"ann-3"},type:"",visible:true,width:0,x:704,y:960},{gid:152,height:0,name:"",properties:{eventId:"ann-2"},type:"",visible:true,width:0,x:320,y:832},{gid:152,height:0,name:"",properties:{eventId:"ann-5"},type:"",visible:true,width:0,x:896,y:832},{gid:152,height:0,name:"",properties:{eventId:"ann-4"},type:"",visible:true,width:0,x:832,y:576},{gid:152,height:0,name:"",properties:{eventId:"ann-1"},type:"",visible:true,width:0,x:256,y:832}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:573,y:509},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:69,y:831},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:69,y:260},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:320},{gid:124,height:0,name:"",properties:{},type:"",visible:true,width:0,x:1024,y:512},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:768},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l9p0"},type:"",visible:true,width:0,x:832,y:896},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l9p0"},type:"",visible:true,width:0,x:576,y:896},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l9p0"},type:"",visible:true,width:0,x:832,y:768},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l9p0"},type:"",visible:true,width:0,x:576,y:768},{gid:145,height:0,name:"",properties:{pathId:"l9p0"},type:"",visible:true,width:0,x:1088,y:832},{gid:145,height:0,name:"",properties:{firstNode:"d",pathId:"l9p1"},type:"",visible:true,width:0,x:128,y:448},{gid:148,height:0,name:"",properties:{id:"f",next:"a",pathId:"l9p1"},type:"",visible:true,width:0,x:192,y:640},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l9p1"},type:"",visible:true,width:0,x:448,y:384},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l9p1"},type:"",visible:true,width:0,x:128,y:512},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l9p1"},type:"",visible:true,width:0,x:448,y:640},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l9p1"},type:"",visible:true,width:0,x:192,y:384},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l9p1"},type:"",visible:true,width:0,x:512,y:512},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l9p2"},type:"",visible:true,width:0,x:448,y:192},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l9p2"},type:"",visible:true,width:0,x:704,y:192},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l9p2"},type:"",visible:true,width:0,x:576,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l9p2"},type:"",visible:true,width:0,x:576,y:320},{gid:145,height:0,name:"",properties:{firstNode:"d",pathId:"l9p2"},type:"",visible:true,width:0,x:512,y:128},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l9p1",spawneeClass:"bee-flying"},type:"",visible:true,width:0,x:192,y:448},{gid:151,height:0,name:"",properties:{offsetX:"600",pathId:"l9p2",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:576,y:256},{gid:145,height:0,name:"",properties:{pathId:"l9p0"},type:"",visible:true,width:0,x:896,y:896}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:128,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:64},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:64}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-9"},"pond-10":{height:15,layers:[{data:[32,3758096434,2684354587,112,2684354659,113,113,113,113,113,113,113,113,536871002,112,1610612774,2684354623,32,62,3221225521,2684354598,112,2684354657,113,113,113,113,113,113,88,89,112,112,1610612763,1073741873,2684354622,3221225521,2,3221225485,112,2684354658,113,113,113,113,113,536870999,112,112,112,112,1610612762,43,1610612787,2147483667,2684354598,112,112,2684354659,113,113,113,113,113,1610612834,112,112,112,112,1610612774,19,536870962,2684354609,2684354586,112,112,2684354659,113,113,113,113,113,1610612823,112,112,112,112,1610612773,31,536870963,2684354610,2684354598,112,112,2684354650,113,113,113,113,113,113,1610612822,112,112,112,1610612762,536870961,3221225534,3758096445,2684354599,112,112,112,2147483737,2147483736,113,113,113,113,113,1610612826,112,112,1610612775,536870962,2147483692,2147483667,2684354587,112,13,38,39,2684354573,2684354647,113,113,113,113,536871001,14,26,3221225473,536870963,32,31,2684354586,112,536870950,49,2684354621,3758096423,2684354658,113,113,113,536871000,112,1610612774,2147483667,49,3221225534,20,75,2684354599,112,536870951,1610612797,3221225521,3758096422,2684354659,113,113,113,1610612834,112,1610612774,2147483691,1610612786,2147483680,32,2684354609,2684354598,112,1610612750,1073741862,1073741863,3221225486,3758096472,113,113,113,1610612833,112,1610612762,75,1610612785,2684354622,32,2684354610,1610612737,2684354573,112,3221225561,3221225570,3221225559,113,113,113,113,1610612823,112,1610612761,19,7,3758096447,2147483680,2684354611,2147483667,2684354586,3758096474,113,113,113,113,113,113,113,113,1610612822,1610612750,2684354561,49,3758096446,32,1610612798,2684354609,2684354587,2684354649,113,113,113,113,113,113,113,113,113,1610612826,1610612762,1073741885,2684354622,2147483668,32,3758096435,2684354598,112,2684354647,113,113,113,113,113,113,113,113,1610612835,1610612750,2684354561,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,536870994,0,0,0,0,0,0,0,0,56,0,82,0,0,0,0,0,0,1610612752,3221225539,3221225538,0,0,0,56,0,3221225554,3221225553,82,0,0,0,0,0,0,0,0,3221225527,3221225526,0,0,0,0,0,3221225542,3221225541,0,0,0,0,0,0,0,0,82,0,0,0,0,0,0,0,69,70,0,2684354642,0,0,0,0,0,0,0,0,0,0,0,0,0,53,81,82,0,0,0,0,0,0,0,78,0,0,0,0,0,0,0,0,0,0,54,55,2684354576,0,0,0,0,0,0,56,0,0,0,0,0,0,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1610612752,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,54,55,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,67,0,0,0,2684354638,0,0,0,0,0,0,0,2684354576,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,73,73,0,0,0,0,0,0,0,0,73,73,0,0,73,0,0,0,73,73,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:136,height:0,name:"",properties:{},type:"",visible:true,width:0,x:736,y:463},{gid:151,height:0,name:"",properties:{offsetY:"400",spawneeClass:"log"},type:"",visible:true,width:0,x:413,y:768},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:320},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:128},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:64},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:896},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:448},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:192},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:448},{gid:152,height:0,name:"",properties:{eventId:"ann-7"},type:"",visible:true,width:0,x:384,y:896},{gid:152,height:0,name:"",properties:{eventId:"ann-0"},type:"",visible:true,width:0,x:704,y:768},{gid:152,height:0,name:"",properties:{eventId:"ann-6"},type:"",visible:true,width:0,x:448,y:896}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:448},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l10p0"},type:"",visible:true,width:0,x:704,y:896},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l10p0"},type:"",visible:true,width:0,x:640,y:704},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l10p0"},type:"",visible:true,width:0,x:448,y:576},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l10p0"},type:"",visible:true,width:0,x:384,y:448},{gid:148,height:0,name:"",properties:{id:"e",next:"f",pathId:"l10p0"},type:"",visible:true,width:0,x:192,y:448},{gid:148,height:0,name:"",properties:{id:"f",next:"g",pathId:"l10p0"},type:"",visible:true,width:0,x:128,y:576},{gid:148,height:0,name:"",properties:{id:"g",next:"h",pathId:"l10p0"},type:"",visible:true,width:0,x:192,y:768},{gid:148,height:0,name:"",properties:{id:"h",next:"i",pathId:"l10p0"},type:"",visible:true,width:0,x:384,y:832},{gid:148,height:0,name:"",properties:{id:"i",next:"j",pathId:"l10p0"},type:"",visible:true,width:0,x:448,y:960},{gid:148,height:0,name:"",properties:{id:"j",next:"a",pathId:"l10p0"},type:"",visible:true,width:0,x:640,y:960},{gid:145,height:0,name:"",properties:{firstNode:"f",pathId:"l10p0"},type:"",visible:true,width:0,x:0,y:576},{gid:145,height:0,name:"",properties:{firstNode:"e",pathId:"l10p0"},type:"",visible:true,width:0,x:320,y:384},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l10p1"},type:"",visible:true,width:0,x:896,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l10p1"},type:"",visible:true,width:0,x:640,y:64},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l10p1"},type:"",visible:true,width:0,x:640,y:320},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l10p1"},type:"",visible:true,width:0,x:896,y:320},{gid:147,height:0,name:"",properties:{firstNode:"b",pathId:"l10p1"},type:"",visible:true,width:0,x:704,y:64},{gid:147,height:0,name:"",properties:{firstNode:"a",pathId:"l10p1"},type:"",visible:true,width:0,x:1088,y:64},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"l10p2"},type:"",visible:true,width:0,x:128,y:256},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l10p2"},type:"",visible:true,width:0,x:384,y:256},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l10p2"},type:"",visible:true,width:0,x:128,y:64},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l10p2"},type:"",visible:true,width:0,x:384,y:64},{gid:146,height:0,name:"",properties:{pathId:"l10p2"},type:"",visible:true,width:0,x:0,y:64},{gid:148,height:0,name:"",properties:{id:"e",next:"a",pathId:"l10p3"},type:"",visible:true,width:0,x:960,y:768},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"l10p3"},type:"",visible:true,width:0,x:576,y:768},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"l10p3"},type:"",visible:true,width:0,x:512,y:640},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"l10p3"},type:"",visible:true,width:0,x:576,y:512},{gid:148,height:0,name:"",properties:{id:"d",next:"e",pathId:"l10p3"},type:"",visible:true,width:0,x:960,y:512},{gid:151,height:0,name:"",properties:{offsetY:"400",pathId:"l10p3",spawneeClass:"butterfly-flying"},type:"",visible:true,width:0,x:640,y:896},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:893,y:771},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:67,y:829},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:256},{gid:123,height:0,name:"",properties:{},type:"",visible:true,width:0,x:4,y:255}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:320,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:896},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:128,y:640},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:128,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:512,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:448},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:768,y:320},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:192}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-10"},"pond-end":{height:15,layers:[{data:[2684354585,112,3758096482,113,113,113,113,113,113,113,113,113,113,1610612835,112,1610612774,2684354623,1610612799,2684354598,112,2684354649,113,113,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,1610612786,1073741886,2684354587,112,112,2684354647,113,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,1610612786,2147483680,2684354587,112,112,2684354658,113,113,113,113,113,113,113,113,113,1610612823,2147483760,536870939,1073741873,1073741874,1610612737,2147483661,112,2684354659,113,113,113,113,113,113,113,113,113,113,1610612825,1610612750,3221225499,2147483649,2684354609,3758096422,112,2684354649,113,113,113,113,113,113,113,113,113,113,1610612834,112,112,1610612763,2684354610,1610612738,2147483661,112,2684354648,113,113,113,113,113,113,113,113,113,1610612823,112,112,1610612775,2684354611,2147483691,2684354587,112,2684354659,113,113,113,113,113,113,113,113,113,113,1610612825,112,1610612774,1610612798,2684354609,2684354587,112,2684354659,113,113,113,113,113,113,113,113,113,113,1610612833,112,1610612773,20,2684354610,2684354587,112,2684354650,113,113,113,113,113,113,113,113,113,113,536871010,112,1610612774,32,2684354611,2684354587,112,112,3758096493,113,113,113,113,113,113,113,113,113,536871011,112,1610612773,62,3221225533,2684354587,112,112,2684354669,113,113,113,113,113,113,113,113,113,536871002,14,3221225474,2684354611,19,2684354587,112,3758096473,113,113,113,113,113,113,113,113,113,85,13,3221225473,7,1610612799,75,2684354587,112,2684354659,113,113,113,113,113,113,113,113,536871022,2147483760,536870939,49,50,1610612798,2684354609,2684354598,112,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612761,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,48,76,79,0,0,0,0,0,0,0,0,0,3221225554,0,0,78,0,59,60,28,29,0,0,56,0,0,0,0,0,0,54,55,0,0,0,71,72,40,41,0,0,0,0,0,0,0,0,82,66,67,0,0,0,83,84,0,0,0,0,0,0,0,0,0,0,0,0,2147483730,0,0,0,95,96,0,0,2147483726,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483713,3221225548,0,0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,2147483725,3221225536,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225524,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225513,3221225512,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,78,3221225501,3221225500,3221225530,3221225529,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225518,3221225517,103,92,104,92,104,92,104,92,104,92,104,92,104,92,105,0,3221225506,3221225505,0,79,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3221225494,3221225493,0,0,0,0,0,0,0,0,0,0,0,0,1073741902,0,0,0,3221225482,3221225481,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:false,width:18,x:0,y:0},{height:15,name:"entities",objects:[{height:64,name:"",properties:{},type:"finish-line",visible:true,width:1152,x:0,y:640},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:256},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:448},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:192},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:704,y:960},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:384,y:960}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:576,y:704},{gid:128,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:704}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"announcement"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-end"},"pond-tutorial":{height:15,layers:[{data:[49,3221225534,2684354610,2684354586,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612774,2684354623,32,2684354623,44,2684354611,2684354597,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,1610612797,2684354622,1610612786,32,2684354610,2684354598,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,75,1610612785,3221225534,20,2684354611,2684354599,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,75,19,32,32,2684354610,2684354586,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,75,49,32,2147483656,2684354611,2684354587,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,19,1610612787,2147483692,62,3221225533,3758096399,2684354649,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,7,1610612786,3221225522,3221225521,2,3758096398,112,2684354645,113,113,113,113,113,113,113,536871011,2147483760,536870939,61,3221225534,75,19,2684354587,112,112,112,2684354647,113,113,113,113,113,113,536871011,2147483760,536870939,1610612786,2147483668,31,2147483691,2684354587,112,112,112,2684354658,113,113,113,113,113,113,536871011,2147483760,536870939,1610612785,2684354622,2684354609,75,2684354587,112,112,112,2684354659,113,113,113,113,113,113,536871011,2147483760,536870939,2147483679,1610612787,2684354610,7,2684354587,112,112,112,3758096472,113,113,113,113,113,113,536871011,2147483760,536870939,19,1610612797,1073741886,2684354609,2684354587,112,112,3758096473,113,113,113,113,113,113,113,536871002,2147483760,536870939,75,43,20,2684354610,2684354587,112,112,3758096472,113,113,113,113,113,113,536871000,112,13,3221225474,49,50,32,3758096435,2684354598,112,3758096473,113,113,113,113,113,113,113,1610612833,112,1610612763,19,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483658,2147483657,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483670,2147483669,0,91,104,92,104,92,104,92,104,92,104,92,104,93,0,0,2147483682,2147483681,0,0,0,0,0,0,0,0,0,0,1610612818,69,70,0,0,0,2147483694,2147483693,0,0,54,55,0,0,0,0,0,0,0,81,82,0,0,0,2147483706,2147483705,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,0,0,103,92,104,92,104,92,104,92,104,92,104,92,105,0,0,59],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:131,height:0,name:"",properties:{moving:"false"},type:"",visible:true,width:0,x:544,y:961},{gid:121,height:0,name:"",properties:{},type:"",visible:true,width:0,x:545,y:768},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:640},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"stp0"},type:"",visible:true,width:0,x:384,y:512},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"stp0"},type:"",visible:true,width:0,x:192,y:512},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"stp0"},type:"",visible:true,width:0,x:192,y:704},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:512},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"stp0"},type:"",visible:true,width:0,x:384,y:704},{gid:146,height:0,name:"",properties:{pathId:"stp0"},type:"",visible:true,width:0,x:384,y:576},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"tutorial-manager"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-tutorial"},"pond-tutorial-multi":{height:15,layers:[{data:[49,3221225534,2684354610,2684354586,2684354659,113,113,113,113,113,113,113,113,1610612835,112,1610612774,2684354623,32,2684354623,44,2684354611,2684354597,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,1610612797,2684354622,1610612786,32,2684354610,2684354598,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,75,1610612785,3221225534,20,2684354611,2684354599,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,75,19,32,32,2684354610,2684354586,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,75,49,32,2147483656,2684354611,2684354587,2684354659,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,19,1610612787,2147483692,62,3221225533,3758096399,2684354649,113,113,113,113,113,113,113,113,536871011,2147483760,536870939,7,1610612786,3221225522,3221225521,2,3758096398,112,2684354645,113,113,113,113,113,113,113,536871011,2147483760,536870939,61,3221225534,75,19,2684354587,112,112,112,2684354647,113,113,113,113,113,113,536871011,2147483760,536870939,1610612786,2147483668,31,2147483691,2684354587,112,112,112,2684354658,113,113,113,113,113,113,536871011,2147483760,536870939,1610612785,2684354622,2684354609,75,2684354587,112,112,112,2684354659,113,113,113,113,113,113,536871011,2147483760,536870939,2147483679,1610612787,2684354610,7,2684354587,112,112,112,3758096472,113,113,113,113,113,113,536871011,2147483760,536870939,19,1610612797,1073741886,2684354609,2684354587,112,112,3758096473,113,113,113,113,113,113,113,536871002,2147483760,536870939,75,43,20,2684354610,2684354587,112,112,3758096472,113,113,113,113,113,113,536871000,112,13,3221225474,49,50,32,3758096435,2684354598,112,3758096473,113,113,113,113,113,113,113,1610612833,112,1610612763,19,536870963,44],height:15,name:"bg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,22,0,0,0,91,104,92,104,92,104,92,104,92,104,92,104,93,33,34,0,0,0,0,0,0,0,0,0,0,0,0,2147483730,69,70,0,45,46,0,0,0,0,54,55,0,0,0,0,0,0,0,81,82,0,57,58,0,0,0,0,66,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483660,2147483659,0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,2147483672,2147483671,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483684,2147483683,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483696,2147483695,103,92,104,92,104,92,104,92,104,92,104,92,105,0,0,0],height:15,name:"fg",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{data:[0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0],height:15,name:"collision",opacity:1,type:"tilelayer",visible:true,width:18,x:0,y:0},{height:15,name:"entities",objects:[{gid:131,height:0,name:"",properties:{moving:"false"},type:"",visible:true,width:0,x:544,y:961},{gid:121,height:0,name:"",properties:{},type:"",visible:true,width:0,x:640,y:832},{gid:122,height:0,name:"",properties:{},type:"",visible:true,width:0,x:448,y:832},{gid:137,height:0,name:"",properties:{},type:"",visible:true,width:0,x:256,y:640},{gid:127,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"insects",objects:[{gid:146,height:0,name:"",properties:{pathId:"mtp0"},type:"",visible:true,width:0,x:384,y:576},{gid:148,height:0,name:"",properties:{id:"a",next:"b",pathId:"mtp0"},type:"",visible:true,width:0,x:384,y:704},{gid:148,height:0,name:"",properties:{id:"b",next:"c",pathId:"mtp0"},type:"",visible:true,width:0,x:192,y:704},{gid:148,height:0,name:"",properties:{id:"c",next:"d",pathId:"mtp0"},type:"",visible:true,width:0,x:192,y:512},{gid:148,height:0,name:"",properties:{id:"d",next:"a",pathId:"mtp0"},type:"",visible:true,width:0,x:384,y:512},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:832,y:512},{gid:125,height:0,name:"",properties:{},type:"",visible:true,width:0,x:896,y:768}],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0},{height:15,name:"ai",objects:[],opacity:1,type:"objectgroup",visible:true,width:18,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:64,tilesets:[{firstgid:1,image:"../game/images/tiles.png",imageheight:640,imagewidth:768,margin:0,name:"tiles",properties:{},spacing:0,tileheight:64,tilewidth:64},{firstgid:121,image:"../game/images/entities.png",imageheight:256,imagewidth:640,margin:0,name:"entities",properties:{},spacing:0,tileheight:64,tileproperties:{"0":{entity:"rafter-don"},"1":{entity:"rafter-buddy"},"10":{entity:"lakitu"},"11":{entity:"bumper"},"14":{entity:"log"},"15":{entity:"turtle"},"16":{entity:"big-rock"},"2":{entity:"caterpillar"},"20":{entity:"rafter-buddy-robot"},"21":{entity:"whirlpool-large"},"22":{entity:"whirlpool-medium"},"23":{entity:"rapid"},"24":{entity:"bee-flying"},"25":{entity:"butterfly-flying"},"26":{entity:"dragonfly-flying"},"27":{entity:"insect-waypoint"},"3":{entity:"bee"},"30":{entity:"collision-spawner"},"31":{entity:"tutorial-manager"},"32":{entity:"whirlpool-small"},"4":{entity:"butterfly"},"5":{entity:"dragonfly"},"6":{entity:"small-rock"},"7":{entity:"path-node"}},tilewidth:64}],tilewidth:64,version:1,width:18,id:"pond-tutorial-multi"}},debug:false};(function(){var f=navigator.userAgent.toLowerCase(),n=document.createElement("audio"),q={canvas:false,touch:!!("ontouchstart" in window),iPod:(f.search("ipod")>-1),iPhone:(f.search("iphone")>-1),iPad:(f.search("ipad")>-1),safari:(f.search("safari")>-1),ie:(f.search("msie")>-1),firefox:(f.search("firefox")>-1),android:(f.search("android")>-1),chrome:(f.search("chrome")>-1),silk:(f.search("silk")>-1),iOS:false,mobile:false,desktop:false,multitouch:false,ogg:true,m4a:true,mp3:true},p=a.settings.aspects,b={},m=0,l=0,h=0,d=false,g="";q.iOS=q.iPod||q.iPhone||q.iPad;q.mobile=q.iOS||q.android||q.silk;q.desktop=!q.mobile;if(q.touch){if(q.android){if(parseInt(f.slice(f.indexOf("android")+8))>2){q.multitouch=true}}else{q.multitouch=true}}if((n.canPlayType)&&!(!!n.canPlayType&&""!=n.canPlayType('audio/ogg; codecs="vorbis"'))){q.ogg=false;if(q.ie||!(!!n.canPlayType&&""!=n.canPlayType("audio/mp4"))){q.m4a=false}}var c=document.createElement("canvas");try{q.canvas=!!(c.getContext("2d"))}catch(o){q.canvas=!!(c.getContext)}delete c;a.settings.aspects=b;a.settings.aspects={};for(m in p){d=false;g="";for(l in p[m]){g+=" "+l;for(h in p[m][l]){if(f.search(p[m][l][h])>-1){a.settings.aspects[l]=true;d=true;break}}if(d){break}}if(!d){console.warn("This browser doesn't support any of the following: "+g)}}a.settings.supports=q})();(function(c){if(c){if(!c.console){var b=c.console={};b.log=b.warn=b.error=function(){}}if(c.Array&&!c.Array.isArray){c.Array.isArray=function(d){return(d instanceof Array)}}}})(window);window.addEventListener("load",function(){if(location.hostname.indexOf("soup")>-1){var f=a.settings.assets;for(var d in f){if(f[d].src){if(typeof f[d].src==="string"){f[d].src=f[d].src.replace("www-tc","soup-tc")}else{for(var c in f[d].src){if(c!=="m4aCombined"){f[d].src[c]=f[d].src[c].replace("www-tc","soup-tc")}}}}}}if(location.hostname.indexOf("ernie")>-1){var f=a.settings.assets;for(var d in f){if(f[d].src){if(typeof f[d].src==="string"){f[d].src=f[d].src.replace("www-tc","ernie-tc")}else{for(var c in f[d].src){if(c!=="m4aCombined"){f[d].src[c]=f[d].src[c].replace("www-tc","ernie-tc")}}}}}}if(a.settings.supports.android){var g=document.createElement("div"),e=document.getElementById(a.settings.global.rootElement),b=function(h){g.removeEventListener("click",b);e.removeChild(g);new a.classes.game(a.settings)};g.className="menu-button";g.style.fontSize="1.5em";g.addEventListener("click",b,false);e.appendChild(g)}else{new a.classes.game(a.settings)}},false);a.classes={};a.classes.game=(function(){var d=function(e,f){return function(g){f(e,g)}};var b=function(k,g){var e=document.createElement("div"),l=null;a.game=this;this.currentScene=undefined;this.loaded=null;this.settings=k;if(!k.aspects){k.aspects=a.settings.aspects}if(!k.supports){k.supports=a.settings.supports}if(!k.classes){k.classes=a.settings.classes}if(!k.components){k.components=a.settings.components}if(document.getElementById(k.global.rootElement||"root")){l=document.getElementById(k.global.rootElement||"root")}else{l=document.createElement("div");l.id=k.global.rootElement||"root";document.getElementsByTagName("body")[0].appendChild(l)}for(var h in k.supports){if(k.supports[h]){l.className+=" supports-"+h}}e.id="inner-"+l.id;l.appendChild(e);this.rootElement=e;this.containerElement=l;this.loadScene(k.global.initialScene);var f=this,m=null;if(k.debug){m=function(i,n){f.currentScene.trigger(i,n)}}else{m=function(i,n){f.currentScene.trigger(i,n);n.preventDefault()}}this.bindings=[];this.addEventListener(window,"keydown",m);this.addEventListener(window,"keyup",m);if(k.global.aspectRatio){m=function(q,r){var o=e;var p=k.global.aspectRatio;var s=l.offsetWidth;var n=l.offsetHeight;if(k.global.maxWidth&&(k.global.maxWidth<s)){s=k.global.maxWidth}var i=s/n;if(i>p){o.style.height=n+"px";s=n*p;o.style.width=s+"px"}else{o.style.width=s+"px";n=s/p;o.style.height=n+"px"}if(k.global.resizeFont){l.style.fontSize=Math.round(s/20)+"px"}o.style.marginTop="-"+Math.round(n/2)+"px";o.style.marginLeft="-"+Math.round(s/2)+"px";o.style.top="50%";o.style.left="50%";f.currentScene.trigger(q,r)};m("resize")}else{if(k.global.resizeFont){m=function(i,n){l.style.fontSize=Math.round(f.rootElement.offsetWidth/20)+"px";f.currentScene.trigger(i,n)};m("resize")}}this.addEventListener(window,"orientationchange",m);this.addEventListener(window,"resize",m);if(g){g(this)}createjs.Ticker.timingMode="raf";createjs.Ticker.setFPS(k.global.fps||60);this.tickWrapper=function(i){f.tick(i)};createjs.Ticker.addEventListener("tick",this.tickWrapper);if(window){window.getEntityById=function(i){return f.getEntityById(i)};window.getEntitiesByType=function(i){return f.getEntitiesByType(i)}}};var c=b.prototype;c.tick=function(e){if(this.loadedScene){this.loadedScene.trigger("tick",e)}if(this.currentScene){this.currentScene.trigger("tick",e)}};c.loadScene=function(e,k,i,h){var f=this;this.inTransition=true;this.leavingScene=this.currentScene;if(h){this.loadNextScene(e);return}switch(k){case"fade-to-black":var g=document.createElement("div");this.rootElement.appendChild(g);g.style.width="100%";g.style.height="100%";g.style.position="absolute";g.style.zIndex="12";g.style.opacity="0";g.style.background="#000";new createjs.Tween(g.style).to({opacity:0},500).to({opacity:1},500).call(function(l){if(!this.loaded){f.loadNextScene(e,i)}f.completeSceneTransition(i)}).wait(500).to({opacity:0},500).call(function(l){f.rootElement.removeChild(g);g=undefined});break;case"instant":default:if(!this.loaded){f.loadNextScene(e,i)}this.completeSceneTransition(i)}};c.loadNextScene=function(e,g){var f=null;if(typeof e==="string"){f=this.settings.scenes[e]}else{f=e}this.loaded=e;this.loadedScene=new a.classes.scene(f,this.rootElement);console.log("Scene loaded: "+e);this.loadedScene.trigger("scene-loaded",g)};c.completeSceneTransition=function(f){var e=this.loaded;this.currentScene=this.loadedScene;this.loadedScene=null;this.loaded=false;this.inTransition=false;if(this.leavingScene){this.leavingScene.destroy();this.leavingScene=false}console.log("Scene live: "+e);this.currentScene.trigger("scene-live",f)};c.addEventListener=function(e,f,g){this.bindings[f]={element:e,event:f,callback:d(f,g)};e.addEventListener(f,this.bindings[f].callback,true)};c.getEntityById=function(e){if(this.currentScene){return this.currentScene.getEntityById(e)}else{return undefined}};c.getEntitiesByType=function(e){if(this.currentScene){return this.currentScene.getEntitiesByType(e)}else{return[]}};c.destroy=function(){createjs.Ticker.removeEventListener("tick",this.tickWrapper);for(var e in this.bindings){this.bindings[e].element.removeEventListener(this.bindings[e].event,this.bindings[e].callback)}this.bindings.length=0};return b})();(function(b){b.components={};b.createComponentClass=function(e){var c=function(h,i){return function(l,k){h[i](l,k)}},d=function(h,m){var n=null,l="",k="",i=null;this.owner=h;this.listeners=[];this.publicMethods={};this.type=e.id;if(e.events){for(n in e.events){i=c(this,n);this.addListener(n,i);if(m.aliases){for(var l in m.aliases){if(m.aliases[l]===n){this.addListener(l,i)}}}}}if(e.publicMethods){for(n in e.publicMethods){k=n;if(m.aliases){for(var l in m.aliases){if(m.aliases[l]===n){k=l}}}this.addMethod(k,e.publicMethods[n])}}if(this.constructor){this.constructor(m)}},g=null,f=d.prototype;f.constructor=e.constructor;if(e.events){for(g in e.events){f[g]=e.events[g]}}if(e.methods){for(g in e.methods){if(g==="destroy"){f["___"+g]=e.methods[g]}else{f[g]=e.methods[g]}}}if(e.publicMethods){for(g in e.publicMethods){f[g]=e.publicMethods[g]}}f.toString=function(){return"[component "+this.type+"]"};f.destroy=function(){for(g in this.publicMethods){this.removeMethod(g)}this.removeListeners(this.listeners);if(this.___destroy){this.___destroy()}};f.setProperty=function(i,h){this[i]=h};f.addListeners=function(i){for(var h in i){this.addListener(i[h])}};f.removeListeners=function(i){if(!i){i=this.listeners}for(var h in i){this.removeListener(h,i[h])}};f.addListener=function(h,k){var i=k||c(this,h);this.owner.bind(h,i);this.listeners[h]=i};f.addMethod=function(i,k){var h=this;if(this.owner[i]){console.warn(owner.type+': Entity already has a method called "'+i+'". Method not added.')}else{this.owner[i]=function(){return k.apply(h,arguments)};this.publicMethods[i]=k}};f.removeListener=function(h,i){this.owner.unbind(h,i)};f.removeMethod=function(h){if(!this.owner[h]){console.warn(owner.type+': Entity does not have a method called "'+h+'".')}else{delete this.owner[h]}delete this.publicMethods[h]};b.components[e.id]=d}})(a);a.classes.entity=(function(){var d={},b=function(h,f){var o=this,l=undefined,k=undefined,g=h||{},e=g.components||[],n=g.properties||{},m=f||{},i=m.properties||{};o.components=[];o.messages={};o.loopCheck=[];o.unbindLater=[];o.type=g.id||"none";o.id=f.id;if(!o.id){if(!d[o.type]){d[o.type]=0}o.id=o.type+"-"+d[o.type];d[o.type]+=1}this.setProperty(n);this.setProperty(i);this.bind("set-property",function(p){o.setProperty(p)});if(!o.state){o.state={}}o.lastState={};for(l in e){k=e[l];if(a.components[k.type]){o.addComponent(new a.components[k.type](o,k))}else{console.warn("Component '"+k.type+"' is not defined.",k)}}o.trigger("load")};var c=b.prototype;c.toString=function(){return"[entity "+this.type+"]"};c.addComponent=function(e){this.components.push(e);return e};c.removeComponent=function(f){var e="";if(typeof f==="string"){for(e in this.components){if(this.components[e].type===f){f=this.components[e];this.components.splice(e,1);f.destroy();return f}}}else{for(e in this.components){if(this.components[e]===f){this.components.splice(e,1);f.destroy();return f}}}return false};c.bind=function(f,e){if(!this.messages[f]){this.messages[f]=[]}this.messages[f].push(e)};c.unbind=function(g,f){var h=false,e=0;if(this.loopCheck.length){for(e=0;e<this.loopCheck.length;e++){if(this.loopCheck[e]===g){h=true;break}}}if(h){this.unbindLater.push({event:g,func:f})}else{this.safelyUnbind(g,f)}};c.safelyUnbind=function(g,f){if(!this.messages[g]){this.messages[g]=[]}for(var e in this.messages[g]){if(this.messages[g][e]===f){this.messages[g].splice(e,1);break}}};c.trigger=function(g,k,e){var f=0,h=0;if(typeof g==="string"){return this.triggerEvent(g,k,e)}else{if(Array.isArray(g)){for(;f<g.length;f++){h+=this.trigger(g[f],k,e)}return h}else{if(g.event){return this.triggerEvent(g.event,g.message||k,e)}else{console.warn('Event incorrectly formatted: must be string, array, or object containing an "event" property.');return 0}}}};c.triggerEvent=function(h,k,e){var g=0,f=0;if(this.debug||e||(k&&k.debug)){if(this.messages[h]&&this.messages[h].length){console.log('Entity "'+this.type+'": Event "'+h+'" has '+this.messages[h].length+" subscriber"+((this.messages[h].length>1)?"s":"")+".",k)}else{console.warn('Entity "'+this.type+'": Event "'+h+'" has no subscribers.',k)}}for(g=0;g<this.loopCheck.length;g++){if(this.loopCheck[g]===h){throw"Endless loop detected for '"+h+"'."}}g=0;this.loopCheck.push(h);if(this.messages[h]){for(g=0;g<this.messages[h].length;g++){this.messages[h][g](k,e)}}this.loopCheck.length=this.loopCheck.length-1;if(!this.loopCheck.length&&this.unbindLater.length){for(f=0;f<this.unbindLater.length;f++){this.safelyUnbind(this.unbindLater[f].event,this.unbindLater[f].func)}this.unbindLater.length=0}return g};c.setProperty=function(f){var e="";for(e in f){this[e]=f[e]}};c.getMessageIds=function(){var e=[];for(var f in this.messages){e.push(f)}return e};c.destroy=function(){for(var e in this.components){this.components[e].destroy()}this.components.length=0};return b})();a.classes.scene=(function(){var c=function(f,d){var k=f.layers,l=true,o=false,n=false,g=null;this.storedMessages=[];this.rootElement=d;this.layers=[];for(var m in k){o=k[m];n={rootElement:this.rootElement,parent:this};if(o.properties){for(h in o.properties){n[h]=o.properties[h]}}if(o.type){o=a.game.settings.entities[o.type]}l=true;if(o.filter){if(o.filter.includes){l=false;for(var e in o.filter.includes){if(a.game.settings.supports[o.filter.includes[e]]){l=true}}}if(o.filter.excludes){for(var e in o.filter.excludes){if(a.game.settings.supports[o.filter.excludes[e]]){l=false}}}}if(l){this.layers.push(new a.classes.entity(o,{properties:n}))}}g=this.storedMessages;this.storedMessages=false;for(var h=0;h<g.length;h++){this.trigger(g[h].message,g[h].value)}g.length=0;this.time=new Date().getTime();this.timeElapsed={name:"",time:0}};var b=c.prototype;b.trigger=function(e,f){var d=0,g=0;if(this.storedMessages){this.storedMessages.push({message:e,value:f})}else{if(e==="tick"){g=new Date().getTime();this.timeElapsed.name="Non-Engine";this.timeElapsed.time=g-this.time;this.trigger("time-elapsed",this.timeElapsed);this.time=g}for(;d<this.layers.length;d++){this.layers[d].trigger(e,f)}if(e==="tick"){g=new Date().getTime();this.timeElapsed.name="Engine Total";this.timeElapsed.time=g-this.time;this.trigger("time-elapsed",this.timeElapsed);this.time=g}}};b.getEntityById=function(f){var d=0,e=null;for(;d<this.layers.length;d++){if(this.layers[d].id===f){return this.layers[d]}if(this.layers[d].getEntityById){e=this.layers[d].getEntityById(f);if(e){return e}}}return undefined};b.getEntitiesByType=function(f){var d=0,e=null,g=[];for(;d<this.layers.length;d++){if(this.layers[d].type===f){g.push(this.layers[d])}if(this.layers[d].getEntitiesByType(f)){e=this.layers[d].getEntitiesByType(f);if(e){g=g.concat(e)}}}return g};b.destroy=function(){for(var d in this.layers){this.layers[d].destroy()}this.layers.length=0};return c})();a.classes.vector2D=(function(){var b=function(d,e){this.x=d||0;this.y=e||0};var c=b.prototype;c.set=function(d,e){this.x=d;this.y=e;return this};c.copyValues=function(d){this.x=d.x;this.y=d.y;return this};c.setX=function(d){this.x=d;return this};c.setY=function(d){this.y=d;return this};c.getX=function(){return this.x};c.getY=function(){return this.y};c.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))};c.direction=function(){var d=this.magnitude();var e=0;if(d!=0){e=Math.acos(this.x/d);if(this.y<0){e=(Math.PI*2)-e}}return e};c.getUnit=function(){var d=this.magnitude();if(d==0){return new a.classes.vector2D(0,0)}else{return new a.classes.vector2D(this.x/d,this.y/d)}};c.getInverse=function(){return new a.classes.vector2D(-this.x,-this.y)};c.normalize=function(){var d=this.magnitude();if(d!=0){this.x/=d;this.y/=d}return this};c.rotate=function(e){var d=this.x;var f=this.y;this.x=d*Math.cos(e)-f*Math.sin(e);this.y=d*Math.sin(e)+f*Math.cos(e);return this};c.add=function(d,e){this.x+=d;this.y+=e;return this};c.addVector=function(d){this.x+=d.x;this.y+=d.y;return this};c.subtractVector=function(d){this.x-=d.x;this.y-=d.y;return this};c.scale=function(d){this.x*=d;this.y*=d;return this};c.dot=function(d){return this.x*d.x+this.y*d.y};c.shortestAngleTo=function(d){return Math.acos(this.dot(d)/(this.magnitude()*d.magnitude()))};c.scalarProjection=function(e){var f=0;var d=null;if(typeof e=="number"){f=e}else{d=e;f=this.shortestAngleTo(d)}return this.magnitude()*Math.cos(f)};c.copy=function(){return new b(this.x,this.y)};return b})();a.classes.collisionShape=(function(){var b=function(e,f,h){var k=f.regX,i=f.regY;this.owner=e;this.collisionType=h;this.width=f.width||f.radius||0;this.height=f.height||f.radius||0;this.radius=f.radius||0;if(typeof k!=="number"){k=this.width/2}if(typeof i!=="number"){i=this.height/2}this.offsetX=f.offsetX||((this.width/2)-k);this.offsetY=f.offsetY||((this.height/2)-i);if(e){this.x=e.x+this.offsetX;this.y=e.y+this.offsetY}else{this.x=f.x+this.offsetX;this.y=f.y+this.offsetY}this.type=f.type||"rectangle";this.subType="";this.points=f.points;this.aABB=undefined;var g=0;var d=0;switch(this.type){case"circle":g=d=this.radius*2;break;case"rectangle":g=this.width;d=this.height;break;case"triangle":if(this.points[0][1]==this.points[1][1]&&this.points[0][0]==this.points[2][0]){if(this.points[0][0]<this.points[1][0]){this.subType="tl";g=this.points[1][0]-this.points[0][0];d=this.points[2][1]-this.points[0][1]}else{this.subType="br";g=this.points[0][0]-this.points[1][0];d=this.points[0][1]-this.points[2][1]}}else{if(this.points[0][1]==this.points[2][1]&&this.points[0][0]==this.points[1][0]){if(this.points[0][1]<this.points[1][1]){this.subType="tr";g=this.points[0][0]-this.points[2][0];d=this.points[1][1]-this.points[0][1]}else{this.subType="bl";g=this.points[2][0]-this.points[0][0];d=this.points[0][1]-this.points[1][1]}}}}this.aABB=new a.classes.aABB(this.x,this.y,g,d)};var c=b.prototype;c.update=function(e,d){this.x=e+this.offsetX;this.y=d+this.offsetY;this.aABB.move(this.x,this.y)};c.moveX=function(d){this.x=d;this.aABB.moveX(this.x)};c.moveY=function(d){this.y=d;this.aABB.moveY(this.y)};c.moveXBy=function(d){this.x+=d;this.aABB.moveX(this.x)};c.moveYBy=function(d){this.y+=d;this.aABB.moveY(this.y)};c.getXY=function(){return[this.x,this.y]};c.getX=function(){return this.x};c.getY=function(){return this.y};c.getAABB=function(){return this.aABB};c.getXOffset=function(){return this.offsetX};c.getYOffset=function(){return this.offsetY};c.setXWithEntityX=function(d){this.x=d+this.offsetX;this.aABB.moveX(this.x)};c.setYWithEntityY=function(d){this.y=d+this.offsetY;this.aABB.moveY(this.y)};c.destroy=function(){this.aABB=undefined;this.points=undefined};return b})();a.classes.collisionData=(function(){var c=function(f,k,d,h,l,i,g,e){this.occurred=f||false;this.direction=k||null;this.position=d||null;this.deltaMovement=h||null;this.aABB=l||null;this.thisShape=i||null;this.thatShape=g||null;this.vector=e||null};var b=c.prototype;b.copy=function(d){this.occurred=d.occurred;this.direction=d.direction;this.position=d.position;this.deltaMovement=d.deltaMovement;this.aABB=d.aABB;this.thisShape=d.thisShape;this.thatShape=d.thatShape;this.vector=d.vector};b.clear=function(){this.occurred=false;this.direction=null;this.position=null;this.deltaMovement=null;this.aABB=null;this.thisShape=null;this.thatShape=null;this.vector=null};return c})();a.classes.collisionDataContainer=(function(){var b=function(){this.xData=[new a.classes.collisionData(),new a.classes.collisionData()];this.yData=[new a.classes.collisionData(),new a.classes.collisionData()];this.xCount=0;this.yCount=0;this.xDeltaMovement=Infinity;this.yDeltaMovement=Infinity};var c=b.prototype;c.getXEntry=function(d){return this.xData[d]};c.getYEntry=function(d){return this.yData[d]};c.tryToAddX=function(d){if(d.deltaMovement<this.xDeltaMovement){this.xDeltaMovement=d.deltaMovement;this.xData[0].copy(d);this.xCount=1;return true}else{if(d.deltaMovement==this.xDeltaMovement){this.ensureRoomX();this.xData[this.xCount].copy(d);this.xCount++;return true}}return false};c.tryToAddY=function(d){if(d.deltaMovement<this.yDeltaMovement){this.yDeltaMovement=d.deltaMovement;this.yData[0].copy(d);this.yCount=1;return true}else{if(d.deltaMovement==this.yDeltaMovement){this.ensureRoomY();this.yData[this.yCount].copy(d);this.yCount++;return true}}return false};c.ensureRoomX=function(){var e=this.xData.length*2;if(this.xData.length<=this.xCount){for(var d=this.xData.length;d<e;d++){this.xData[d]=new a.classes.collisionData()}}};c.ensureRoomY=function(){var e=this.yData.length*2;if(this.yData.length<=this.yCount){for(var d=this.yData.length;d<e;d++){this.yData[d]=new a.classes.collisionData()}}};c.reset=function(){this.xCount=0;this.yCount=0;this.xDeltaMovement=Infinity;this.yDeltaMovement=Infinity};return b})();a.classes.aABB=(function(){var c=function(e,g,f,d){this.empty=true;this.setAll(e,g,f,d)};var b=c.prototype;b.setAll=function(e,g,f,d){this.empty=false;this.x=e;this.y=g;this.width=f||0;this.height=d||0;this.halfWidth=this.width/2;this.halfHeight=this.height/2;if(typeof e==="undefined"){this.empty=true}else{this.left=-this.halfWidth+this.x;this.right=this.halfWidth+this.x}if(typeof g==="undefined"){this.empty=true}else{this.top=-this.halfHeight+this.y;this.bottom=this.halfHeight+this.y}return this};b.set=function(d){this.empty=d.empty;this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height;this.halfWidth=d.halfWidth;this.halfHeight=d.halfHeight;this.left=d.left;this.right=d.right;this.top=d.top;this.bottom=d.bottom;return this};b.reset=function(){this.empty=true;return this};b.include=function(d){if(d){if(this.empty){this.set(d)}else{if(this.left>d.left){this.left=d.left}if(this.right<d.right){this.right=d.right}if(this.top>d.top){this.top=d.top}if(this.bottom<d.bottom){this.bottom=d.bottom}this.width=this.right-this.left;this.height=this.bottom-this.top;this.halfWidth=this.width/2;this.halfHeight=this.height/2;this.x=this.left+this.halfWidth;this.y=this.top+this.halfHeight}}};b.move=function(d,e){this.moveX(d);this.moveY(e);return this};b.moveX=function(d){this.x=d;this.left=-this.halfWidth+this.x;this.right=this.halfWidth+this.x;return this};b.moveY=function(d){this.y=d;this.top=-this.halfHeight+this.y;this.bottom=this.halfHeight+this.y;return this};b.moveXBy=function(d){this.x+=d;this.left=-this.halfWidth+this.x;this.right=this.halfWidth+this.x;return this};b.moveYBy=function(d){this.y+=d;this.top=-this.halfHeight+this.y;this.bottom=this.halfHeight+this.y;return this};b.getCopy=function(){return new c(this.x,this.y,this.width,this.height)};b.matches=function(e,g,f,d){return !((this.x!==e)||(this.y!==g)||(this.width!==f)||(this.height!==d))};b.contains=function(d){return !((d.top<this.top)||(d.bottom>this.bottom)||(d.left<this.left)||(d.right>this.right))};b.containsVector=function(d){return !((d.y<this.top)||(d.y>this.bottom)||(d.x<this.left)||(d.x>this.right))};b.intersects=function(d){return !((d.bottom<this.top)||(d.top>this.bottom)||(d.right<this.left)||(d.left>this.right))};return c})();a.classes.vector2D=(function(){var b=function(d,e){this.x=d||0;this.y=e||0};var c=b.prototype;c.set=function(d,e){this.x=d;this.y=e;return this};c.copyValues=function(d){this.x=d.x;this.y=d.y;return this};c.setX=function(d){this.x=d;return this};c.setY=function(d){this.y=d;return this};c.getX=function(){return this.x};c.getY=function(){return this.y};c.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))};c.direction=function(){var d=this.magnitude();var e=0;if(d!=0){e=Math.acos(this.x/d);if(this.y<0){e=(Math.PI*2)-e}}return e};c.getUnit=function(){var d=this.magnitude();if(d==0){return new a.classes.vector2D(0,0)}else{return new a.classes.vector2D(this.x/d,this.y/d)}};c.getInverse=function(){return new a.classes.vector2D(-this.x,-this.y)};c.normalize=function(){var d=this.magnitude();if(d!=0){this.x/=d;this.y/=d}return this};c.rotate=function(e){var d=this.x;var f=this.y;this.x=d*Math.cos(e)-f*Math.sin(e);this.y=d*Math.sin(e)+f*Math.cos(e);return this};c.add=function(d,e){this.x+=d;this.y+=e;return this};c.addVector=function(d){this.x+=d.x;this.y+=d.y;return this};c.subtractVector=function(d){this.x-=d.x;this.y-=d.y;return this};c.scale=function(d){this.x*=d;this.y*=d;return this};c.dot=function(d){return this.x*d.x+this.y*d.y};c.shortestAngleTo=function(d){return Math.acos(this.dot(d)/(this.magnitude()*d.magnitude()))};c.scalarProjection=function(e){var f=0;var d=null;if(typeof e=="number"){f=e}else{d=e;f=this.shortestAngleTo(d)}return this.magnitude()*Math.cos(f)};c.copy=function(){return new b(this.x,this.y)};return b})();a.components={};(function(){return a.createComponentClass({id:"asset-loader",constructor:function(b){this.useXHR=true;if(b.useXHR===false){this.useXHR=false}this.assets=b.assets||a.game.settings.assets;this.progressBar=b.progressBar||false;this.message={complete:false,total:0,progress:0,fraction:0}},events:{load:function(){var l=this,b=function(n,p){var m=0,o=false;for(m in p){if(p[m].id===n.id){o=true;break}}if(!o){p.push(n)}},h=new createjs.LoadQueue(this.useXHR),g=[],k=a.game.settings.global.nativeAssetResolution||0,d=a.game.settings.scale=k?Math.min(1,Math.max(window.screen.width,window.screen.height)*(window.devicePixelRatio||1)/k):1,c=function(o,m,u){var i=u||1,p=m||1,q=Math.ceil((o.width/p)*d)*p,s=Math.ceil((o.height/i)*d)*i,n=document.createElement("canvas"),t=n.getContext("2d");n.width=q;n.height=s;n.scaleX=q/o.width;n.scaleY=s/o.height;t.drawImage(o,0,0,o.width,o.height,0,0,q,s);return n};h.addEventListener("fileload",function(n){var m=n.item,o=m.data,i=m.tag;if(n.item.type=="image"){if(k&&(d!==1)){if(o){i=c(i,o.columns,o.rows)}else{i=c(i)}}}a.assets[n.item.id]=i;l.message.progress+=1;l.message.fraction=l.message.progress/l.message.total;if(l.message.progress===l.message.total){l.message.complete=true}l.owner.trigger("fileload",l.message)});h.addEventListener("complete",function(i){l.owner.trigger("complete")});for(var f in this.assets){if(typeof this.assets[f].src==="string"){b(this.assets[f],g)}else{for(var e in this.assets[f].src){if(a.game.settings.aspects[e]&&this.assets[f].src[e]){if(typeof this.assets[f].src[e]==="string"){this.assets[f].src=this.assets[f].src[e];b(this.assets[f],g)}else{this.assets[f].data=this.assets[f].src[e].data||this.assets[f].data;this.assets[f].assetId=this.assets[f].src[e].assetId;this.assets[f].src=this.assets[f].src[e].src;b({id:this.assets[f].assetId||this.assets[f].id,src:this.assets[f].src,data:this.assets[f].data},g)}break}}if(typeof this.assets[f].src!=="string"){if(this.assets[f].src["default"]){if(typeof this.assets[f].src["default"]==="string"){this.assets[f].src=this.assets[f].src["default"];b(this.assets[f],g)}else{this.assets[f].data=this.assets[f].src["default"].data||this.assets[f].data;this.assets[f].assetId=this.assets[f].src["default"].assetId;this.assets[f].src=this.assets[f].src["default"].src;b({id:this.assets[f].assetId||this.assets[f].id,src:this.assets[f].src,data:this.assets[f].data},g)}}else{console.warn("Asset has no valid source for this browser.",this.assets[f])}}}}if(createjs.Sound){h.installPlugin(createjs.Sound)}l.message.total=g.length;h.loadManifest(g);a.assets=[]},fileload:function(c){var b=null;if(this.progressBar){b=document.getElementById(this.progressBar);if(b){b=b.style;b.width=(c.fraction*100)+"%";b.backgroundSize=((1/c.fraction)*100)+"%"}}}}})})();(function(){var g=false,c=false,d=false,f=null,e=function(k,l){var h=null,m=null,n=function(){var q=[],s=0,r=0;if(!h&&l.tag){h=l.tag;if(h.src!==h.id){h.id=h.src}}if(h){q=h.buffered;for(var p=0,o=q.length;p<o;p++){s+=(q.end(p)-q.start(p))}r=(Math.floor((s*100)/h.duration)||0);k.innerHTML="Loading Audio: "+r+"%";if(r>=100){clearInterval(i);d=true;if(c&&f){f()}}else{if(!m){m=function(){h.removeEventListener("play",m);l.pause()};h.addEventListener("play",m)}}}},i=setInterval(n,500);k.innerHTML="Loading Audio...";k.className="loading-audio"},b=function(l,h){var m=null,k="",i=document.createElement("div");i.style.width="100%";i.style.height="100%";i.style.position="absolute";i.style.zIndex="20";l.appendChild(i);m=function(n){i.removeEventListener("touchstart",m,false);if(c){if(f){f()}}else{k=createjs.Sound.createInstance(h).src;createjs.Sound.removeSound(h);createjs.Sound.registerSound(k,h,1);e(i,createjs.Sound.play(h))}};i.addEventListener("touchstart",m,false);return i};createjs.HTMLAudioPlugin.enableIOS=true;if(a.settings.supports.iOS){createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin])}else{createjs.Sound.initializeDefaultPlugins()}createjs.Sound.addEventListener("fileload",function(){c=true;if(d&&f){f()}});return a.createComponentClass({id:"enable-ios-audio",constructor:function(i){var h=this;if(!g){g=true;this.touchOverlay=b(this.owner.rootElement,i.audioId);f=function(){f=null;h.removeComponent()}}else{this.removeComponent()}},methods:{removeComponent:function(){this.owner.removeComponent(this)},destroy:function(){if(this.touchOverlay){this.owner.rootElement.removeChild(this.touchOverlay)}delete this.touchOverlay}}})})();(function(){var b={entity:null,type:null,x:0,y:0,hitType:null,myType:null},e={x:0,y:0,relative:false},g=function(h){h.x=0;h.y=0;h.relative=false},d=new a.classes.collisionDataContainer(),f=function(i,h){if(i.left>=h.right){return false}if(i.right<=h.left){return false}if(i.top>=h.bottom){return false}if(i.bottom<=h.top){return false}return true},c=function(l,k){var m=0;var p=0;var h=undefined;var o=undefined;var r=0;var q=0;var n=undefined;var i=0;if(l.type=="rectangle"&&k.type=="rectangle"){return true}else{if(l.type=="circle"&&k.type=="circle"){m=Math.pow((l.x-k.x),2)+Math.pow((l.y-k.y),2);p=Math.pow((l.radius+k.radius),2);if(m<=p){return true}}else{if(l.type=="circle"&&k.type=="rectangle"||l.type=="rectangle"&&k.type=="circle"){if(l.type=="circle"){h=l;o=k}else{h=k;o=l}n=o.getAABB();r=Math.abs(h.x-o.x);q=Math.abs(h.y-o.y);if(r>=(n.halfWidth+h.radius)){return false}if(q>=(n.halfHeight+h.radius)){return false}if(r<(n.halfWidth)){return true}if(q<(n.halfHeight)){return true}i=Math.pow((r-n.halfWidth),2)+Math.pow((q-n.halfHeight),2);if(i<Math.pow(h.radius,2)){return true}}}}return false};return a.createComponentClass({id:"handler-collision",constructor:function(h){this.entitiesByType={};this.entitiesByTypeLive={};this.solidEntities=[];this.solidEntitiesLive=[];this.softEntities=[];this.softEntitiesLive=[];this.allEntities=[];this.allEntitiesLive=[];this.groupsLive=[];this.nonColliders=[];this.terrain=undefined;this.aabb=new a.classes.aABB(this.owner.x,this.owner.y);this.prevAABB=new a.classes.aABB(this.owner.x,this.owner.y);this.owner.previousX=this.owner.previousX||this.owner.x;this.owner.previousY=this.owner.previousY||this.owner.y;this.updateLiveList=true;this.cameraLogicAABB=new a.classes.aABB(0,0);this.cameraCollisionAABB=new a.classes.aABB(0,0);this.timeElapsed={name:"Col",time:0}},events:{"child-entity-added":function(h){this["add-collision-entity"](h)},"add-collision-entity":function(l){var n=0,m=l.collisionTypes,h=false,k=false;if((l.type=="tile-layer")||(l.type=="collision-layer")){this.terrain=l;this.updateLiveList=true}else{if(m){for(;n<m.length;n++){if(!this.entitiesByType[m[n]]){this.entitiesByType[m[n]]=[];this.entitiesByTypeLive[m[n]]=[]}this.entitiesByType[m[n]][this.entitiesByType[m[n]].length]=l;if(l.solidCollisions[m[n]].length&&!l.immobile){h=true}if(l.softCollisions[m[n]].length){k=true}}if(h&&!l.immobile){this.solidEntities[this.solidEntities.length]=l}if(k){this.softEntities[this.softEntities.length]=l}this.allEntities[this.allEntities.length]=l;this.updateLiveList=true}}},"child-entity-removed":function(h){this["remove-collision-entity"](h)},"remove-collision-entity":function(m){var h=0,p=0,n=0,o=m.collisionTypes,k=false,l=false;if(o){for(;p<o.length;p++){for(h in this.entitiesByType[o[p]]){if(this.entitiesByType[o[p]][h]===m){this.entitiesByType[o[p]].splice(h,1);break}}if(m.solidCollisions[o[p]].length){k=true}if(m.softCollisions[o[p]].length){l=true}}if(k){for(h in this.solidEntities){if(this.solidEntities[h]===m){this.solidEntities.splice(h,1);break}}}if(l){for(h in this.softEntities){if(this.softEntities[h]===m){this.softEntities.splice(h,1);break}}}for(n=0;n<this.allEntities.length;n++){if(this.allEntities[n]===m){this.allEntities.splice(n,1);break}}this.updateLiveList=true}},"check-collision-group":function(i){var h=new Date().getTime();if(i.camera){this.checkCamera(i.camera)}this.timeElapsed.name="Col-Cam";this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);h+=this.timeElapsed.time;this.prepareCollisions(i);this.timeElapsed.name="Col-Prep";this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);h+=this.timeElapsed.time;this.checkGroupCollisions();this.timeElapsed.name="Col-Group";this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);h+=this.timeElapsed.time;this.checkSolidCollisions();this.timeElapsed.name="Col-Solid";this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);h+=this.timeElapsed.time;this.resolveNonCollisions(i);this.timeElapsed.name="Col-None";this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);h+=this.timeElapsed.time;this.checkSoftCollisions(i);this.timeElapsed.name="Col-Soft";this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);h+=this.timeElapsed.time}},methods:{checkCamera:(function(){var h=function(k,i){return k.collisionGroup.getAllEntities()-i.collisionGroup.getAllEntities()};return function(F,A){var D=0,C=0,m=0,G=null,k=null,J=null,o=null,B=F.width,v=F.height,s=F.left+B/2,q=F.top+v/2,I=F.bufferLeft,p=F.bufferRight,w=F.bufferTop,r=F.bufferBottom,l=undefined,u=undefined,H=f,n=this.cameraLogicAABB,E=this.cameraCollisionAABB,t=null;B+=I+p;v+=w+r;if(this.updateLiveList||!n.matches(s,q,B,v)){n.setAll(s,q,B,v);if(this.updateLiveList||!E.contains(n)){this.updateLiveList=false;k=this.allEntitiesLive;k.length=0;o=this.solidEntitiesLive;o.length=0;J=this.softEntitiesLive;J.length=0;groups=this.groupsLive;groups.length=0;m=this.allEntities.length;for(D=0;D<m;D++){u=this.allEntities[D];if(u.alwaysOn||u.checkCollision||H(u.getAABB(),n)){u.checkCollision=false;k[k.length]=u;t=u.collisionTypes;if(u!==this.owner){if(!u.immobile){for(C=0;C<t.length;C++){if(u.solidCollisions[t[C]].length){o[o.length]=u;break}}}}for(C=0;C<t.length;C++){if(u.softCollisions[t[C]].length){J[J.length]=u;break}}if(u.collisionGroup){groups.push(u)}}}groups.sort(h);E.setAll(s,q,B+I+p,v+w+r);for(D in this.entitiesByType){l=this.entitiesByType[D];G=this.entitiesByTypeLive[D];G.length=0;m=l.length;for(C=0;C<m;C++){u=l[C];if(u.alwaysOn||H(u.getAABB(),E)){G[G.length]=u}}}}}}})(),prepareCollisions:function(k){var i=null;this.nonColliders.length=0;for(var h=this.allEntitiesLive.length-1;h>-1;h--){i=this.allEntitiesLive[h];i.triggerEvent("prepare-for-collision",k);if(!i.collides){this.nonColliders.push(i)}}},resolveNonCollisions:function(l){var i=null,k=e;k.relative=false;for(var h=this.nonColliders.length-1;h>-1;h--){i=this.nonColliders[h];k.x=i.x;k.y=i.y;i.trigger("relocate-entity",k)}},checkGroupCollisions:(function(){var h=function(l,o,m,n,i,q,p,k){b.entity=o;b.myType=m;b.type=n;b.x=i;b.y=q;b.direction=k;b.hitType=p;l.triggerEvent("hit-by-"+n,b);if(o){b.entity=l;b.type=m;b.myType=n;b.x=-i;b.y=-q;b.direction=k.getInverse();b.hitType=p;o.triggerEvent("hit-by-"+m,b)}};return function(){var m=this.groupsLive;for(var k=m.length-1;k>-1;k--){if(m[k].collisionGroup.getSize()>1){d.reset();g(e);e=this.checkSolidEntityCollision(m[k],m[k].collisionGroup,d,e);for(var l=0;l<d.xCount;l++){messageData=d.getXEntry(l);h(messageData.thisShape.owner,messageData.thatShape.owner,messageData.thisShape.collisionType,messageData.thatShape.collisionType,messageData.direction,0,"solid",messageData.vector)}for(l=0;l<d.yCount;l++){messageData=d.getYEntry(l);h(messageData.thisShape.owner,messageData.thatShape.owner,messageData.thisShape.collisionType,messageData.thatShape.collisionType,0,messageData.direction,"solid",messageData.vector)}}}}})(),checkSolidCollisions:(function(){var h=function(l,o,m,n,i,q,p,k){b.entity=o;b.myType=m;b.type=n;b.x=i;b.y=q;b.direction=k;b.hitType=p;l.triggerEvent("hit-by-"+n,b);if(o){b.entity=l;b.type=m;b.myType=n;b.x=-i;b.y=-q;b.direction=k.getInverse();b.hitType=p;o.triggerEvent("hit-by-"+m,b)}};return function(){var m=null,n=this.solidEntitiesLive;for(var k=n.length-1;k>-1;k--){d.reset();g(e);e=this.checkSolidEntityCollision(n[k],n[k],d,e);for(var l=0;l<d.xCount;l++){m=d.getXEntry(l);h(m.thisShape.owner,m.thatShape.owner,m.thisShape.collisionType,m.thatShape.collisionType,m.direction,0,"solid",m.vector)}for(l=0;l<d.yCount;l++){m=d.getYEntry(l);h(m.thisShape.owner,m.thatShape.owner,m.thisShape.collisionType,m.thatShape.collisionType,0,m.direction,"solid",m.vector)}}}})(),checkSolidEntityCollision:function(u,v,r,x){var w=0,n=0,o=x,l=u.x-u.previousX,h=u.y-u.previousY,t=null,q=0,p=0,m=Infinity,A=Infinity,k=v.getCollisionTypes(),y=false;if(v.getSolidEntities){y=v.getSolidEntities()}o.x=u.x;o.y=u.y;if(l||h){if(u.bullet){for(var s in k){t=v.getAABB(k[s]);m=Math.min(m,t.width);A=Math.min(A,t.height)}w=Math.ceil(Math.max(Math.abs(l)/m,Math.abs(h)/A));w=Math.min(w,100);q=l/w;p=h/w}else{w=1;q=l;p=h}for(n=0;n<w;n++){v.prepareCollision(u.previousX+q,u.previousY+p);o.x=u.x;o.y=u.y;o=this.processCollisionStep(u,v,y,r,o,q,p,k);if((o.x===u.previousX)&&(o.y===u.previousY)){v.relocateEntity(o.x,o.y,r);break}else{v.relocateEntity(o.x,o.y,r)}}}return o},processCollisionStep:(function(){var h=new a.classes.aABB(),i=function(l,k,o,q,p){var n=o.getAABB(q);if(o===l){return false}else{if(o.jumpThrough&&(k.bottom>n.top)){return false}else{if(l.jumpThrough&&(n.bottom>k.top)){return false}else{if(p){for(var m=0;m<p.length;m++){if(o===p[m]){return false}}}}}}return true};return function(F,n,E,p,D,H,G,K){var l=false;var k=[];var u=null;var J=null;var x=null;var o=null;var A="";var s=null;var C=this.getWorldEntities();var I=null;var m=this.getWorldTerrain(),v=n.getSolidCollisions();if(!n.jumpThrough||(G>=0)){for(var B=0;B<K.length;B++){k[B]=[];x=K[B];u=n.getPreviousAABB(x);J=n.getAABB(x);h.reset();h.include(J);h.include(u);for(var t=0;t<v[x].length;t++){A=v[x][t];if(C[A]){I=C[A];for(var r=0;r<I.length;r++){o=I[r];if(i(F,u,o,A,E)&&(f(h,o.getAABB(A)))){s=o.getShapes(A);for(var w=0;w<s.length;w++){k[B].push(s[w])}l=true}}}else{if(m&&(A==="tiles")){s=m.getTileShapes(h,u);for(var w=0;w<s.length;w++){k[B].push(s[w]);l=true}}}}}if(l){D=this.resolveCollisionPosition(F,n,D,k,p,K,H,G)}}return D}})(),resolveCollisionPosition:(function(){var h=new a.classes.collisionData();return function(p,q,m,r,o,k,l,i){if(l!=0){for(var n=0;n<k.length;n++){h.clear();h=this.findMinAxisMovement(p,q,k[n],"x",r[n],h);if(h.occurred){o.tryToAddX(h)}}}if(o.xCount>0){h.copy(o.getXEntry(0));m.x=p.previousX+h.deltaMovement*h.direction}else{m.x=p.x}q.movePreviousX(m.x);if(i!=0){for(var n=0;n<k.length;n++){h.clear();h=this.findMinAxisMovement(p,q,k[n],"y",r[n],h);if(h.occurred){o.tryToAddY(h)}}}if(o.yCount>0){h.copy(o.getYEntry(0));m.y=p.previousY+h.deltaMovement*h.direction}else{m.y=p.y}return m}})(),findMinAxisMovement:(function(){var h=new a.classes.collisionData();return function(q,r,m,l,s,p){var k=r.getShapes(m);var o=r.getPrevShapes(m);for(var n=0;n<k.length;n++){h.clear();h=this.findMinShapeMovementCollision(o[n],k[n],l,s,h);if(h.occurred&&!p.occurred){p.copy(h)}else{if(h.occurred&&p.occurred&&(h.deltaMovement<p.deltaMovement)){p.copy(h)}}}return p}})(),findMinShapeMovementCollision:(function(){var i=function(q,p,k,m,o,n,l){q.occurred=true;q.direction=p;q.position=k;q.deltaMovement=Math.abs(k-m);q.aABB=n.getAABB();q.thisShape=o;q.thatShape=n;q.vector=l.copy()},h=(function(){var k=new a.classes.vector2D(),n={position:0,contactVector:k},q=function(s,r){return Math.sqrt(Math.pow(r,2)-Math.pow(s,2))},m=function(t,r,s){var u=t-r;return u-(u/Math.abs(u))*s},o=function(r,s,t){if(r==="x"){return t.halfWidth+s.halfWidth}else{if(r==="y"){return t.halfHeight+s.halfHeight}}},p=function(s,v,t,r,u){var w=0;if(s==="x"){if(v.y>=t.aABB.top&&v.y<=t.aABB.bottom){return t.aABB.halfWidth+v.radius}else{k.y=m(v.y,t.y,t.aABB.halfHeight);w=t.aABB.halfWidth+q(k.y,v.radius);if(r===v){k.x=-m(v.x-u*w,t.x,t.aABB.halfWidth)/2;k.y=-k.y}else{k.x=m(v.x,t.x-u*w,t.aABB.halfWidth)/2}k.normalize();return w}}else{if(s==="y"){if(v.x>=t.aABB.left&&v.x<=t.aABB.right){return t.aABB.halfHeight+v.radius}else{k.x=m(v.x,t.x,t.aABB.halfWidth);w=t.aABB.halfHeight+q(k.x,v.radius);if(r===v){k.x=-k.x;k.y=-m(v.y-u*w,t.y,t.aABB.halfWidth)/2}else{k.y=m(v.y,t.y-u*w,t.aABB.halfWidth)/2}k.normalize();return w}}}},l=function(r,t,s){if(r==="x"){return q(t.y-s.y,t.radius+s.radius)}else{if(r==="y"){return q(t.x-s.x,t.radius+s.radius)}}};return function(r,u,t,s){if(t.type=="rectangle"){if(s.type=="rectangle"){n.position=s[r]-u*o(r,t.getAABB(),s.getAABB());k.x=0;k.y=0;k[r]=u;return n}else{if(s.type=="circle"){k.x=0;k.y=0;k[r]=u;n.position=s[r]-u*p(r,s,t,t,u);return n}}}else{if(t.type=="circle"){if(s.type=="rectangle"){k.x=0;k.y=0;k[r]=u;n.position=s[r]-u*p(r,t,s,t,u);return n}else{if(s.type=="circle"){n.position=s[r]-u*l(r,t,s);k.x=s.x-t.x;k.y=s.y-t.y;k[r]=s[r]-n.position;k.normalize();return n}}}}}})();return function(n,q,m,r,k){var v=n[m];var t=q[m];var l=n;var s=(v<t)?1:-1;var p=t;var u=null;var w=t;if(v!=t){if(m==="x"){l.moveX(t)}else{if(m==="y"){l.moveY(t)}}for(var o=0;o<r.length;o++){p=t;if(f(l.getAABB(),r[o].getAABB())){if(c(l,r[o])){u=h(m,s,l,r[o]);p=u.position;if(s>0){if(p<w){if(p<v){p=v}w=p;i(k,s,w,v,q,r[o],u.contactVector)}}else{if(p>w){if(p>v){p=v}w=p;i(k,s,w,v,q,r[o],u.contactVector)}}}}}}return k}})(),checkSoftCollisions:function(k){var h=0,i=this;for(h=0;h<this.softEntitiesLive.length;h++){this.checkEntityForSoftCollisions(this.softEntitiesLive[h],this.getWorldEntities(),function(l){i.softEntitiesLive[h].trigger("hit-by-"+l.type,l)})}},checkEntityForSoftCollisions:function(s,A,x){var B=undefined,C=b,o=0,n=0,m=0,v=0,u=0,l=f,r=null,q=null,w=null,h=null,t=null,p=false;C.x=0;C.y=0;for(o=0;o<s.collisionTypes.length;o++){r=s.softCollisions[s.collisionTypes[o]];for(v=0;v<r.length;v++){w=r[v];q=A[w];if(q){for(u=0;u<q.length;u++){p=false;B=q[u];if((B!==s)&&(l(s.getAABB(s.collisionTypes[o]),B.getAABB(w)))){h=s.getShapes(s.collisionTypes[o]);t=B.getShapes(w);for(n=0;n<h.length;n++){for(m=0;m<t.length;m++){if(c(h[n],t[m])){C.entity=B;C.type=w;C.myType=s.collisionTypes[o];C.shape=t[m];C.hitType="soft";x(C);p=true}if(p){break}}if(p){break}}}}}}}},destroy:function(){this.solidEntities.length=0;this.softEntities.length=0;for(var h in this.entitiesByType){this.entitiesByType[h].length=0}}},publicMethods:{getWorldEntities:function(){return this.entitiesByTypeLive},getWorldTerrain:function(){return this.terrain},getEntityCollisions:function(h,k){var i=[];this.checkEntityForSoftCollisions(h,k||this.entitiesByTypeLive,function(n){var l="",m={};for(l in n){m[l]=n[l]}i.push(m)});return i}}})})();a.components["handler-controller"]=(function(){var b=function(h,g){return function(k){if(k.released){h+=":up"}else{if(k.pressed){h+=":down"}}for(var i=0;i<g.entities.length;i++){g.entities[i].trigger(h,k)}}};var f=function(h,g){return function(k){for(var i=0;i<g.entities.length;i++){g.entities[i].trigger(h,k)}}};var e={kc0:"unknown",kc8:"backspace",kc9:"tab",kc12:"numpad-5-shift",kc13:"enter",kc16:"shift",kc17:"ctrl",kc18:"alt",kc19:"pause",kc20:"caps-lock",kc27:"esc",kc32:"space",kc33:"page-up",kc34:"page-down",kc35:"end",kc36:"home",kc37:"left-arrow",kc38:"up-arrow",kc39:"right-arrow",kc40:"down-arrow",kc42:"numpad-multiply",kc43:"numpad-add",kc44:"print-screen",kc45:"insert",kc46:"delete",kc47:"numpad-division",kc48:"0",kc49:"1",kc50:"2",kc51:"3",kc52:"4",kc53:"5",kc54:"6",kc55:"7",kc56:"8",kc57:"9",kc59:"semicolon",kc61:"equals",kc65:"a",kc66:"b",kc67:"c",kc68:"d",kc69:"e",kc70:"f",kc71:"g",kc72:"h",kc73:"i",kc74:"j",kc75:"k",kc76:"l",kc77:"m",kc78:"n",kc79:"o",kc80:"p",kc81:"q",kc82:"r",kc83:"s",kc84:"t",kc85:"u",kc86:"v",kc87:"w",kc88:"x",kc89:"y",kc90:"z",kc91:"left-windows-start",kc92:"right-windows-start",kc93:"windows-menu",kc96:"back-quote",kc106:"numpad-multiply",kc107:"numpad-add",kc109:"numpad-minus",kc110:"numpad-period",kc111:"numpad-division",kc112:"f1",kc113:"f2",kc114:"f3",kc115:"f4",kc116:"f5",kc117:"f6",kc118:"f7",kc119:"f8",kc120:"f9",kc121:"f10",kc122:"f11",kc123:"f12",kc144:"num-lock",kc145:"scroll-lock",kc186:"semicolon",kc187:"equals",kc188:"comma",kc189:"hyphen",kc190:"period",kc191:"forward-slash",kc192:"back-quote",kc219:"open-bracket",kc220:"back-slash",kc221:"close-bracket",kc222:"quote"};var c=function(g,h){this.owner=g;this.entities=[];this.listeners=[];this.addListeners(["tick","child-entity-added","child-entity-updated","check-inputs","keydown","keyup"]);this.timeElapsed={name:"Controller",time:0}};var d=c.prototype;d.keydown=function(h){for(var g=0;g<this.entities.length;g++){this.entities[g].trigger("key:"+(e["kc"+h.keyCode]||("key-code-"+h.keyCode))+":down",h)}};d.keyup=function(h){for(var g=0;g<this.entities.length;g++){this.entities[g].trigger("key:"+(e["kc"+h.keyCode]||("key-code-"+h.keyCode))+":up",h)}};d.tick=d["check-inputs"]=function(i){var h=new Date().getTime();for(var g=this.entities.length-1;g>-1;g--){if(!this.entities[g].trigger("handle-controller",i)){this.entities.splice(g,1)}}this.timeElapsed.time=new Date().getTime()-h;a.game.currentScene.trigger("time-elapsed",this.timeElapsed)};d["child-entity-added"]=d["child-entity-updated"]=function(h){var k=h.getMessageIds(),m=false;for(var g=0;g<k.length;g++){if(k[g]=="handle-controller"){for(var i=0;i<this.entities.length;i++){if(this.entities[i]==h){m=true;break}}if(!m){if(h.controlMap){for(var l in h.controlMap){if((l.indexOf("key:")<0)&&(l.indexOf("mouse:")<0)){if(!this[l]){this.addListeners([l,l+":up",l+":down"]);this[l]=b(l,this);this[l+":up"]=f(l+":up",this);this[l+":down"]=f(l+":down",this)}}}}this.entities.push(h);h.trigger("controller-load")}break}}};d.destroy=function(){this.removeListeners(this.listeners);this.entities.length=0;this.owner=undefined};d.addListeners=function(h){for(var g in h){this.addListener(h[g])}};d.removeListeners=function(h){for(var g in h){this.removeListener(g,h[g])}};d.addListener=function(h,k){var g=this,i=k||function(m,l){g[h](m,l)};this.owner.bind(h,i);this.listeners[h]=i};d.removeListener=function(g,h){this.owner.unbind(g,h)};return c})();(function(){var b=function(f){var e=!!(536870912&f),d=!!(1073741824&f),g=!!(2147483648&f);if(e&&g){return -3}else{if(e){return -5}else{if(d){return -4}else{return -2}}}};return a.createComponentClass({id:"tiled-loader",constructor:function(c){this.entities=[];this.layerZ=0;this.followEntity=false;this.manuallyLoad=c.manuallyLoad||false;this.level=this.owner.level||c.level||null;this.unitsPerPixel=this.owner.unitsPerPixel||c.unitsPerPixel||1;this.images=this.owner.images||c.images||false;this.imagesScale=this.owner.imagesScale||c.imagesScale||this.unitsPerPixel;this.layerZStep=this.owner.zStep||c.zStep||1000;this.separateTiles=this.owner.separateTiles||c.separateTiles||false;this.entityPositionX=this.owner.entityPositionX||c.entityPositionX||"center";this.entityPositionY=this.owner.entityPositionY||c.entityPositionY||"bottom"},events:{"scene-loaded":function(c){if(!this.manuallyLoad){this["load-level"]({level:this.level||c.level,persistentData:c})}},"load-level":function(e){var f=e.level,d=0,c=false;if(typeof f==="string"){f=a.game.settings.levels[f]}for(;d<f.layers.length;d++){c=this.setupLayer(f.layers[d],f,c);if(this.separateTiles){c=false}}this.owner.trigger("world-loaded",{width:f.width*f.tilewidth*this.unitsPerPixel,height:f.height*f.tileheight*this.unitsPerPixel,camera:this.followEntity});this.owner.removeComponent(this)}},methods:{setupLayer:function(D,d,l){var v=this,p=v.images||[],A=d.tilesets,c=d.tilewidth,m=d.tileheight,g=0,s=0,C=(A[A.length-1].imagewidth/c)*(A[A.length-1].imageheight/m)+A[A.length-1].firstgid,o=0,n=0,r=0,q=null,h=null,w="",u=null,i=null,f=true,t=false,k=function(Q){var e=D.width,O=D.height,G=null,E=null,N=null,H=null,M=false,F=null,P=null,I=0;G=JSON.parse(JSON.stringify(a.game.settings.entities[Q]));E={};N=[];H=[];if(Q==="collision-layer"){P=[];for(var L=0;L<A.length;L++){F=A[L];if(F.tileproperties){for(var K in F.tileproperties){if(F.tileproperties[K].jumpThrough){P.push(F.firstgid+ +K-1)}}}}}G.properties=G.properties||{};G.properties.width=c*e*v.unitsPerPixel;G.properties.height=m*O*v.unitsPerPixel;G.properties.columns=e;G.properties.rows=O;G.properties.tileWidth=c*v.unitsPerPixel;G.properties.tileHeight=m*v.unitsPerPixel;G.properties.scaleX=v.imagesScale;G.properties.scaleY=v.imagesScale;G.properties.layerZ=v.layerZ;G.properties.z=v.layerZ;for(L=0;L<C;L++){E["tile"+L]=L}for(L=0;L<e;L++){N[L]=[];H[L]=[];for(K=0;K<O;K++){I=+D.data[L+K*e]-1;H[L][K]="tile"+I;if(P){for(var J=0;J<P.length;J++){if(P[J]===(268435455&I)){I=b(I)}break}}N[L][K]=I}}for(L=0;L<G.components.length;L++){if(G.components[L].type==="render-tiles"){M=G.components[L]}if(G.components[L].spriteSheet=="import"){G.components[L].spriteSheet={images:p,frames:{width:c*v.unitsPerPixel/v.imagesScale,height:m*v.unitsPerPixel/v.imagesScale},animations:E}}if(G.components[L].collisionMap=="import"){G.components[L].collisionMap=N}if(G.components[L].imageMap=="import"){G.components[L].imageMap=H}}v.layerZ+=v.layerZStep;if((Q==="render-layer")&&l){l.trigger("add-tiles",M);return l}else{return v.owner.addEntity(new a.classes.entity(G,{properties:{}}))}};if(p.length==0){for(o=0;o<A.length;o++){if(a.assets[A[o].name]){p.push(a.assets[A[o].name])}else{console.warn('Component tiled-loader: Cannot find the "'+A[o].name+'" sprite sheet. Add it to the list of assets in config.json and give it the id "'+A[o].name+'".');p.push(A[o].image)}}}else{p=p.slice();for(o=0;o<p.length;o++){if(a.assets[p[o]]){p[o]=a.assets[p[o]]}}}if(D.type=="tilelayer"){q="render-layer";if(D.properties&&D.properties.entity){q=D.properties.entity}else{switch(D.name){case"collision":q="collision-layer";break;case"action":q="tile-layer";for(o=0;o<d.layers.length;o++){if(d.layers[o].name==="collision"||(d.layers[o].properties&&d.layers[o].properties.entity==="collision-layer")){f=false}}if(!f){q="render-layer"}break}}if(q==="tile-layer"){k("collision-layer");return k("render-layer",l)}else{if(q==="collision-layer"){k(q,l)}else{return k(q,l)}}}else{if(D.type=="objectgroup"){for(r=0;r<D.objects.length;r++){q=D.objects[r];for(o=0;o<A.length;o++){if(A[o].firstgid>q.gid){break}else{u=A[o]}}w="";if(q.type!==""){w=q.type}else{if(q.name!==""){w=q.name}else{if(u.tileproperties[q.gid-u.firstgid]){if(u.tileproperties[q.gid-u.firstgid].entity){w=u.tileproperties[q.gid-u.firstgid].entity}else{if(u.tileproperties[q.gid-u.firstgid].type){w=u.tileproperties[q.gid-u.firstgid].type}}}}}if(w!==""){i={};if(u.tileproperties&&u.tileproperties[q.gid-u.firstgid]){for(o in u.tileproperties[q.gid-u.firstgid]){t=parseFloat(u.tileproperties[q.gid-u.firstgid][o]);if(t==0||(!!t)){i[o]=t}else{if(u.tileproperties[q.gid-u.firstgid][o]=="true"){i[o]=true}else{if(u.tileproperties[q.gid-u.firstgid][o]=="false"){i[o]=false}else{i[o]=u.tileproperties[q.gid-u.firstgid][o]}}}}}for(o in q.properties){h=q.properties[o];if(typeof h==="string"){t=parseFloat(h);if(t==0||(!!t)){i[o]=t}else{if(h=="true"){i[o]=true}else{if(h=="false"){i[o]=false}else{if((h.length>2)&&(((h[0]==="{")&&(h[h.length-1]==="}"))||((h[0]==="[")&&(h[h.length-1]==="]")))){try{i[o]=JSON.parse(h)}catch(B){i[o]=h}}else{i[o]=h}}}}}else{i[o]=h}}g=i.width=(q.width||c)*this.unitsPerPixel;s=i.height=(q.height||m)*this.unitsPerPixel;if(w&&a.game.settings.entities[w]&&a.game.settings.entities[w].properties){i.width=a.game.settings.entities[w].properties.width||i.width;i.height=a.game.settings.entities[w].properties.height||i.height}i.x=q.x*this.unitsPerPixel;if(this.entityPositionX==="left"){i.regX=0}else{if(this.entityPositionX==="center"){i.regX=i.width/2;i.x+=g/2}else{if(this.entityPositionX==="right"){i.regX=i.width;i.x+=g}}}i.y=q.y*this.unitsPerPixel;if(typeof q.gid==="undefined"){i.y+=i.height}if(this.entityPositionY==="bottom"){i.regY=i.height}else{if(this.entityPositionY==="center"){i.regY=i.height/2;i.y-=s/2}else{if(this.entityPositionY==="top"){i.regY=0;i.y-=s}}}i.scaleX=this.imagesScale;i.scaleY=this.imagesScale;i.layerZ=this.layerZ;if(i.z){i.z+=this.layerZ}else{if(w&&a.game.settings.entities[w]&&a.game.settings.entities[w].properties&&a.game.settings.entities[w].properties.z){i.z=this.layerZ+a.game.settings.entities[w].properties.z}else{i.z=this.layerZ}}i.parent=this.owner;q=this.owner.addEntity(new a.classes.entity(a.game.settings.entities[w],{properties:i}));if(q){if(q.camera){this.followEntity={entity:q,mode:q.camera}}}}}this.layerZ+=this.layerZStep;return false}}},destroy:function(){this.entities.length=0}}})})();(function(){var b=navigator.userAgent.toLowerCase(),c=(b.indexOf("android 4.1")>-1)||(b.indexOf("android 4.2")>-1)||false;return a.createComponentClass({id:"handler-render-createjs",constructor:function(e){var d=this;this.entities=[];this.canvas=this.owner.canvas=document.createElement("canvas");this.owner.canvasParent=null;if(this.owner.element){this.owner.canvasParent=this.owner.element;this.owner.element.appendChild(this.canvas)}else{this.owner.canvasParent=this.owner.rootElement;this.owner.rootElement.appendChild(this.canvas);this.owner.element=this.canvas}this.stage=new createjs.Stage(this.canvas);if(e.autoClear!==true){this.stage.autoClear=false}if(e.acceptInput){if(e.acceptInput.click||e.acceptInput.touch){this.setupInput(e.acceptInput.touch,e.acceptInput.movement,e.acceptInput.camera)}}this.camera={left:0,top:0,width:0,height:0,bufferLeft:e.bufferLeft||e.bufferWidth||e.buffer||-1,bufferRight:e.bufferRight||e.bufferWidth||e.buffer||-1,bufferTop:e.bufferTop||e.bufferHeight||e.buffer||-1,bufferBottom:e.bufferBottom||e.bufferHeight||e.buffer||-1};this.timeElapsed={name:"Render",time:0};this.renderMessage={delta:0,stage:this.stage}},events:{"child-entity-added":function(f){var e=this,g=f.getMessageIds();for(var d=0;d<g.length;d++){if((g[d]=="handle-render")||(g[d]=="handle-render-load")){this.entities.push(f);f.trigger("handle-render-load",{stage:e.stage,parentElement:e.owner.rootElement});break}}},"pause-render":function(d){if(d&&d.time){this.paused=d.time}else{this.paused=-1}},"unpause-render":function(){this.paused=0},tick:(function(){var d=function(f,e){return f.z-e.z};return function(h){var i=undefined,g=new Date().getTime(),f=this.renderMessage;f.delta=h.delta;if(this.paused>0){this.paused-=h.delta;if(this.paused<0){this.paused=0}}for(var e=this.entities.length-1;e>-1;e--){if(!this.entities[e].trigger("handle-render",f)){this.entities.splice(e,1)}}if(this.stage){for(var e=this.stage.children.length-1;e>-1;e--){i=this.stage.children[e];if(i.hidden){if(i.visible){i.visible=false}}else{if(i.name!=="entity-managed"){if((i.x>=this.camera.x-this.camera.bufferLeft)&&(i.x<=this.camera.x+this.camera.width+this.camera.bufferRight)&&(i.y>=this.camera.y-this.camera.bufferTop)&&(i.y<=this.camera.y+this.camera.height+this.camera.bufferBottom)){if(!i.visible){i.visible=true}}else{if(i.visible){i.visible=false}}}}if(i.visible){if(i.paused&&!this.paused){i.paused=false}else{if(this.paused){i.paused=true}}}if(!i.scaleX||!i.scaleY||(this.children&&!this.children.length)){console.log("uh oh",i)}}if(this.stage.reorder){this.stage.reorder=false;this.stage.sortChildren(d)}this.timeElapsed.name="Render-Prep";this.timeElapsed.time=new Date().getTime()-g;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);g+=this.timeElapsed.time;this.stage.update(h);this.timeElapsed.name="Render";this.timeElapsed.time=new Date().getTime()-g;a.game.currentScene.trigger("time-elapsed",this.timeElapsed)}}})(),"camera-update":function(e){var d=(window.devicePixelRatio||1);this.camera.x=e.viewportLeft;this.camera.y=e.viewportTop;this.camera.width=e.viewportWidth;this.camera.height=e.viewportHeight;if(this.camera.bufferLeft==-1){this.camera.bufferLeft=this.camera.width/12}if(this.camera.bufferRight==-1){this.camera.bufferRight=this.camera.width/12}if(this.camera.bufferTop==-1){this.camera.bufferTop=this.camera.width/12}if(this.camera.bufferBottom==-1){this.camera.bufferBottom=this.camera.width/12}this.canvas.width=this.canvas.offsetWidth*d;this.canvas.height=this.canvas.offsetHeight*d;this.stage.setTransform(-e.viewportLeft*e.scaleX*d,-e.viewportTop*e.scaleY*d,e.scaleX*d,e.scaleY*d);if(this.moveMouse){this.moveMouse(e)}}},methods:{setupInput:(function(){return function(n,h,m){var o=this,d=null,l=0,k=0,g=function(p){d=p;l=p.stageX/o.stage.scaleX+o.camera.x;k=p.stageY/o.stage.scaleY+o.camera.y},e=function(p){g(p);o.owner.trigger("mousedown",{event:p.nativeEvent,x:l,y:k,entity:o.owner});if(m){o.moveMouse=function(){g(d);o.owner.trigger("mousemove",{event:p.nativeEvent,x:l,y:k,entity:o.owner})}}},f=function(p){g(p);o.owner.trigger("mouseup",{event:p.nativeEvent,x:l,y:k,entity:o.owner});if(m){o.moveMouse=null}},i=function(p){g(p);if(h||p.nativeEvent.which||p.nativeEvent.touches){o.owner.trigger("mousemove",{event:p.nativeEvent,x:l,y:k,entity:o.owner})}};if(n&&createjs.Touch.isSupported()){createjs.Touch.enable(this.stage)}this.stage.addEventListener("stagemousedown",e);this.stage.addEventListener("stagemouseup",f);this.stage.addEventListener("stagemousemove",i);this.removeStageListeners=function(){this.stage.removeEventListener("stagemousedown",e);this.stage.removeEventListener("stagemouseup",f);this.stage.removeEventListener("stagemousemove",i)}}})(),destroy:function(){if(this.removeStageListeners){this.removeStageListeners()}this.stage=undefined;this.owner.canvasParent.removeChild(this.canvas);this.owner.canvasParent=null;this.owner.element=null;this.canvas=undefined;this.entities.length=0}}})})();a.components["handler-render-dom"]=(function(){var b=function(d,g){this.owner=d;this.entities=[];this.listeners=[];this.addListeners(["tick","child-entity-added","render"]);this.element=this.owner.element=document.createElement("div");this.owner.rootElement.appendChild(this.element);this.owner.element=this.element;for(var f in g){if(f==="style"){for(var e in g[f]){this.element.style[e]=g[f][e]}}else{if(f!=="type"){if(f.indexOf("on")===0){this.element[f]=createFunction(g[f],this.owner)}else{this.element[f]=g[f]}}}}},c=b.prototype;c["child-entity-added"]=function(f){var e=this,g=f.getMessageIds();for(var d=0;d<g.length;d++){if((g[d]=="handle-render")||(g[d]=="handle-render-load")){this.entities.push(f);f.trigger("handle-render-load",{element:e.element});break}}};c.tick=c.render=function(e){for(var d=this.entities.length-1;d>-1;d--){if(!this.entities[d].trigger("handle-render",e)){this.entities.splice(d,1)}}};c.destroy=function(){this.removeListeners(this.listeners);this.owner.rootElement.removeChild(this.element);this.owner.element=null;this.element=undefined;this.entities.length=0;this.owner=undefined};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();a.components["handler-ai"]=(function(){var b=function(d,e){this.owner=d;this.entities=[];this.listeners=[];this.addListeners(["child-entity-added","tick"])};var c=b.prototype;c["child-entity-added"]=function(f){var e=this,g=f.getMessageIds();for(var d=0;d<g.length;d++){if(g[d]=="handle-ai"){this.entities.push(f);break}}};c.tick=function(e){for(var d=this.entities.length-1;d>-1;d--){if(!this.entities[d].trigger("handle-ai",e)){this.entities.splice(d,1)}}};c.destroy=function(){this.removeListeners(this.listeners)};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();(function(){var b=function(c){var d=null,e=false;for(d in c.state){if(c.state[d]!==c.lastState[d]){c.lastState[d]=c.state[d];e=true}}return e};return a.createComponentClass({id:"handler-logic",constructor:function(c){this.entities=[];this.activeEntities=this.entities;this.paused=0;this.stepLength=c.stepLength||30;this.leftoverTime=0;this.maximumStepsPerTick=10;this.camera={left:0,top:0,width:0,height:0,bufferLeft:c.bufferLeft||c.bufferWidth||c.buffer||-1,bufferRight:c.bufferRight||c.bufferWidth||c.buffer||-1,bufferTop:c.bufferTop||c.bufferHeight||c.buffer||-1,bufferBottom:c.bufferBottom||c.bufferHeight||c.buffer||-1,active:false};this.message={delta:this.stepLength,tick:null,camera:this.camera,movers:this.activeEntities};this.timeElapsed={name:"Logic",time:0}},events:{"child-entity-added":function(d){var e=d.getMessageIds();for(var c=0;c<e.length;c++){if(e[c]=="handle-logic"){this.entities.push(d);this.updateNeeded=this.camera.active;break}}},"pause-logic":function(c){if(c&&c.time){this.paused=c.time}else{this.paused=-1}},"unpause-logic":function(){this.paused=0},"camera-update":function(c){this.camera.left=c.viewportLeft;this.camera.top=c.viewportTop;this.camera.width=c.viewportWidth;this.camera.height=c.viewportHeight;if(this.camera.bufferLeft==-1){this.camera.bufferLeft=this.camera.width/10}if(this.camera.bufferRight==-1){this.camera.bufferRight=this.camera.width/10}if(this.camera.bufferTop==-1){this.camera.bufferTop=this.camera.width/10}if(this.camera.bufferBottom==-1){this.camera.bufferBottom=this.camera.width/10}this.camera.active=true;this.updateNeeded=true},tick:function(h){var g=0,l=undefined,f=new Date().getTime();this.leftoverTime+=h.delta;g=Math.floor(this.leftoverTime/this.stepLength)||1;this.message.delta=Math.min(this.leftoverTime,this.stepLength);this.leftoverTime=Math.max(this.leftoverTime-(g*this.stepLength),0);if(this.paused>0){this.paused-=h.delta;if(this.paused<0){this.paused=0}}if(!this.paused){if(!this.message.tick){this.message.tick=h}if(this.activeEntities===this.entities){this.message.movers=this.activeEntities=[]}this.activeEntities.length=0;for(var d=this.entities.length-1;d>-1;d--){l=this.entities[d];if(l.alwaysOn||(typeof l.x==="undefined")||((l.x>=this.camera.left-this.camera.bufferLeft)&&(l.x<=this.camera.left+this.camera.width+this.camera.bufferRight)&&(l.y>=this.camera.top-this.camera.bufferTop)&&(l.y<=this.camera.top+this.camera.height+this.camera.bufferBottom))){this.activeEntities.push(l)}}g=Math.min(g,this.maximumStepsPerTick);for(var e=0;e<g;e++){for(var d=this.activeEntities.length-1;d>-1;d--){l=this.activeEntities[d];if(l.triggerEvent("handle-logic",this.message)){if(b(l)){l.trigger("logical-state",l.state)}l.checkCollision=true}else{for(var c=this.entities.length-1;c>-1;c--){if(this.entities[c]===this.activeEntities[d]){this.entities.splice(c,1);this.updateNeeded=this.camera.active;break}}}}this.timeElapsed.name="Logic";this.timeElapsed.time=new Date().getTime()-f;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);f+=this.timeElapsed.time;this.owner.trigger("check-collision-group",this.message);this.timeElapsed.name="Collision";this.timeElapsed.time=new Date().getTime()-f;a.game.currentScene.trigger("time-elapsed",this.timeElapsed);f+=this.timeElapsed.time}}this.timeElapsed.time=new Date().getTime()-f;a.game.currentScene.trigger("time-elapsed",this.timeElapsed)}}})})();(function(){var b=function(c){c.window.viewportTop=c.element.offsetTop;c.window.viewportLeft=c.element.offsetLeft;c.window.viewportWidth=c.element.offsetWidth||c.worldWidth;c.window.viewportHeight=c.element.offsetHeight||c.worldHeight;if(c.scaleWidth){c.world.viewportWidth=c.window.viewportWidth/Math.ceil(c.window.viewportWidth/c.scaleWidth)}if(!c.stretch||c.scaleWidth){c.world.viewportHeight=c.window.viewportHeight*c.world.viewportWidth/c.window.viewportWidth}c.worldPerWindowUnitWidth=c.world.viewportWidth/c.window.viewportWidth;c.worldPerWindowUnitHeight=c.world.viewportHeight/c.window.viewportHeight;c.windowPerWorldUnitWidth=c.window.viewportWidth/c.world.viewportWidth;c.windowPerWorldUnitHeight=c.window.viewportHeight/c.world.viewportHeight;c.windowResized=true};return a.createComponentClass({id:"camera",constructor:function(c){this.entities=[];this.stretch=c.stretch||false;this.transitionX=c.transitionX||c.transition;this.transitionY=c.transitionY||c.transition;if(isNaN(this.transitionX)){this.transitionX=400}if(isNaN(this.transitionY)){this.transitionY=600}this.threshold=c.threshold||1;this.element=null;this.window={viewportTop:0,viewportLeft:0,viewportWidth:0,viewportHeight:0};this.world={viewportWidth:c.width||0,viewportHeight:c.height||0,viewportLeft:c.left||0,viewportTop:c.top||0};this.message={viewportWidth:0,viewportHeight:0,viewportLeft:0,viewportTop:0,scaleX:0,scaleY:0};this.scaleWidth=c.scaleWidth||0;this.worldIsLoaded=false;this.worldWidth=c.worldWidth||c.width||0;this.worldHeight=c.worldHeight||c.height||0;this.following=undefined;this.state="static";this.bBBorderX=0;this.bBBorderY=0;this.bBInnerWidth=0;this.bBInnerHeight=0;this.setBoundingArea();this.lastLeft=this.world.viewportLeft;this.lastTop=this.world.viewportTop;this.forwardX=0;this.forwardY=0;this.averageOffsetX=0;this.averageOffsetY=0;this.offsetX=0;this.offsetY=0;this.forwardFollower={x:this.lastLeft,y:this.lastTop};this.lastFollow={entity:null,mode:null,offsetX:0,offsetY:0,begin:0};this.direction=true;this.stationary=false;this.newChild=false},events:{load:function(){this.element=this.owner.canvas||this.owner.element||this.owner.rootElement;this.resize()},"child-entity-added":function(d){var e=d.getMessageIds();for(var c=0;c<e.length;c++){if(e[c]=="camera-update"){this.entities.push(d);this.newChild=true;if(this.worldIsLoaded){d.trigger("camera-loaded",{width:this.worldWidth,height:this.worldHeight})}break}}},"child-entity-removed":function(d){var c=0;for(c in this.entities){if(this.entities[c]===d){this.entities.splice(c,1);break}}},"world-loaded":function(d){this.worldIsLoaded=true;this.worldWidth=this.owner.worldWidth=d.width;this.worldHeight=this.owner.worldHeight=d.height;if(d.camera){this.follow(d.camera)}for(var c=this.entities.length-1;c>-1;c--){this.entities[c].trigger("camera-loaded",d)}},tick:function(e){var d=this.newChild;this.newChild=false;switch(this.state){case"following":d=this.followingFunction(this.following,e.delta);break;case"static":default:break}if(d||this.windowResized){this.stationary=false;this.message.viewportLeft=this.world.viewportLeft;this.message.viewportTop=this.world.viewportTop;this.message.viewportWidth=this.world.viewportWidth;this.message.viewportHeight=this.world.viewportHeight;this.message.scaleX=this.windowPerWorldUnitWidth;this.message.scaleY=this.windowPerWorldUnitHeight;this.windowResized=false;this.owner.trigger("camera-update",this.message);if(d){for(var c=this.entities.length-1;c>-1;c--){if(!this.entities[c].trigger("camera-update",this.message)){this.entities.splice(c,1)}}}}else{if(!this.stationary){this.owner.trigger("camera-stationary",this.message);this.stationary=true}}if(this.lastFollow.begin){if(this.lastFollow.begin<new Date().getTime()){this.follow(this.lastFollow)}}},resize:function(){b(this)},orientationchange:function(){b(this)},follow:function(c){if(c.time){if(!this.lastFollow.begin){this.lastFollow.entity=this.following;this.lastFollow.mode=this.mode;this.lastFollow.offsetX=this.offsetX;this.lastFollow.offsetY=this.offsetY}this.lastFollow.begin=new Date().getTime()+c.time}else{if(this.lastFollow.begin){this.lastFollow.begin=0}}this.mode=c.mode;switch(c.mode){case"locked":this.state="following";this.following=c.entity;this.followingFunction=this.lockedFollow;this.offsetX=c.offsetX||0;this.offsetY=c.offsetY||0;break;case"forward":this.state="following";this.followFocused=false;this.following=c.entity;this.lastLeft=c.entity.x||0;this.lastTop=c.entity.y||0;this.forwardX=c.movementX||(this.transitionX/10);this.forwardY=c.movementY||0;this.averageOffsetX=0;this.averageOffsetY=0;this.offsetX=c.offsetX||0;this.offsetY=c.offsetY||0;this.followingFunction=this.forwardFollow;break;case"bounding":this.state="following";this.following=c.entity;this.offsetX=c.offsetX||0;this.offsetY=c.offsetY||0;this.setBoundingArea(c.top,c.left,c.width,c.height);this.followingFunction=this.boundingFollow;break;case"static":default:this.state="static";this.following=undefined;this.followingFunction=undefined;if(c&&(typeof c.top==="number")&&(typeof c.left==="number")){this.move(c.left,c.top)}break}if(c.begin){c.begin=0}}},methods:{move:function(e,c){var d=this.moveLeft(e);d=this.moveTop(c)||d;return d},moveLeft:function(c){if(Math.abs(this.world.viewportLeft-c)>this.threshold){if(this.worldWidth<this.world.viewportWidth){this.world.viewportLeft=(this.worldWidth-this.world.viewportWidth)/2}else{if(this.worldWidth&&(c+this.world.viewportWidth>this.worldWidth)){this.world.viewportLeft=this.worldWidth-this.world.viewportWidth}else{if(this.worldWidth&&(c<0)){this.world.viewportLeft=0}else{this.world.viewportLeft=c}}}return true}return false},moveTop:function(c){if(Math.abs(this.world.viewportTop-c)>this.threshold){if(this.worldHeight<this.world.viewportHeight){this.world.viewportTop=(this.worldHeight-this.world.viewportHeight)/2}else{if(this.worldHeight&&(c+this.world.viewportHeight>this.worldHeight)){this.world.viewportTop=this.worldHeight-this.world.viewportHeight}else{if(this.worldHeight&&(c<0)){this.world.viewportTop=0}else{this.world.viewportTop=c}}}return true}return false},lockedFollow:function(d,c,g){var l=d.x-(this.world.viewportWidth/2),k=d.y-(this.world.viewportHeight/2),i=(this.transitionX?Math.min(c/this.transitionX,1):1),f=1-i,h=(this.transitionY?Math.min(c/this.transitionY,1):1),e=1-h;return this.move(i*l+f*this.world.viewportLeft,h*k+e*this.world.viewportTop)},forwardFollow:function(e,g){var d=this.forwardFollower,h=15/g,f=false,c=e.x+this.offsetX,i=e.y+this.offsetY;if(this.followFocused&&(this.lastLeft===c)&&(this.lastTop===i)){return this.lockedFollow(d,g)}else{this.averageOffsetX*=0.9;this.averageOffsetY*=0.9;this.averageOffsetX+=0.1*(c-this.lastLeft)*h;this.averageOffsetY+=0.1*(i-this.lastTop)*h;if(Math.abs(this.averageOffsetX)>(this.world.viewportWidth/(this.forwardX*2))){this.averageOffsetX=0}if(Math.abs(this.averageOffsetY)>(this.world.viewportHeight/(this.forwardY*2))){this.averageOffsetY=0}d.x=this.averageOffsetX*this.forwardX+c;d.y=this.averageOffsetY*this.forwardY+i;this.lastLeft=c;this.lastTop=i;f=this.lockedFollow(d,g);if(!this.followFocused&&!f){this.followFocused=true}return f}},setBoundingArea:function(f,e,d,c){this.bBBorderY=(typeof f!=="undefined")?f:this.world.viewportHeight*0.25;this.bBBorderX=(typeof e!=="undefined")?e:this.world.viewportWidth*0.4;this.bBInnerWidth=(typeof d!=="undefined")?d:this.world.viewportWidth-(2*this.bBBorderX);this.bBInnerHeight=(typeof c!=="undefined")?c:this.world.viewportHeight-(2*this.bBBorderY)},boundingFollow:function(e,g){var f=null,d=null,c=(this.transitionX?Math.min(g/this.transitionX,1):1),k=1-c,i=(this.transitionY?Math.min(g/this.transitionY,1):1),h=1-i;if(e.x>this.world.viewportLeft+this.bBBorderX+this.bBInnerWidth){f=e.x-(this.bBBorderX+this.bBInnerWidth)}else{if(e.x<this.world.viewportLeft+this.bBBorderX){f=e.x-this.bBBorderX}}if(e.y>this.world.viewportTop+this.bBBorderY+this.bBInnerHeight){d=e.y-(this.bBBorderY+this.bBInnerHeight)}else{if(e.y<this.world.viewportTop+this.bBBorderY){d=e.y-this.bBBorderY}}if(typeof f!=="null"){f=this.moveLeft(c*f+k*this.world.viewportLeft)}if(typeof d!=="null"){d=this.moveTop(i*d+h*this.world.viewportTop)}return f||d},windowToWorld:function(c){var d=[];d[0]=Math.round((c[0]-this.window.viewportLeft)*this.worldPerWindowUnitWidth);d[1]=Math.round((c[1]-this.window.viewportTop)*this.worldPerWindowUnitHeight);return d},worldToWindow:function(d){var c=[];c[0]=Math.round((d[0]*this.windowPerWorldUnitWidth)+this.window.viewportLeft);c[1]=Math.round((d[1]*this.windowPerWorldUnitHeight)+this.window.viewportTop);return c},destroy:function(){this.entities.length=0}}})})();(function(){var b=function(e,h){var d=0,c=0,f=e.length,g=false;for(;d<h.length;d++){g=false;for(c=0;c<f;c++){if(h[d]===e[c]){g=true;break}}if(!g){e.push(h[d])}}return e};return a.createComponentClass({id:"collision-group",constructor:function(d){var c=this;this.solidEntities=[];this.terrain=undefined;this.aabb=new a.classes.aABB(this.owner.x,this.owner.y);this.prevAABB=new a.classes.aABB(this.owner.x,this.owner.y);this.owner.previousX=this.owner.previousX||this.owner.x;this.owner.previousY=this.owner.previousY||this.owner.y;this.collisionGroup=this.owner.collisionGroup={getAllEntities:function(){var g=0,f=null;for(var e=0;e<c.solidEntities.length;e++){f=c.solidEntities[e];if((f!==c.owner)&&f.collisionGroup){g+=f.collisionGroup.getAllEntities()}else{g+=1}}return g},getSize:function(){return c.solidEntities.length},getCollisionTypes:function(){return c.getCollisionTypes()},getSolidCollisions:function(){return c.getSolidCollisions()},getAABB:function(e){return c.getAABB(e)},getPreviousAABB:function(e){return c.getPreviousAABB(e)},getShapes:function(e){return c.getShapes(e)},getPrevShapes:function(e){return c.getPrevShapes(e)},prepareCollision:function(e,f){return c.prepareCollision(e,f)},relocateEntity:function(e,g,f){return c.relocateEntity(e,g,f)},movePreviousX:function(e){return c.movePreviousX(e)},getSolidEntities:function(){return c.solidEntities},jumpThrough:false}},events:{"child-entity-added":function(c){this["add-collision-entity"](c)},"add-collision-entity":function(c){var e=0,d=c.collisionTypes;if(d){for(;e<d.length;e++){if(c.solidCollisions[d[e]].length&&!c.immobile){this.solidEntities[this.solidEntities.length]=c}}this.updateAABB()}},"child-entity-removed":function(c){this["remove-collision-entity"](c)},"remove-collision-entity":function(d){var c=0,f=0,e=d.collisionTypes;if(e){for(;f<e.length;f++){if(d.solidCollisions[e[f]].length){for(c in this.solidEntities){if(this.solidEntities[c]===d){this.solidEntities.splice(c,1);break}}}}this.updateAABB()}},"relocate-entity":function(c){this.owner.previousX=this.owner.x;this.owner.previousY=this.owner.y;this.updateAABB()}},methods:{getCollisionTypes:function(){var d=null,e=[];for(var c=0;c<this.solidEntities.length;c++){d=this.solidEntities[c];if((d!==this.owner)&&d.collisionGroup){d=d.collisionGroup}e=b(e,d.getCollisionTypes())}return e},getSolidCollisions:function(){var d=null,g={},e=null;for(var c=0;c<this.solidEntities.length;c++){d=this.solidEntities[c];if((d!==this.owner)&&d.collisionGroup){d=d.collisionGroup}e=d.getSolidCollisions();for(var f in e){g[f]=b(g[f]||[],e[f])}}return g},getAABB:function(f){var e=null;if(!f){return this.aabb}else{var d=new a.classes.aABB();for(var c=0;c<this.solidEntities.length;c++){e=this.solidEntities[c];if((e!==this.owner)&&e.collisionGroup){e=e.collisionGroup}d.include(e.getAABB(f))}return d}},getPreviousAABB:function(f){var e=null;if(!f){return this.prevAABB}else{var d=new a.classes.aABB();for(var c=0;c<this.solidEntities.length;c++){e=this.solidEntities[c];if((e!==this.owner)&&e.collisionGroup){e=e.collisionGroup}d.include(e.getPreviousAABB(f))}return d}},updateAABB:function(){this.aabb.reset();for(var c=0;c<this.solidEntities.length;c++){this.aabb.include(((this.solidEntities[c]!==this.owner)&&this.solidEntities[c].getCollisionGroupAABB)?this.solidEntities[c].getCollisionGroupAABB():this.solidEntities[c].getAABB())}},getShapes:function(g){var f=null,d=[],e=null;for(var c=0;c<this.solidEntities.length;c++){f=this.solidEntities[c];if((f!==this.owner)&&f.collisionGroup){f=f.collisionGroup}e=f.getShapes(g);if(e){d=d.concat(e)}}return d},getPrevShapes:function(f){var e=null,d=[];for(var c=0;c<this.solidEntities.length;c++){e=this.solidEntities[c];if((e!==this.owner)&&e.collisionGroup){e=e.collisionGroup}newShapes=e.getPrevShapes(f);if(newShapes){d=d.concat(newShapes)}}return d},prepareCollision:function(d,h){var f=null,e=0,c=0;for(var g=0;g<this.solidEntities.length;g++){f=this.solidEntities[g];f.saveDX=f.x-f.previousX;f.saveDY=f.y-f.previousY;e=f.saveOX=this.owner.previousX-f.previousX;c=f.saveOY=this.owner.previousY-f.previousY;if((f!==this.owner)&&f.collisionGroup){f=f.collisionGroup}f.prepareCollision(d-e,h-c)}},movePreviousX:function(c){var d=null,f=0,e=0;for(;e<this.solidEntities.length;e++){d=this.solidEntities[e];f=d.saveOX;if((d!==this.owner)&&d.collisionGroup){d=d.collisionGroup}d.movePreviousX(c-f)}},relocateEntity:function(c,h,g){var e=null,d=null,f=0;this.owner.saveDX-=c-this.owner.previousX;this.owner.saveDY-=h-this.owner.previousY;for(f=0;f<g.xCount;f++){if(g.getXEntry(f).thisShape.owner===this.owner){this.owner.saveDX=0;break}}for(f=0;f<g.yCount;f++){if(g.getYEntry(f).thisShape.owner===this.owner){this.owner.saveDY=0;break}}for(var f=0;f<this.solidEntities.length;f++){e=d=this.solidEntities[f];if((e!==this.owner)&&e.collisionGroup){e=e.collisionGroup}e.relocateEntity(c-d.saveOX,h-d.saveOY,g);d.x+=d.saveDX;d.y+=d.saveDY;if(d!==this.owner){d.x+=this.owner.saveDX;d.y+=this.owner.saveDY}}},destroy:function(){this.solidEntities.length=0}},publicMethods:{getCollisionGroupAABB:function(){return this.getAABB()},getWorldEntities:function(){return this.owner.parent.getWorldEntities()},getWorldTerrain:function(){return this.owner.parent.getWorldTerrain()}}})})();(function(){var e={interrupt:createjs.Sound.INTERRUPT_ANY,delay:0,offset:0,loop:0,volume:1,pan:0,length:0,next:false,events:false},d={stop:true,playthrough:true},c=function(h,g){return h.time-g.time},f=function(p){var o="",h=undefined,g=null,m=a.game.settings.assets;if(typeof p==="string"){o=p;h={}}else{if(Array.isArray(p)){if(typeof p[0]==="string"){o=p[0];h={next:[]}}else{o=p[0].sound;h={};for(var n in p[0]){h[n]=p[0][n]}if(h.next){h.next=h.next.slice()}else{h.next=[]}}for(var k=1;k<p.length;k++){h.next.push(p[k])}}else{o=p.sound;h={interrupt:p.interrupt,delay:p.delay,offset:p.offset,loop:p.loop,volume:p.volume,pan:p.pan,length:p.length,next:p.next,events:p.events}}}if(m[o]){if(m[o].data){for(var l in m[o].data){h[l]=h[l]||m[o].data[l]}}if(m[o].assetId){o=m[o].assetId}return function(B){var D=this,v=undefined,y=false,C=false,r=e.offset,q=0;B=B||h;if(B&&B.stop){if(g){if(B.playthrough){g.remainingLoops=0}else{g.stop();D.removeClip(g)}}}else{if(B){var u=B.interrupt||h.interrupt||e.interrupt,t=B.delay||h.delay||e.delay,x=B.loop||h.loop||e.loop,w=(typeof B.volume!=="undefined")?B.volume:((typeof h.volume!=="undefined")?h.volume:e.volume),A=B.pan||h.pan||e.pan,q=B.length||h.length||e.length;r=B.offset||h.offset||e.offset;y=B.next||h.next||e.next;C=B.events||h.events||e.events;v=g=createjs.Sound.play(o,u,t,r,x,w,A)}else{v=g=createjs.Sound.play(o,e.interrupt,e.delay,e.offset,e.loop,e.volume,e.pan)}if(C){v.sequenceEvents=[];for(var s=0;s<C.length;s++){v.sequenceEvents.push({event:C[s].event,time:+C[s].time+r,message:C[s].message})}v.sequenceEvents.sort(c)}v.addEventListener("complete",function(){D.onComplete(v,y)});if(v.playState==="playFailed"){if(this.owner.debug){console.warn('Unable to play "'+o+'".',v)}}else{if(q){this.timedAudioClips.push({length:q,progress:0,audio:v,next:y})}this.activeAudioClips.push(v)}}}}else{console.warn('Audio clip "'+o+'" needs to be added to config.js.');return function(){}}},b=function(h,i){var g=h.replace(/ /g,"").split(",");if(h==="default"){return function(k){return h}}else{return function(l){for(var k=0;k<g.length;k++){if(!l[g[k]]){return false}}return h}}};return a.createComponentClass({id:"audio",constructor:function(h){this.timedAudioClips=[];this.activeAudioClips=[];this.state={};this.stateChange=false;this.currentState=false;this.forcePlaythrough=this.owner.forcePlaythrough||h.forcePlaythrough;if(typeof this.forcePlaythrough!=="boolean"){this.forcePlaythrough=true}if(h.audioMap){this.checkStates=[];for(var g in h.audioMap){this.addListener(g);this[g]=f(h.audioMap[g]);this.checkStates.push(b(g,h.audioMap[g]))}}},events:{"handle-render":function(k){var h=0,g=undefined;newArray=undefined;for(h=0;h<this.activeAudioClips.length;h++){this.checkTimeEvents(this.activeAudioClips[h])}if(this.timedAudioClips.length){newArray=this.timedAudioClips;this.timedAudioClips=[];for(h in newArray){g=newArray[h];g.progress+=k.delta;if(g.progress>=g.length){g.audio.stop();this.onComplete(g.audio,g.next)}else{this.timedAudioClips.push(g)}}}h=0;if(this.stateChange){if(this.checkStates){if(this.currentState){d.playthrough=this.forcePlaythrough;this[this.currentState](d)}this.currentState=false;for(;h<this.checkStates.length;h++){g=this.checkStates[h](this.state);if(g){this.currentState=g;this[this.currentState]();break}}}this.stateChange=false}},"logical-state":function(h){for(var g in h){if(this.state[g]!==h[g]){this.stateChange=true;this.state[g]=h[g]}}},"audio-mute-toggle":function(){createjs.Sound.setMute(!createjs.Sound.getMute())},"audio-stop":function(){for(var g in this.activeAudioClips){this.activeAudioClips[g].stop()}this.activeAudioClips.length=0;this.timedAudioClips.length=0},"audio-mute":function(){createjs.Sound.setMute(true)},"audio-unmute":function(){createjs.Sound.setMute(false)}},methods:{checkTimeEvents:function(g,i){var h=0;if(g.sequenceEvents){h=g.getPosition();while(g.sequenceEvents.length&&(i||(g.sequenceEvents[0].time<=h))){this.owner.trigger(g.sequenceEvents[0].event,g.sequenceEvents[0].message);g.sequenceEvents.splice(0,1)}}},onComplete:function(h,i){this.removeClip(h);this.checkTimeEvents(h,true);this.owner.triggerEvent("clip-complete");if(i&&i.length){if(typeof i==="string"){(f(i)).call(this)}else{var g=i.slice();g.splice(0,1);if(g.length>0){(f(i[0])).call(this,{next:g})}else{(f(i[0])).call(this)}}}else{this.owner.triggerEvent("sequence-complete")}},removeClip:function(g){for(var h in this.activeAudioClips){if(this.activeAudioClips[h]===g){this.activeAudioClips.splice(h,1);break}}},destroy:function(){this["audio-stop"]()}}})})();a.components["broadcast-events"]=(function(){var d=function(g){if(typeof g==="string"){return function(i,h){a.game.currentScene.trigger(g,i,h)}}else{return function(i,h){for(var k in g){a.game.currentScene.trigger(g[k],i,h)}}}};var c=function(g){if(typeof g==="string"){return function(i,h){if(this.owner.parent){this.owner.parent.trigger(g,i,h)}}}else{return function(i,h){for(var k in g){this.owner.parent.trigger(g[k],i,h)}}}};var b=function(g){if(typeof g==="string"){return function(i,h){this.owner.trigger(g,i,h)}}else{return function(i,h){for(var k in g){this.owner.trigger(g[k],i,h)}}}};var e=function(g,h){this.owner=g;this.listeners=[];if(h.events){for(var i in h.events){this[i]=d(h.events[i]);this.addListener(i)}}if(h.parentEvents){for(var i in h.parentEvents){this[i]=c(h.parentEvents[i]);this.addListener(i)}}if(h.renameEvents){for(var i in h.renameEvents){this[i]=b(h.renameEvents[i]);this.addListener(i)}}};var f=e.prototype;f.destroy=function(){this.removeListeners(this.listeners)};f.addListeners=function(h){for(var g in h){this.addListener(h[g])}};f.removeListeners=function(h){for(var g in h){this.removeListener(g,h[g])}};f.addListener=function(h,k){var g=this,i=k||function(m,l){g[h](m,l)};this.owner.bind(h,i);this.listeners[h]=i};f.removeListener=function(g,h){this.owner.unbind(g,h)};return e})();(function(){return a.createComponentClass({id:"change-scene",constructor:function(b){this.scene=this.owner.scene||b.scene;this.transition=this.owner.transition||b.transition||"instant";this.persistentData=b.persistentData||{};if(b.message){this.addListener(b.message);this[b.message]=this["new-scene"]}this.preload=b.preload||false},events:{"scene-live":function(){if(this.preload){a.game.loadScene(this.scene,this.transition,this.persistentData,true)}},"new-scene":function(b){var e=b||this,c=e.scene||this.scene,d=e.transition||this.transition;data=e.persistentData||this.persistentData;a.game.loadScene(c,d,data)},"set-scene":function(b){this.scene=b},"set-persistent-scene-data":function(c){for(var b in c){this.persistentData[b]=c[b]}}}})})();(function(){var b=function(d,c){if(typeof d==="string"){return function(f){c.trigger(d,f);f.preventDefault()}}else{if(Array.isArray(d)){return function(g){for(var f=0;f<d.length;f++){c.trigger(d[f],g)}g.preventDefault()}}else{return function(f){c.trigger(d.event,d.message);f.preventDefault()}}}};return a.createComponentClass({id:"dom-element",constructor:function(f){var c=f.element||"div";this.updateClassName=f.updateClassName||false;this.className="";this.states={};this.stateChange=false;this.potentialParent=f.parent;this.handleRenderLoadMessage=null;this.element=document.createElement(c);if(!this.owner.element){this.owner.element=this.element}this.element.ondragstart=function(){return false};for(var e in f){if(e==="style"){for(var d in f[e]){this.element.style[d]=f[e][d]}}else{if(((e!=="type")||(c==="input"))&&(e!=="element")&&(e!=="parent")&&(e!=="updateClassName")&&(e!=="attributes")&&(e!=="messageMap")){if(e.indexOf("on")===0){this.element[e]=b(f[e],this.owner)}else{this.element[e]=f[e];if(e=="className"){this.className=f[e]}}}}}if(this.owner.className){this.className=this.element.className=this.owner.className}if(this.owner.innerHTML){this.element.innerHTML=this.owner.innerHTML}},events:{"handle-render-load":(function(){var c=function(d,g){var e=0,f=d.getElementsByTagName("*");for(;e<f.length;e++){if(f[e].getAttribute("id")===g){return f[e]}}return document.getElementById(g)};return function(g){if(g.element){if(!this.parentElement){if(this.potentialParent){this.parentElement=c(g.element,this.potentialParent);this.parentElement.appendChild(this.element)}else{this.parentElement=g.element;this.parentElement.appendChild(this.element)}}if(this.owner.entities){var f=this.handleRenderLoadMessage={};for(var e in g){f[e]=g[e]}f.element=this.element;for(var d in this.owner.entities){this.owner.entities[d].trigger("handle-render-load",f)}}}}})(),"child-entity-added":function(c){if(this.handleRenderLoadMessage){c.trigger("handle-render-load",this.handleRenderLoadMessage)}},"set-parent":function(c){if(this.parentElement){this.parentElement.removeChild(this.element)}this.parentElement=c;this.parentElement.appendChild(this.element)},"handle-render":function(e){var c=0,d=this.className;if(this.stateChange&&this.updateClassName){for(c in this.states){if(this.states[c]){d+=" "+c}}this.element.className=d;this.stateChange=false}},"set-attribute":function(d){var c=null;if(d.attribute){this.element.setAttribute(d.attribute,d.value)}else{for(c in d){this.element.setAttribute(c,d[c])}}},"set-style":function(d){var c=null;if(d.attribute){this.element.style[d.attribute]=d.value}else{for(c in d){this.element.style[c]=d[c]}}},"update-content":function(d){var c=d;if(c&&(typeof c.text==="string")){c=c.text}if((typeof c==="string")&&(c!==this.element.innerHTML)){this.element.innerHTML=c}},"logical-state":function(d){for(var c in d){if(this.states[c]!==d[c]){this.stateChange=true;this.states[c]=d[c]}}}},methods:{destroy:function(){if(this.parentElement){this.parentElement.removeChild(this.element);this.parentElement=undefined}if(this.owner.element===this.element){this.owner.element=undefined}this.element=undefined}}})})();(function(){var b=function(c){if(typeof c==="string"){return function(f,e){for(var d=0;d<this.entities.length;d++){this.entities[d].trigger(c,f,e)}}}else{return function(g,f){for(var h in c){for(var d=0;d<this.entities.length;d++){this.entities[d].trigger(c[h],g,f)}}}}};return a.createComponentClass({id:"entity-container",constructor:function(d){var c=this;this.entities=[];this.definedEntities=null;if(d.entities&&this.owner.entities){this.definedEntities=d.entities.concat(this.owner.entities)}else{this.definedEntities=d.entities||this.owner.entities||null}this.owner.entities=c.entities;if(d.childEvents){for(var e in d.childEvents){this[d.childEvents[e]]=b(d.childEvents[e]);this.addListener(d.childEvents[e])}}},events:{load:function(){var f=0,d=0,c=0,g=this.definedEntities,e=null;this.definedEntities=false;if(g){for(f=0;f<g.length;f++){e={properties:{parent:this.owner}};for(d in g[f]){if(d==="properties"){for(c in g[f].properties){e.properties[c]=g[f].properties[c]}}else{e[d]=g[f][d]}}this.addEntity(new a.classes.entity(g[f].id?g[f]:a.game.settings.entities[g[f].type],e))}}},"add-entity":function(d){d.parent=this.owner;d.trigger("adopted");for(var c=0;c<this.entities.length;c++){d.trigger("peer-entity-added",this.entities[c])}for(var c=0;c<this.entities.length;c++){this.entities[c].trigger("peer-entity-added",d)}this.entities.push(d);this.owner.trigger("child-entity-added",d);return d},"remove-entity":function(d){for(var c=0;c<this.entities.length;c++){if(this.entities[c]===d){for(var e=0;e<this.entities.length;e++){if(c!==e){this.entities[e].trigger("peer-entity-removed",d)}}d.parent=null;this.entities.splice(c,1);this.owner.trigger("child-entity-removed",d);d.destroy();return d}}return false}},methods:{destroy:function(){for(var c in this.entities){this.entities[c].destroy()}this.entities.length=0}},publicMethods:{getEntityById:function(e){var c=0,d=null;for(;c<this.entities.length;c++){if(this.entities[c].id===e){return this.entities[c]}if(this.entities[c].getEntityById){d=this.entities[c].getEntityById(e);if(d){return d}}}return undefined},getEntitiesByType:function(e){var c=0,d=null,f=[];for(;c<this.entities.length;c++){if(this.entities[c].type===e){f.push(this.entities[c])}if(this.entities[c].getEntitiesByType){d=this.entities[c].getEntitiesByType(e);if(d){f=f.concat(d)}}}return f},addEntity:function(c){return this["add-entity"](c)},removeEntity:function(c){return this["remove-entity"](c)}}})})();(function(){var c=function(n,m){var l=m.x-n.x,o=m.y-n.y;return Math.sqrt(l*l+o*o)},f=function(o,m,r){var l=m.x-o.x,q=m.y-o.y,n=0,p=Math.PI*2;if(!r){return n}n=Math.acos(l/r);if(q<0){n=p-n}return n},i=[null,null,null,null,["east","south","west","north"],null,null,null,["east","southeast","south","southwest","west","northwest","north","northeast"],null,null,null,null,null,null,null,["east","east-southeast","southeast","south-southeast","south","south-southwest","southwest","west-southwest","west","west-northwest","northwest","north-northwest","north","north-northeast","northeast","east-northeast"]],e=["left-button","middle-button","right-button"],d=function(m,l){this.event=m;this.trigger=l;this.filters=false;this.current=false;this.last=false;this.state=false;this.stateSummary={pressed:false,released:false,triggered:false,over:false}},g=function(l){if(Array.isArray(l)){return function(n){for(var m=0;m<l.length;m++){l[m].state=false}}}else{return function(m){l.state=false}}},h=function(l){if(Array.isArray(l)){return function(n){for(var m=0;m<l.length;m++){l[m].current=true;l[m].state=true;if(n&&(typeof(n.over)!=="undefined")){l[m].over=n.over}}}}else{return function(m){l.current=true;l.state=true;if(m&&(typeof(m.over)!=="undefined")){l.over=m.over}}}},k=function(n,o,m,l){var p=n[o];if(!p){p=n[o]=new d(o,m)}if(l){p.setFilter(l)}return p},b=d.prototype;b.update=function(){var l=0;if(this.current||this.last){this.stateSummary.pressed=this.current;this.stateSummary.released=!this.current&&this.last;this.stateSummary.triggered=this.current&&!this.last;this.stateSummary.over=this.over;if(this.filters){for(;l<this.filters.length;l++){if(this.stateSummary[this.filters[l]]){this.trigger(this.event,this.stateSummary)}}}else{this.trigger(this.event,this.stateSummary)}}this.last=this.current;this.current=this.state};b.setFilter=function(l){if(!this.filters){this.filters=[l]}else{this.filters.push(l)}return this};b.isPressed=function(){return this.current};b.isTriggered=function(){return this.current&&!this.last};b.isReleased=function(){return !this.current&&this.last};return a.createComponentClass({id:"entity-controller",constructor:function(r){var q=0,o=0,m=0,p="",s=undefined,l=this,n=function(t,u){if(!l.paused){l.owner.trigger(t,u)}};this.paused=r.paused||false;if(r&&r.controlMap){this.owner.controlMap=r.controlMap;this.actions={};for(p in r.controlMap){if(typeof r.controlMap[p]==="string"){s=k(this.actions,r.controlMap[p],n)}else{s=[];if(Array.isArray(r.controlMap[p])){for(q=0;q<r.controlMap[p].length;q++){s[q]=k(this.actions,r.controlMap[p][q],n)}}else{m=0;for(o in r.controlMap[p]){if(typeof r.controlMap[p][o]==="string"){s[m]=k(this.actions,r.controlMap[p][o],n,o);m+=1}else{for(q=0;q<r.controlMap[p][o].length;q++){s[m]=k(this.actions,r.controlMap[p][o][q],n,o);m+=1}}}}}this[p+":up"]=g(s);this[p+":down"]=h(s);this.addListener(p+":up");this.addListener(p+":down")}}if(r.joystick){this.joystick={};this.joystick.directions=r.joystick.directions||4;this.joystick.handleEdge=r.joystick.handleEdge||false;this.joystick.innerRadius=r.joystick.innerRadius||0;this.joystick.outerRadius=r.joystick.outerRadius||Infinity}},events:{"handle-controller":function(){var l="";if(this.actions){for(l in this.actions){this.actions[l].update()}}},mousedown:function(l){this.owner.trigger("mouse:"+e[l.event.button||0]+":down",l.event);if(this.joystick){this.owner.trigger("joystick:down",l.event);this.handleJoy(l)}},mouseup:function(l){this.owner.trigger("mouse:"+e[l.event.button||0]+":up",l.event);if(this.joystick){this.owner.trigger("joystick:up",l.event);this.handleJoy(l)}},mousemove:function(l){if(this.actions["mouse:left-button"]&&(this.actions["mouse:left-button"].over!==l.over)){this.actions["mouse:left-button"].over=l.over}if(this.actions["mouse:middle-button"]&&(this.actions["mouse:middle-button"].over!==l.over)){this.actions["mouse:middle-button"].over=l.over}if(this.actions["mouse:right-button"]&&(this.actions["mouse:right-button"].over!==l.over)){this.actions["mouse:right-button"].over=l.over}if(this.joystick){this.handleJoy(l)}},"pause-controls":function(){this.paused=true},"unpause-controls":function(){this.paused=false}},methods:{handleJoy:function(n){var m=Math.PI/(this.joystick.directions/2),q=c(this.owner,n),l=0,p="",o="";if((q>this.joystick.outerRadius)||(q<this.joystick.innerRadius)){return}else{if(!this.paused){l=f(this.owner,n,q);p=i[this.joystick.directions][Math.floor(((l+m/2)%(Math.PI*2))/m)];if(this.joystick.handleEdge){m=Math.PI/this.joystick.directions;o=i[this.joystick.directions*2][Math.floor(((l+m/2)%(Math.PI*2))/m)];if(o!==p){this.owner.trigger(o.replace(p,"").replace("-",""),n)}}this.owner.trigger(p,n);this.owner.trigger("joystick-orientation",l)}}}}})})();(function(){var c=false,d=null,b=function(){c=false;d.className=d.className.replace(/ full-screen/g,"");a.game.bindings.resize.callback()},e=function(){if(c){if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.exitFullscreen){document.exitFullscreen()}}}b()}else{c=true;d.className+=" full-screen";if(d.webkitRequestFullscreen){if(!a.game.settings.supports.safari||a.game.settings.supports.chrome){d.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(d.mozRequestFullScreen){d.mozRequestFullScreen()}else{if(d.requestFullscreen){d.requestFullscreen()}}}a.game.bindings.resize.callback()}};document.addEventListener("fullscreenchange",function(f){if(!document.fullscreenElement){b()}});document.addEventListener("webkitfullscreenchange",function(f){if(!document.webkitFullscreenElement){b()}});document.addEventListener("mozfullscreenchange",function(f){if(!document.mozFullScreenElement){b()}});return a.createComponentClass({id:"fullscreen",constructor:function(f){if(!d){d=a.game.containerElement}},events:{"toggle-fullscreen":e}})})();(function(){var c={aabb:"255,128,255",render:"128,128,128",collision:"255,0,255",group:"0,255,0"},b=function(e,h,g,d,l,i,k){var f=null;switch(e){case"rectangle":f=new createjs.Shape((new createjs.Graphics()).beginFill("rgba("+c[h]+",0.1)").setStrokeStyle(3).beginStroke("rgb("+c[h]+")").rect(0,0,g,d));l+=g/2;i+=d/2;break;case"circle":l+=g/2;i+=g/2;f=new createjs.Shape((new createjs.Graphics()).beginFill("rgba("+c[h]+",0.1)").setStrokeStyle(3).beginStroke("rgb("+c[h]+")").drawCircle(g/2,g/2,g));break}f.regX=l;f.regY=i;f.z=k;return f};return a.createComponentClass({id:"render-debug",constructor:function(d){if(d.acceptInput){this.hover=d.acceptInput.hover||false;this.click=d.acceptInput.click||false}else{this.hover=false;this.click=false}this.regX=d.regX||0;this.regY=d.regY||0;this.stage=undefined;this.shapes=[]},events:{"handle-render-load":function(f){var o=this,m=(this.owner.z||0)+10000,k=0,g=0,e=this.owner.width=this.owner.width||300,n=this.owner.height=this.owner.height||100,l=false,d=null,h=null;this.stage=f.stage;if(this.owner.getAABB){for(g=0;g<this.owner.collisionTypes.length;g++){h=this.owner.getAABB(this.owner.collisionTypes[g]);e=this.initialWidth=h.width;n=this.initialHeight=h.height;d=this.owner.getShapes(this.owner.collisionTypes[g]);this.shapes.push(b("rectangle","aabb",e,n,this.owner.x-h.x,this.owner.y-h.y,m--));this.stage.addChild(this.shapes[this.shapes.length-1]);for(k=0;k<d.length;k++){this.shapes.push(b(d[k].type,"collision",d[k].radius||d[k].width,d[k].height,-d[k].offsetX,-d[k].offsetY,m--));this.stage.addChild(this.shapes[this.shapes.length-1])}}}else{this.shapes.push(b("rectangle","render",e,n,e/2,n/2,m--));this.stage.addChild(this.shapes[0])}if(this.click&&createjs.Touch.isSupported()){createjs.Touch.enable(this.stage)}this.shapes[0].onPress=function(i){if(this.click){o.owner.trigger("mousedown",{event:i.nativeEvent,over:l,x:i.stageX,y:i.stageY,entity:o.owner});i.onMouseUp=function(p){o.owner.trigger("mouseup",{event:p.nativeEvent,over:l,x:p.stageX,y:p.stageY,entity:o.owner})};i.onMouseMove=function(p){o.owner.trigger("mousemove",{event:p.nativeEvent,over:l,x:p.stageX,y:p.stageY,entity:o.owner})}}if(i.nativeEvent.button==2){console.log("This Entity:",o.owner)}};if(this.click){this.shapes[0].onMouseOut=function(){l=false};this.shapes[0].onMouseOver=function(){l=true}}if(this.hover){this.stage.enableMouseOver();this.shapes[0].onMouseOut=function(i){l=false;o.owner.trigger("mouseout",{event:i.nativeEvent,over:l,x:i.stageX,y:i.stageY,entity:o.owner})};this.shapes[0].onMouseOver=function(i){l=true;o.owner.trigger("mouseover",{event:i.nativeEvent,over:l,x:i.stageX,y:i.stageY,entity:o.owner})}}if(!a.game.settings.debug){this.owner.removeComponent(this)}},"handle-render":function(){var e=0;for(e=0;e<this.shapes.length;e++){this.shapes[e].x=this.owner.x;this.shapes[e].y=this.owner.y}if(this.owner.getCollisionGroupAABB){var d=this.owner.getCollisionGroupAABB();if(!this.groupShape){this.groupShape=new createjs.Shape((new createjs.Graphics()).beginFill("rgba(255,255,0,0.2)").rect(0,0,1,1));this.groupShape.regX=0.5;this.groupShape.regY=0.5;this.groupShape.z=(this.owner.z||0)+10000;this.stage.addChild(this.groupShape);console.log(d)}this.groupShape.scaleX=d.width;this.groupShape.scaleY=d.height;this.groupShape.x=d.x;this.groupShape.y=d.y}}},methods:{destroy:function(){var d=0;for(d=0;d<this.shapes.length;d++){this.stage.removeChild(this.shapes[d])}this.shapes.length=0;this.stage=undefined}}})})();(function(){var d=function(g){var e=[document.createElement("canvas"),document.createElement("canvas")],f=0;if(!g.___cache){g.___cache=g.cache;g.cache=function(i,m,k,h,l){f=1-f;this.cacheCanvas=e[f];this.___cache(i,m,k,h,l)}}return g},c={x:1,y:1,t:-1,r:0},b=function(h){var g=+(h.substring(4)),i=c,f=!!(536870912&g),e=!!(1073741824&g),k=!!(2147483648&g);i.t=268435455&g;i.x=1;i.y=1;i.r=0;if(f||e||k){if(f&&e&&k){i.x=-1;i.r=90}else{if(f&&k){i.r=90}else{if(e&&k){i.r=180}else{if(f&&e){i.r=270}else{if(f){i.y=-1;i.r=90}else{if(e){i.y=-1}else{if(k){i.x=-1}}}}}}}}return i};return a.createComponentClass({id:"render-tiles",constructor:function(l){var f=0,e=l.spriteSheet.images.slice(),i=null,k=1,h=1;if(e[0]&&(typeof e[0]==="string")){e=e.slice();for(f=0;f<e.length;f++){if(a.assets[e[f]]){e[f]=a.assets[e[f]]}}}i={images:e,frames:l.spriteSheet.frames,animations:l.spriteSheet.animations};k=i.images[0].scaleX||1;h=i.images[0].scaleY||1;if((k!==1)||(h!==1)){i.frames={width:i.frames.width*k,height:i.frames.height*h,regX:i.frames.regX*k,regY:i.frames.regY*h}}this.controllerEvents=undefined;this.spriteSheet=new createjs.SpriteSheet(i);this.imageMap=l.imageMap||[];this.doMap=null;this.tiles={};this.tilesToRender=undefined;this.scaleX=((l.scaleX||1)*(this.owner.scaleX||1))/k;this.scaleY=((l.scaleY||1)*(this.owner.scaleY||1))/h;this.tileWidth=l.tileWidth||(this.owner.tileWidth/this.scaleX)||10;this.tileHeight=l.tileHeight||(this.owner.tileHeight/this.scaleY)||10;this.entityCache=l.entityCache||false;this.worldWidth=this.tilesWidth=this.tileWidth;this.worldHeight=this.tilesHeight=this.tileHeight;var g=(l.buffer||this.tileWidth)*this.scaleX;this.camera={x:-g-1,y:-g-1,buffer:g};this.cache={minX:-1,minY:-1,maxX:-1,maxY:-1};this.doubleBuffer=[null,null];this.currentBuffer=0},events:{"handle-render-load":function(k){var e=0,l=0,h=this.stage=k.stage,g="",f=this.imageMap,i=[];this.tilesToRender=d(new createjs.Container());this.tilesToRender.name="entity-managed";for(e=0;e<f.length;e++){i[e]=[];for(l=0;l<f[e].length;l++){i[e][l]=g=f[e][l];if(!this.tiles[g]){this.tiles[g]=this.createTile(g)}}}this.imageMap=i;this.tilesWidth=e*this.tileWidth;this.tilesHeight=l*this.tileHeight;this.tilesToRender.scaleX=this.scaleX;this.tilesToRender.scaleY=this.scaleY;this.tilesToRender.z=this.owner.z;h.addChild(this.tilesToRender)},"peer-entity-added":function(i){var m=0,k=0,o=this.imageMap,h=i.cacheRender,e=null,l=0,f=0,n=0,g=0;if(this.entityCache&&h){if(!this.doMap){this.doMap=[]}e=h.getBounds();l=Math.max(0,Math.floor((i.y-h.y)/this.tileHeight));f=Math.min(o[0].length,Math.ceil((i.y-e.y+e.height)/this.tileHeight));g=Math.max(0,Math.floor((i.x-h.x)/this.tileWidth));n=Math.min(o.length,Math.ceil((i.x-e.x+e.width)/this.tileWidth));for(m=g;m<n;m++){if(!this.doMap[m]){this.doMap[m]=[]}for(k=l;k<f;k++){if(!this.doMap[m][k]){this.doMap[m][k]=[]}this.doMap[m][k].push(h)}}i.removeComponent("render-animation");i.removeComponent("render-image")}},"add-tiles":function(h){var e=0,k=0,i=h.imageMap,f="",g=0;if(i){for(e=0;e<this.imageMap.length;e++){for(k=0;k<this.imageMap[e].length;k++){g=i[e][k];f=this.imageMap[e][k];if(this.tiles[f]){delete this.tiles[f]}f=this.imageMap[e][k]+=" "+g;if(!this.tiles[f]){this.tiles[f]=this.createTile(f)}}}}},"camera-loaded":function(e){this.worldWidth=e.width;this.worldHeight=e.height},"camera-update":function(r){var i=0,h=0,g=0,q=this.camera.buffer,k=this.cache,e=null,f=null,o=0,m=0,v=0,t=0,w=0,u=0,A=this.convertCamera(r.viewportLeft,this.worldWidth,this.tilesWidth,r.viewportWidth),p=this.convertCamera(r.viewportTop,this.worldHeight,this.tilesHeight,r.viewportHeight),s=Math.floor(A/this.tileWidth)*this.tileWidth,n=Math.floor(p/this.tileHeight)*this.tileHeight,C=null,B=[],l=null;this.tilesToRender.x=r.viewportLeft-A;this.tilesToRender.y=r.viewportTop-p;if(((Math.abs(this.camera.x-s)>q)||(Math.abs(this.camera.y-n)>q))&&(this.imageMap.length>0)){this.camera.x=s;this.camera.y=n;v=Math.min(Math.ceil((s+r.viewportWidth+q)/(this.tileWidth*this.scaleX)),this.imageMap.length)-1;w=Math.max(Math.floor((s-q)/(this.tileWidth*this.scaleX)),0);t=Math.min(Math.ceil((n+r.viewportHeight+q)/(this.tileHeight*this.scaleY)),this.imageMap[0].length)-1;u=Math.max(Math.floor((n-q)/(this.tileHeight*this.scaleY)),0);if((t>k.maxY)||(u<k.minY)||(v>k.maxX)||(w<k.minX)){if(this.tilesToRender.cacheCanvas){f=this.tilesToRender.cacheCanvas;this.tilesToRender.uncache()}this.tilesToRender.removeChildAt(0);this.tilesToRender.cache(w*this.tileWidth,u*this.tileHeight,(v-w+1)*this.tileWidth,(t-u+1)*this.tileHeight,1);for(i=w;i<=v;i++){for(h=u;h<=t;h++){if((h>k.maxY)||(h<k.minY)||(i>k.maxX)||(i<k.minX)){C=this.tiles[this.imageMap[i][h]];this.tilesToRender.removeChildAt(0);this.tilesToRender.addChild(C);C.x=(i+0.5)*this.tileWidth;C.y=(h+0.5)*this.tileHeight;this.tilesToRender.updateCache("source-over");if(this.doMap&&this.doMap[i]&&this.doMap[i][h]){l=this.doMap[i][h];for(g=0;g<l.length;g++){if(!l[g].drawn){l[g].drawn=true;B.push(l[g])}}}}}}if(B.length){for(g=0;g<B.length;g++){delete B[g].drawn;this.tilesToRender.removeChildAt(0);this.tilesToRender.addChild(B[g]);this.tilesToRender.updateCache("source-over")}}if(f){e=this.tilesToRender.cacheCanvas.getContext("2d");o=(k.maxX-k.minX+1)*this.tileWidth;m=(k.maxY-k.minY+1)*this.tileHeight;e.drawImage(f,0,0,o,m,(k.minX-w)*this.tileWidth,(k.minY-u)*this.tileHeight,o,m);k.minX=w;k.minY=u;k.maxX=v;k.maxY=t}}}}},methods:{convertCamera:function(h,f,g,e){if((f/this.scaleX)==g){return h}else{return h*(g-e)/((f/this.scaleX)-e)}},createTile:function(k){var g=1,l=k.split(" "),e=null,h=new createjs.Sprite(this.spriteSheet,0),f=b(l[0]);h.x=0;h.y=0;h.regX=this.tileWidth/2;h.regY=this.tileHeight/2;h.scaleX=f.x;h.scaleY=f.y;h.rotation=f.r;h.gotoAndStop("tile"+f.t);for(;g<l.length;g++){if(l[g]!=="tile-1"){if(!e){e=new createjs.Container();e.addChild(h);e.cache(-this.tileWidth/2,-this.tileHeight/2,this.tileWidth,this.tileHeight,1)}f=b(l[g]);h.scaleX=f.x;h.scaleY=f.y;h.rotation=f.r;h.gotoAndStop("tile"+f.t);e.updateCache("source-over")}}if(e){return e}else{h.cache(0,0,this.tileWidth,this.tileHeight,1);return h}},destroy:function(){this.tilesToRender.removeAllChildren();this.stage.removeChild(this.tilesToRender);this.imageMap.length=0;this.tiles=undefined;this.camera=undefined;this.stage=undefined;this.tilesToRender=undefined}}})})();(function(){var c=function(d){return function(e){if(this.animationFinished||(this.lastState>=-1)){this.currentAnimation=d;this.lastState=-1;this.animationFinished=false;this.anim.gotoAndPlay(d)}else{this.waitingAnimation=d;this.waitingState=-1}}},b=function(e,f){var d=e.replace(/ /g,"").split(",");if(e==="default"){return function(g){return f}}else{return function(h){for(var g=0;g<d.length;g++){if(!h[d[g]]){return false}}return f}}};return a.createComponentClass({id:"render-animation",constructor:function(e){var p={framerate:e.spriteSheet.framerate,images:e.spriteSheet.images.slice(),frames:e.spriteSheet.frames,animations:e.spriteSheet.animations},r=this,n=0,f="",m="",d=e.animationMap,l=0,k=0;this.rotate=e.rotate||false;this.mirror=e.mirror||false;this.flip=e.flip||false;if(e.acceptInput){this.hover=e.acceptInput.hover||false;this.click=e.acceptInput.click||false;this.touch=e.acceptInput.touch||false}else{this.hover=false;this.click=false;this.touch=false}this.followThroughs={};if(!d){d={};for(n in p.animations){d[n]=n}}this.checkStates=[];for(var g in d){this.addListener(g);f=d[g];if(f[f.length-1]==="!"){f=f.substring(0,f.length-1);this.followThroughs[f]=true}else{this.followThroughs[f]=false}this[g]=c(f);this.checkStates.push(b(g,f))}m=f;this.stage=undefined;for(n=0;n<p.images.length;n++){p.images[n]=a.assets[p.images[n]]}var q=p.images[0].scaleX||1,o=p.images[0].scaleY||1;if((q!==1)||(o!==1)){if(Array.isArray(p.frames)){var h=[];l=[];k=[];for(var g=0;g<p.frames.length;g++){h.push([p.frames[g][0]*q,p.frames[g][1]*o,p.frames[g][2]*q,p.frames[g][3]*o,p.frames[g][4],p.frames[g][5]*q,p.frames[g][6]*o]);l.push(p.frames[g][5]);k.push(p.frames[g][6])}p.frames=h}else{l=p.frames.regX;k=p.frames.regY;p.frames={width:p.frames.width*q,height:p.frames.height*o,regX:p.frames.regX*q,regY:p.frames.regY*o}}}else{if(Array.isArray(p.frames)){l=[];k=[];for(var g=0;g<p.frames.length;g++){l.push(p.frames[g][5]);k.push(p.frames[g][6])}}else{l=p.frames.regX;k=p.frames.regY}}p=new createjs.SpriteSheet(p);this.anim=new createjs.Sprite(p,0);if(e.pins){this.container=new createjs.Container();this.container.addChild(this.anim);this.anim.z=0;this.addPins(e.pins,l,k)}else{this.container=this.anim}this.pinTo=e.pinTo||false;if(this.pinTo){this.owner.trigger("pin-me",this.pinTo)}this.anim.onAnimationEnd=function(s,i){r.owner.trigger("animation-ended",i);if(r.waitingAnimation){r.currentAnimation=r.waitingAnimation;r.waitingAnimation=false;r.lastState=r.waitingState;r.animationFinished=false;r.anim.gotoAndPlay(r.currentAnimation)}else{r.animationFinished=true}};this.anim.hidden=e.hidden||false;this.currentAnimation=d["default"]||m;this.forcePlaythrough=this.owner.forcePlaythrough||e.forcePlaythrough||false;this.worldScaleX=e.scaleX;this.worldScaleY=e.scaleY;this.imageScaleX=q;this.imageScaleY=o;this.lastOwnerScaleX=this.owner.scaleX;this.lastOwnerScaleY=this.owner.scaleY;this.container.scaleX=(this.worldScaleX||1)*(this.owner.scaleX||1);this.container.scaleY=(this.worldScaleY||1)*(this.owner.scaleY||1);this.anim.scaleX/=this.imageScaleX;this.anim.scaleY/=this.imageScaleY;this.scaleX=this.container.scaleX;this.scaleY=this.container.scaleY;this.skewX=this.owner.skewX||e.skewX;this.skewY=this.owner.skewY||e.skewY;this.offsetZ=e.offsetZ||0;this.state=this.owner.state;this.stateChange=false;this.lastState=-1;this.waitingAnimation=false;this.waitingState=0;this.playWaiting=false;this.animationFinished=false;if(this.currentAnimation){this.anim.gotoAndPlay(this.currentAnimation)}this["logical-state"](this.state);if(e.cache){this.updateSprite();this.owner.cacheRender=this.container}},events:{"handle-render-load":function(d){if(!this.pinTo){this.stage=d.stage;if(!this.stage){return}this.stage.addChild(this.container);this.addInputs()}else{return}},"handle-render":function(d){if(!this.stage){if(!this.pinTo){this["handle-render-load"](d);if(!this.stage){console.warn('No CreateJS Stage, removing render component from "'+this.owner.type+'".');this.owner.removeComponent(this);return}}else{return}}this.updateSprite()},"logical-state":function(d){this.stateChange=true;if(d.hidden!==undefined){this.container.hidden=d.hidden}},"hide-animation":function(){this.container.hidden=true},"show-animation":function(){this.container.hidden=false},"pin-me":function(d){if(this.pins&&this.pins[d]){this.owner.trigger("attach-pin",this.pins[d])}},"attach-pin":function(d){if(d.pinId===this.pinTo){this.stage=d.container;this.stage.addChild(this.container);this.addInputs();this.pinnedTo=d}},"remove-pin":function(d){if(d.pinId===this.pinTo){this.stage.removeChild(this.container);this.stage=null;this.pinnedTo=null}}},methods:{updateSprite:(function(){var d=function(f,e){return f.z-e.z};return function(h){var e=false,f=0,g=null;if(this.pinnedTo){if(this.pinnedTo.frames&&this.pinnedTo.frames[this.pinnedTo.animation.currentFrame]){this.container.x=this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].x;this.container.y=this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].y;if(this.container.z!==this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].z){if(this.stage){this.stage.reorder=true}this.container.z=this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].z}this.container.visible=true}else{if(this.pinnedTo.defaultPin){this.container.x=this.pinnedTo.defaultPin.x;this.container.y=this.pinnedTo.defaultPin.y;if(this.container.z!==this.pinnedTo.defaultPin.z){if(this.stage){this.stage.reorder=true}this.container.z=this.pinnedTo.defaultPin.z}this.container.visible=true}else{this.container.visible=false}}}else{this.container.x=this.owner.x;this.container.y=this.owner.y;if(this.container.z!==(this.owner.z+this.offsetZ)){if(this.stage){this.stage.reorder=true}this.container.z=(this.owner.z+this.offsetZ)}if(this.owner.opacity||(this.owner.opacity===0)){this.container.alpha=this.owner.opacity}}if(this.container.reorder){this.container.reorder=false;this.container.sortChildren(d)}if(this.skewX){this.container.skewX=this.skewX}if(this.skewY){this.container.skewY=this.skewY}if(this.owner.scaleX!=this.lastOwnerScaleX||this.owner.scaleY!=this.lastOwnerScaleY){this.container.scaleX=(this.worldScaleX||1)*(this.owner.scaleX||1);this.container.scaleY=(this.worldScaleY||1)*(this.owner.scaleY||1);this.anim.scaleX/=this.imageScaleX;this.anim.scaleY/=this.imageScaleY;this.scaleX=this.container.scaleX;this.scaleY=this.container.scaleY;this.lastOwnerScaleX=this.owner.scaleX;this.lastOwnerScaleY=this.owner.scaleY}if(this.rotate||this.mirror||this.flip){g=((this.owner.orientation*180)/Math.PI+360)%360;if(this.rotate){this.container.rotation=g}if(this.mirror){if((g>90)&&(g<270)){this.container.scaleX=-this.scaleX}else{this.container.scaleX=this.scaleX}}if(this.flip){if(g>180){this.container.scaleY=this.scaleY}else{this.container.scaleY=-this.scaleY}}}if(this.stateChange){if(this.checkStates){for(;f<this.checkStates.length;f++){e=this.checkStates[f](this.state);if(e){if(this.currentAnimation!==e){if(!this.followThroughs[this.currentAnimation]&&(!this.forcePlaythrough||(this.animationFinished||(this.lastState>=+f)))){this.currentAnimation=e;this.lastState=+f;this.animationFinished=false;this.anim.gotoAndPlay(e)}else{this.waitingAnimation=e;this.waitingState=+f}}else{if(this.waitingAnimation&&!this.followThroughs[this.currentAnimation]){this.waitingAnimation=false}}break}}}this.stateChange=false}}})(),addInputs:function(){var d=this,e=false;if(this.click||this.touch){if(this.touch&&createjs.Touch.isSupported()){createjs.Touch.enable(this.stage)}this.anim.addEventListener("mousedown",function(f){d.owner.trigger("mousedown",{event:f.nativeEvent,over:e,x:f.stageX,y:f.stageY,entity:d.owner});f.addEventListener("mouseup",function(g){d.owner.trigger("mouseup",{event:g.nativeEvent,over:e,x:g.stageX,y:g.stageY,entity:d.owner})});f.addEventListener("mousemove",function(g){d.owner.trigger("mousemove",{event:g.nativeEvent,over:e,x:g.stageX,y:g.stageY,entity:d.owner})})});this.anim.addEventListener("mouseout",function(){e=false});this.anim.addEventListener("mouseover",function(){e=true})}if(this.hover){this.stage.enableMouseOver();this.anim.addEventListener("mouseout",function(f){e=false;d.owner.trigger("mouseout",{event:f.nativeEvent,over:e,x:f.stageX,y:f.stageY,entity:d.owner})});this.anim.addEventListener("mouseover",function(f){e=true;d.owner.trigger("mouseover",{event:f.nativeEvent,over:e,x:f.stageX,y:f.stageY,entity:d.owner})})}},addPins:function(f,l,e){var h=0,g=0,d=null,m=0,k=0,n=!((typeof l==="number")&&(typeof e==="number"));if(!n){m=l;k=e}this.pinsToRemove=this.pinsToRemove||[];this.pins={};for(;h<f.length;h++){this.pinsToRemove.push(f[h].pinId);if(n){m=l[h];k=e[h]}this.pins[f[h].pinId]=d={pinId:f[h].pinId,animation:this.anim,container:this.container};if((typeof f[h].x==="number")&&(typeof f[h].y==="number")){d.defaultPin={x:(f[h].x-m),y:(f[h].y-k),z:f[h].z||1e-8}}if(f[h].frames){d.frames=[];for(g=0;g<f[h].frames.length;g++){if(f[h].frames[g]){if((typeof f[h].frames[g].x==="number")&&(typeof f[h].frames[g].y==="number")){d.frames.push({x:(f[h].frames[g].x-m),y:(f[h].frames[g].y-k),z:f[h].frames[g].z||(d.defaultPin?d.defaultPin.z:1e-8)})}else{if(d.defaultPin){if(typeof f[h].frames[g].x==="number"){d.frames.push({x:(f[h].frames[g].x-m),y:d.defaultPin.y,z:f[h].frames[g].z||d.defaultPin.z})}else{if(typeof f[h].frames[g].y==="number"){d.frames.push({x:d.defaultPin.x,y:(f[h].frames[g].y-k),z:f[h].frames[g].z||d.defaultPin.z})}else{d.frames.push(null)}}}else{d.frames.push(null)}}}else{d.frames.push(null)}}}this.owner.trigger("attach-pin",d)}},removePins:function(){var d=0;if(this.pins&&this.pinsToRemove){for(;d<this.pinsToRemove.length;d++){this.owner.trigger("remove-pin",this.pins[this.pinsToRemove[d]].pinId);delete this.pins[this.pinsToRemove[d]]}this.pinsToRemove.length=0}},destroy:function(){if(this.stage){this.stage.removeChild(this.container);this.stage=undefined}this.removePins();this.followThroughs=null;this.anim=undefined;this.container=undefined}}})})();(function(){return a.createComponentClass({id:"render-image",constructor:function(d){var f=d.image,e=d.source;this.rotate=d.rotate||false;this.mirror=d.mirror||false;this.flip=d.flip||false;if(d.acceptInput){this.hover=d.acceptInput.hover||false;this.click=d.acceptInput.click||false;this.touch=d.acceptInput.touch||false}else{this.hover=false;this.click=false;this.touch=false}this.stage=undefined;this.image=new createjs.Bitmap(a.assets[f]);var c=a.assets[f].scaleX||1,b=a.assets[f].scaleY||1;if(d.pins){this.container=new createjs.Container();this.container.addChild(this.image);this.image.z=0;this.addPins(d.pins,d.regX||0,d.regY||0)}else{this.container=this.image}this.pinTo=d.pinTo||false;if(this.pinTo){this.owner.trigger("pin-me",this.pinTo)}if(e){e.x=e.x||0;e.y=e.y||0;this.image.sourceRect=new createjs.Rectangle(e.x*c,e.y*b,e.width*c,e.height*b)}this.image.hidden=d.hidden||false;this.image.regX=(d.regX||0)*c;this.image.regY=(d.regY||0)*b;this.worldScaleX=d.scaleX;this.worldScaleY=d.scaleY;this.imageScaleX=c;this.imageScaleY=b;this.lastOwnerScaleX=this.owner.scaleX;this.lastOwnerScaleY=this.owner.scaleY;this.container.scaleX=(this.worldScaleX||1)*(this.owner.scaleX||1);this.container.scaleY=(this.worldScaleY||1)*(this.owner.scaleY||1);this.image.scaleX/=this.imageScaleX;this.image.scaleY/=this.imageScaleY;this.scaleX=this.container.scaleX;this.scaleY=this.container.scaleY;this.skewX=this.owner.skewX||d.skewX;this.skewY=this.owner.skewY||d.skewY;this.offsetZ=d.offsetZ||0;if(d.cache){this.updateSprite();this.owner.cacheRender=this.container}},events:{"handle-render-load":function(b){if(!this.pinTo){this.stage=b.stage;if(!this.stage){return}this.stage.addChild(this.container);this.addInputs()}else{return}},"handle-render":function(b){if(!this.stage){if(!this.pinTo){this["handle-render-load"](b);if(!this.stage){console.warn('No CreateJS Stage, removing render component from "'+this.owner.type+'".');this.owner.removeComponent(this);return}}else{return}}this.updateSprite()},"logical-state":function(b){if(b.hidden!==undefined){this.container.hidden=b.hidden}},"hide-image":function(){this.container.hidden=true},"show-image":function(){this.container.hidden=false},"pin-me":function(b){if(this.pins&&this.pins[b]){this.owner.trigger("attach-pin",this.pins[b])}},"attach-pin":function(b){if(b.pinId===this.pinTo){this.stage=b.container;this.stage.addChild(this.container);this.addInputs();this.pinnedTo=b}},"remove-pin":function(b){if(b.pinId===this.pinTo){this.stage.removeChild(this.container);this.stage=null;this.pinnedTo=null}}},methods:{updateSprite:(function(){var b=function(d,c){return d.z-c.z};return function(){var c=null;if(this.pinnedTo){if(this.pinnedTo.frames&&this.pinnedTo.frames[this.pinnedTo.animation.currentFrame]){this.container.x=this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].x;this.container.y=this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].y;if(this.container.z!==this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].z){if(this.stage){this.stage.reorder=true}this.container.z=this.pinnedTo.frames[this.pinnedTo.animation.currentFrame].z}this.container.visible=true}else{if(this.pinnedTo.defaultPin){this.container.x=this.pinnedTo.defaultPin.x;this.container.y=this.pinnedTo.defaultPin.y;if(this.container.z!==this.pinnedTo.defaultPin.z){if(this.stage){this.stage.reorder=true}this.container.z=this.pinnedTo.defaultPin.z}this.container.visible=true}else{this.container.visible=false}}}else{this.container.x=this.owner.x;this.container.y=this.owner.y;if(this.container.z!==(this.owner.z+this.offsetZ)){if(this.stage){this.stage.reorder=true}this.container.z=(this.owner.z+this.offsetZ)}if(this.owner.opacity||(this.owner.opacity===0)){this.container.alpha=this.owner.opacity}}if(this.container.reorder){this.container.reorder=false;this.container.sortChildren(b)}if(this.skewX){this.container.skewX=this.skewX}if(this.skewY){this.container.skewY=this.skewY}if(this.owner.scaleX!=this.lastOwnerScaleX||this.owner.scaleY!=this.lastOwnerScaleY){this.container.scaleX=(this.worldScaleX||1)*(this.owner.scaleX||1);this.container.scaleY=(this.worldScaleY||1)*(this.owner.scaleY||1);this.image.scaleX/=this.imageScaleX;this.image.scaleY/=this.imageScaleY;this.scaleX=this.container.scaleX;this.scaleY=this.container.scaleY;this.lastOwnerScaleX=this.owner.scaleX;this.lastOwnerScaleY=this.owner.scaleY}if(this.rotate||this.mirror||this.flip){c=((this.owner.orientation*180)/Math.PI+360)%360;if(this.rotate){this.container.rotation=c}if(this.mirror){if((c>90)&&(c<270)){this.container.scaleX=-this.scaleX}else{this.container.scaleX=this.scaleX}}if(this.flip){if(c>180){this.container.scaleY=this.scaleY}else{this.container.scaleY=-this.scaleY}}}}})(),addInputs:function(){var b=this,c=false;if(this.click||this.touch){if(this.touch&&createjs.Touch.isSupported()){createjs.Touch.enable(this.stage)}this.image.addEventListener("mousedown",function(d){b.owner.trigger("mousedown",{event:d.nativeEvent,over:c,x:d.stageX,y:d.stageY,entity:b.owner});d.addEventListener("mouseup",function(e){b.owner.trigger("mouseup",{event:e.nativeEvent,over:c,x:e.stageX,y:e.stageY,entity:b.owner})});d.addEventListener("mousemove",function(e){b.owner.trigger("mousemove",{event:e.nativeEvent,over:c,x:e.stageX,y:e.stageY,entity:b.owner})})});this.image.addEventListener("mouseout",function(){c=false});this.image.addEventListener("mouseover",function(){c=true})}if(this.hover){this.stage.enableMouseOver();this.image.addEventListener("mouseout",function(d){c=false;b.owner.trigger("mouseout",{event:d.nativeEvent,over:c,x:d.stageX,y:d.stageY,entity:b.owner})});this.image.addEventListener("mouseover",function(d){c=true;b.owner.trigger("mouseover",{event:d.nativeEvent,over:c,x:d.stageX,y:d.stageY,entity:b.owner})})}},addPins:function(e,f,d){var c=0,b=null;this.pinsToRemove=this.pinsToRemove||[];this.pins={};for(;c<e.length;c++){this.pinsToRemove.push(e[c].pinId);this.pins[e[c].pinId]=b={pinId:e[c].pinId,container:this.container,defaultPin:{x:e[c].x-f,y:e[c].y-d,z:e[c].z||1e-8}};this.owner.trigger("attach-pin",b)}},removePins:function(){var b=0;if(this.pins&&this.pinsToRemove){for(;b<this.pinsToRemove.length;b++){this.owner.trigger("remove-pin",this.pins[this.pinsToRemove[b]].pinId);delete this.pins[this.pinsToRemove[b]]}this.pinsToRemove.length=0}},destroy:function(){if(this.stage){this.stage.removeChild(this.container);this.stage=undefined}this.removePins();this.image=undefined;this.container=undefined}}})})();a.components["logic-button"]=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.state=this.owner.state;this.state.released=true;this.state.pressed=false;this.stateChange="";if(e.state==="pressed"){this.pressed()}if(e.toggle){this.toggle=true;this.addListener("mouseup")}else{this.addListeners(["mousedown","mouseup"])}this.addListeners(["handle-logic","pressed","released"])};var c=b.prototype;c.mousedown=c.pressed=function(){this.stateChange="pressed"};c.mouseup=function(){if(this.toggle){if(this.state.pressed){this.released()}else{this.pressed()}}else{this.released()}};c.released=function(){this.stateChange="released"};c["handle-logic"]=function(d){if(this.state.released&&(this.stateChange==="pressed")){this.stateChange="";this.state.pressed=true;this.state.released=false}if(this.state.pressed&&(this.stateChange==="released")){this.stateChange="";this.state.pressed=false;this.state.released=true}};c.destroy=function(){this.removeListeners(this.listeners);this.state=undefined;this.owner=undefined};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();(function(){var c=function(d){return function(e){if(e){this[d]=(e.pressed!==false)}else{this[d]=true}}},b=function(e,g){var d=Math.sqrt(e*e+g*g),f=0;if(d!=0){f=Math.acos(e/d);if(g<0){f=(Math.PI*2)-f}}return f};return a.createComponentClass({id:"logic-directional-movement",constructor:function(e){var d=this;this.speed=e.speed||0.3;this.boost=false;this.paused=false;if(e.pause||e.boost){if(typeof e.pause==="string"){this.pausers=[e.pause]}else{this.pausers=e.pause}this.addListener("logical-state");this["logical-state"]=function(h){var g=false;if(e.pause){for(var f=0;f<d.pausers.length;f++){g=g||h[d.pausers[f]]}this.paused=g}if(e.boost){if(d.boost){if(h[e.boost]===false){d.boost=false}}else{if(h[e.boost]===true){d.boost=true}}}}}this.state=this.owner.state;this.state.moving=false;this.state.left=false;this.state.right=false;this.state.up=false;this.state.down=false;this.owner.orientation=0;this.moving=false;this.left=false;this.right=false;this.up=false;this.down=false;this.upLeft=false;this.upRight=false;this.downLeft=false;this.downRight=false;this.facing="right"},events:{"handle-logic":function(i){var f=0,d=0,l=this.up||this.upLeft||this.downLeft,m=this.upLeft||(this.up&&this.left),h=this.left||this.upLeft||this.downLeft,n=this.downLeft||(this.down&&this.left),p=this.down||this.downLeft||this.downRight,g=this.downRight||(this.down&&this.right),o=this.right||this.upRight||this.downRight,k=this.upRight||(this.up&&this.right),e=0;if(l&&p){this.moving=false}else{if(h&&o){this.moving=false}else{if(m){f=-this.speed/1.414;d=-this.speed/1.414;this.moving=true;this.facing="up-left"}else{if(k){d=-this.speed/1.414;f=this.speed/1.414;this.moving=true;this.facing="up-right"}else{if(n){d=this.speed/1.414;f=-this.speed/1.414;this.moving=true;this.facing="down-left"}else{if(g){d=this.speed/1.414;f=this.speed/1.414;this.moving=true;this.facing="down-right"}else{if(h){f=-this.speed;this.moving=true;this.facing="left"}else{if(o){f=this.speed;this.moving=true;this.facing="right"}else{if(l){d=-this.speed;this.moving=true;this.facing="up"}else{if(p){d=this.speed;this.moving=true;this.facing="down"}else{this.moving=false;switch(this.facing){case"up":l=true;break;case"down":p=true;break;case"left":h=true;break;case"right":o=true;break;case"up-left":l=true;h=true;break;case"up-right":l=true;o=true;break;case"down-left":p=true;h=true;break;case"down-right":o=true;o=true;break}}}}}}}}}}}if(this.moving){if(!this.paused){if(this.boost){f*=1.5;d*=1.5}this.owner.x+=(f*i.delta);this.owner.y+=(d*i.delta)}e=b(f,d);if(this.owner.orientation!==e){this.owner.orientation=e}}if(this.state.moving!==this.moving){this.state.moving=this.moving}if(this.state.up!==l){this.state.up=l}if(this.state.right!==o){this.state.right=o}if(this.state.down!==p){this.state.down=p}if(this.state.left!==h){this.state.left=h}},"go-down":c("down"),"go-south":c("down"),"go-down-left":c("downLeft"),"go-southwest":c("downLeft"),"go-left":c("left"),"go-west":c("left"),"go-up-left":c("upLeft"),"go-northwest":c("upLeft"),"go-up":c("up"),"go-north":c("up"),"go-up-right":c("upRight"),"go-northeast":c("upRight"),"go-right":c("right"),"go-east":c("right"),"go-down-right":c("downRight"),"go-southeast":c("downRight"),stop:function(d){if(!d||(d.pressed!==false)){this.left=false;this.right=false;this.up=false;this.down=false;this.upLeft=false;this.upRight=false;this.downLeft=false;this.downRight=false}},accelerate:function(d){this.speed=d}}})})();(function(){return a.createComponentClass({id:"logic-angular-movement",constructor:function(b){this.angle=0;this.v=[0,0];this.maxV=this.owner.maxVelocity||b.maxVelocity||3;this.a=this.owner.acceleration||b.acceleration||0.01;this.moving=false;this.piOverTwo=Math.PI/2;this.visualOffset=b.visualOrientationOffset||0;this.owner.orientation=this.owner.orientation||this.visualOffset},events:{"handle-logic":function(d){var c=d.delta;var b=0;if(this.moving){this.v[0]+=this.a*Math.cos(this.angle)*c;this.v[1]+=this.a*Math.sin(this.angle)*c;if(this.v[0]==0){if(this.v[1]>0){b=this.piOverTwo}else{if(this.v[1]<0){b=-this.piOverTwo}else{b=this.angle}}}else{b=Math.atan(this.v[1]/this.v[0]);if(this.v[0]<0){b=Math.PI+b}}if(this.v[0]>=0){this.v[0]=Math.min(this.v[0],this.maxV*Math.cos(b))}else{this.v[0]=Math.max(this.v[0],this.maxV*Math.cos(b))}if(this.v[1]>=0){this.v[1]=Math.min(this.v[1],this.maxV*Math.sin(b))}else{this.v[1]=Math.max(this.v[1],this.maxV*Math.sin(b))}this.owner.x+=this.v[0];this.owner.y+=this.v[1];this.owner.orientation=b+this.visualOffset}},"set-angle":function(b){this.angle=b},move:function(){this.moving=true},stop:function(){this.moving=false}}})})();(function(){return a.createComponentClass({id:"logic-gravity",constructor:function(b){this.vY=b.gravity||b.yGravity;if(typeof this.vY!=="number"){this.vY=0.01}this.vX=b.xGravity||0;this.maxVelocity=b.maxVelocity||0;this.newMaxX=this.maxVelocityX=b.maxVelocityX||this.maxVelocity;this.newMaxY=this.maxVelocityY=b.maxVelocityY||this.maxVelocity;this.accelerationX=0;this.accelerationY=0;this.durationX=0;this.durationY=0;if(typeof this.owner.dx!=="number"){this.owner.dx=0}if(typeof this.owner.dy!=="number"){this.owner.dy=0}this.state=this.owner.state;this.hovering=this.state.hovering=this.state.hovering||false;this.falling=this.state.falling=this.state.falling||false;this.grounded=this.state.grounded=this.state.grounded||!this.falling},events:{"handle-logic":function(b){var c=b.delta;if(!this.hovering){if(this.newMaxX!==this.maxVelocityX){if(this.durationX-c>0){this.maxVelocityX+=(this.newMaxX-this.maxVelocityX)*(c/this.durationX);this.durationX-=c}else{if(this.accelerationX){if(this.newMaxX>this.maxVelocityX){if(this.owner.dx>this.maxVelocityX){this.maxVelocityX=this.owner.dx}this.maxVelocityX=Math.min(this.maxVelocityX+(this.accelerationX*b.delta),this.newMaxX)}else{if(this.owner.dx<this.maxVelocityX){this.maxVelocityX=this.owner.dx}this.maxVelocityX=Math.max(this.maxVelocityX-(this.accelerationX*b.delta),this.newMaxX)}}else{this.maxVelocityX=this.newMaxX;this.durationX=0}}}if(this.newMaxY!==this.maxVelocityY){if(this.durationY-c>0){this.maxVelocityY+=(this.newMaxY-this.maxVelocityY)*(c/this.durationY);this.durationY-=c}else{if(this.accelerationY){if(this.newMaxY>this.maxVelocityY){if(this.owner.dy>this.maxVelocityY){this.maxVelocityY=this.owner.dy}this.maxVelocityY=Math.min(this.maxVelocityY+(this.accelerationY*b.delta),this.newMaxY)}else{if(this.owner.dy<this.maxVelocityY){this.maxVelocityY=this.owner.dy}this.maxVelocityY=Math.max(this.maxVelocityY-(this.accelerationY*b.delta),this.newMaxY)}}else{this.maxVelocityY=this.newMaxY;this.durationY=0}}}this.owner.dx+=this.vX*c;this.owner.dy+=this.vY*c;if(this.vX&&this.maxVelocityX&&(this.owner.dx>this.maxVelocityX)){this.owner.dx=this.maxVelocityX}if(this.vY&&this.maxVelocityY&&(this.owner.dy>this.maxVelocityY)){this.owner.dy=this.maxVelocityY}}if(this.state.hovering!==this.hovering){this.state.hovering=this.hovering}if(this.state.falling!==this.falling){this.state.falling=this.falling}if(this.state.grounded!==this.grounded){this.state.grounded=this.grounded}this.grounded=false;this.falling=true},"hit-solid":function(b){if(!this.hovering){if(((b.y>0)&&(this.vY>0))||((b.y<0)&&(this.vY<0))){this.owner.dy=0;this.falling=false;this.grounded=true}else{if(((b.x<0)&&(this.vX<0))||((b.x>0)&&(this.vX>0))){this.owner.dx=0;this.falling=false;this.grounded=true}}}return true},glide:function(e){var b=e.maxVelocity||this.maxVelocity,d=e.duration||0,c=e.acceleration||0;this.durationX=e.durationX||d;this.durationY=e.durationY||d;this.accelerationX=e.accelerationX||c;this.accelerationY=e.accelerationY||c;this.newMaxX=e.maxVelocityX||b||this.maxVelocityX;this.newMaxY=e.maxVelocityY||b||this.maxVelocityY;if(!this.durationX&&!this.accelerationX){this.maxVelocityX=this.newMaxX}if(!this.durationY&&!this.accelerationY){this.maxVelocityY=this.newMaxY}},gravitate:function(b){this.vY=b.gravity||b.yGravity||0;this.vX=b.xGravity||0},hover:function(b){this.owner.dx=0;this.owner.dy=0;this.hovering=!b||(b.pressed!==false)},fall:function(b){this.hovering=!!b&&(b.pressed===false)}},methods:{destroy:function(){this.owner.dx=0;this.owner.dy=0}}})})();(function(){return a.createComponentClass({id:"logic-jump",constructor:function(b){if(b.message){this.addListener(b.message);this[b.message]=this["jump"]}this.aX=this.owner.accelerationX||b.accelerationX||0;this.aY=this.owner.accelerationY||b.accelerationY;if(typeof this.aY!=="number"){this.aY=-1}if(typeof this.owner.dx!=="number"){this.owner.dx=0}if(typeof this.owner.dy!=="number"){this.owner.dy=0}this.time=b.time||0;this.jumpLength=0;this.jumping=false;this.justJumped=false;this.grounded=true;this.state=this.owner.state;this.state.jumping=false;this.state.justJumped=false},events:{"handle-logic":function(b){var c=b.delta;if(this.state.justJumped!==this.justJumped){this.state.justJumped=this.justJumped}if(this.justJumped){this.justJumped=false;this.jumpLength=this.time;this.owner.triggerEvent("just-jumped")}if(this.state.jumping!==this.jumping){this.state.jumping=this.jumping}if(this.jumping){if(this.time){this.owner.dx+=this.aX*c;this.owner.dy+=this.aY*c;this.jumpLength-=c;if(this.jumpLength<0){this.jumping=false}}else{this.owner.dx=this.aX;this.owner.dy=this.aY;this.jumping=false}}this.grounded=false},jump:function(c){var b=false;if(c){b=(c.pressed!==false)}else{b=true}if(!this.jumping&&b&&this.grounded){this.justJumped=true;this.jumping=true}else{if(this.jumping&&!b){this.jumping=false}}},"hit-solid":function(b){if(!this.justJumped){if(b.y){this.owner.dy=0;if(((b.y>0)&&(this.aY<0))||((b.y<0)&&(this.aY>0))){this.jumping=false;this.grounded=true}}else{if(b.x){this.owner.dx=0;if(((b.x<0)&&(this.aX>0))||((b.x>0)&&(this.aX<0))){this.jumping=false;this.grounded=true}}}}return true}}})})();a.components.counter=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.addListeners(["increment-count","change-count","change-total"]);if(e.incrementMessage){this.addListener(e.incrementMessage);this[e.incrementMessage]=this["increment-count"]}if(e.countMessage){this.addListener(e.countMessage);this[e.countMessage]=this["change-count"]}if(e.totalMessage){this.addListener(e.totalMessage);this[e.totalMessage]=this["change-total"]}this.count=0;this.total=0;this.showTotal=e.showTotal||false;this.output={text:""}};var c=b.prototype;c["change-total"]=function(d){this.total=d;if(this.total){this.output.text=this.count+"/"+this.total}else{this.output.text=""+this.count}this.owner.trigger("update-content",this.output)};c["change-count"]=function(d){this.count=d;if(this.total){this.output.text=this.count+"/"+this.total}else{this.output.text=""+this.count}this.owner.trigger("update-content",this.output)};c["increment-count"]=function(){this.count++;if(this.total){this.output.text=this.count+"/"+this.total}else{this.output.text=""+this.count}this.owner.trigger("update-content",this.output)};c.destroy=function(){this.removeListeners(this.listeners);this.owner=undefined};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();a.components["logic-timer"]=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.addListeners(["handle-logic","set-timer","start-timer","stop-timer"]);this.time=this.owner.time||e.time||0;this.prevTime=this.time;this.alarmTime=this.owner.alarmTime||e.alarmTime||undefined;this.isInterval=this.owner.isInterval||e.isInterval||false;this.alarmMessage=this.owner.alarmMessage||e.alarmMessage||"";this.updateMessage=this.owner.updateMessage||e.updateMessage||"";this.isOn=this.owner.on||e.on||true;this.isIncrementing=this.owner.isIncrementing||e.isIncrementing||true;this.maxTime=this.owner.maxTime||e.maxTime||3600000};var c=b.prototype;c["handle-logic"]=function(d){if(this.isOn){this.prevTime=this.time;this.isIncrementing?this.time+=d.delta:this.time-=d.delta;if(Math.abs(this.time)>this.maxTime){if(this.time>0){this.time=this.maxTime}else{if(this.time<0){this.time=-this.maxTime}}this["stop-timer"]()}if(typeof this.alarmTime!=="undefined"){if(this.isInterval){if(this.isIncrementing){if(Math.floor(this.time/this.alarmTime)>Math.floor(this.prevTime/this.alarmTime)){this.owner.trigger(this.alarmMessage)}}else{if(Math.floor(this.time/this.alarmTime)<Math.floor(this.prevTime/this.alarmTime)){this.owner.trigger(this.alarmMessage)}}}else{if(this.isIncrementing){if(this.time>this.alarmTime&&this.prevTime<this.alarmTime){this.owner.trigger(this.alarmMessage)}}else{if(this.time<this.alarmTime&&this.prevTime>this.alarmTime){this.owner.trigger(this.alarmMessage)}}}}}this.owner.trigger(this.updateMessage,{time:this.time})};c["set-timer"]=function(d){this.time=d.time};c["start-timer"]=function(){this.isOn=true};c["stop-timer"]=function(){this.isOn=false};c.destroy=function(){this.removeListeners(this.listeners);this.owner=undefined};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();a.components["logic-portal"]=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.addListeners(["handle-logic","occupied-portal","activate-portal"]);this.destination=this.owner.destination||e.destination;this.activated=false;this.used=false};var c=b.prototype;c["handle-logic"]=function(){if(!this.used&&this.activated){this.owner.trigger("new-scene",{scene:this.destination});this.used=true}};c["occupied-portal"]=function(e){var d=e.entity;d.trigger("portal-waiting",this.owner)};c["activate-portal"]=function(){this.activated=true};c.destroy=function(){this.removeListeners(this.listeners);this.owner=undefined};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();(function(){var d=function(e,g,f){return function(h){g.call(e,h);f.call(e,h)}},b=function(g,e,f){if(typeof g==="string"){return function(h){if(h.myType===f){if(h.hitType===e){this.owner.triggerEvent(g,h)}}}}else{if(Array.isArray(g)){return function(h){if(h.myType===f){if(h.hitType===e){for(var i in g){this.owner.triggerEvent(g[i],h)}}}}}else{return function(k){var i=k.x,h=k.y;if(k.entity&&!(i||h)){i=k.entity.x-this.owner.x;h=k.entity.y-this.owner.y}if(k.myType===f){if(k.hitType===e){if((h>0)&&g.bottom){this.owner.trigger(g.bottom,k)}if((h<0)&&g.top){this.owner.trigger(g.top,k)}if((i>0)&&g.right){this.owner.trigger(g.right,k)}if((i<0)&&g.left){this.owner.trigger(g.left,k)}if(g.all){this.owner.trigger(g.all,k)}}}}}}},c=function(f,e){if(!e.collisionFunctions){e.collisionFunctions={};e.getAABB=function(k){if(!k){var g=e.aabb=e.aabb||new a.classes.aABB();g.reset();for(var h in e.collisionFunctions){g.include(e.collisionFunctions[h].getAABB())}return g}else{if(e.collisionFunctions[k]){return e.collisionFunctions[k].getAABB()}else{return null}}};e.getPreviousAABB=function(g){if(e.collisionFunctions[g]){return e.collisionFunctions[g].getPreviousAABB()}else{return null}};e.getShapes=function(g){if(e.collisionFunctions[g]){return e.collisionFunctions[g].getShapes()}else{return null}};e.getPrevShapes=function(g){if(e.collisionFunctions[g]){return e.collisionFunctions[g].getPrevShapes()}else{return null}};e.prepareCollision=function(g,k){for(var h in e.collisionFunctions){e.collisionFunctions[h].prepareCollision(g,k)}};e.relocateEntity=function(g,h){e.triggerEvent("relocate-entity",{x:g,y:h})};e.movePreviousX=function(g){for(var h in e.collisionFunctions){e.collisionFunctions[h].movePreviousX(g)}};e.getCollisionTypes=function(){return e.collisionTypes};e.getSolidCollisions=function(){return e.solidCollisions}}e.collisionFunctions[f.collisionType]={getAABB:function(){return f.getAABB()},getPreviousAABB:function(){return f.getPreviousAABB()},getShapes:function(){return f.getShapes()},getPrevShapes:function(){return f.getPrevShapes()},prepareCollision:function(g,h){f.prepareCollision(g,h)},movePreviousX:function(g){f.movePreviousX(g)}}};return a.createComponentClass({id:"collision-basic",constructor:function(h){var s=0,g=null,q=h.regX,p=h.regY,f=h.width,t=h.height,r=h.radius,l=h.margin||0,k=h.marginLeft||l,o=h.marginRight||l,e=h.marginTop||l,m=h.marginBottom||l;if(isNaN(f)){f=this.owner.width;if(isNaN(q)){q=this.owner.regX}}if(isNaN(t)){t=this.owner.height;if(isNaN(p)){p=this.owner.regY}}if(isNaN(r)){r=this.owner.radius;if(isNaN(q)){q=this.owner.regX}if(isNaN(p)){p=this.owner.regY}}this.immobile=this.owner.immobile=this.owner.immobile||h.immobile||false;this.owner.previousX=this.owner.previousX||this.owner.x;this.owner.previousY=this.owner.previousY||this.owner.y;this.aabb=new a.classes.aABB();this.prevAABB=new a.classes.aABB();this.owner.bullet=this.owner.bullet||h.bullet;if(h.shapes){g=h.shapes}else{if(h.shape){g=[h.shape]}else{if(h.shapeType==="circle"){r=r||(((f||0)+(t||0))/4);g=[{regX:(isNaN(q)?r:q)-(o-k)/2,regY:(isNaN(p)?r:p)-(m-e)/2,radius:r,width:r*2,height:r*2,type:h.shapeType}]}else{g=[{regX:(isNaN(q)?(f||0)/2:q)-(o-k)/2,regY:(isNaN(p)?(t||0)/2:p)-(m-e)/2,points:h.points,width:(f||0)+k+o,height:(t||0)+e+m,type:h.shapeType}]}}}this.collisionType=h.collisionType||"none";this.owner.collisionTypes=this.owner.collisionTypes||[];this.owner.collisionTypes.push(this.collisionType);this.shapes=[];this.prevShapes=[];this.entities=undefined;for(s in g){this.shapes.push(new a.classes.collisionShape(this.owner,g[s],this.collisionType));this.prevShapes.push(new a.classes.collisionShape(this.owner,g[s],this.collisionType));this.prevAABB.include(this.prevShapes[s].getAABB());this.aabb.include(this.shapes[s].getAABB())}if(h.jumpThrough){this.owner.jumpThrough=true}c(this,this.owner);this.owner.solidCollisions=this.owner.solidCollisions||{};this.owner.solidCollisions[this.collisionType]=[];if(h.solidCollisions){for(var n in h.solidCollisions){this.owner.solidCollisions[this.collisionType].push(n);this.owner.collides=true;if(h.solidCollisions[n]){this.addListener("hit-by-"+n);this["hit-by-"+n]=b(h.solidCollisions[n],"solid",this.collisionType)}}}this.owner.softCollisions=this.owner.softCollisions||{};this.owner.softCollisions[this.collisionType]=[];if(h.softCollisions){for(var n in h.softCollisions){this.owner.softCollisions[this.collisionType].push(n);if(h.softCollisions[n]){if(this["hit-by-"+n]){this["hit-by-"+n]=d(this,this["hit-by-"+n],b(h.softCollisions[n],"soft",this.collisionType))}else{this.addListener("hit-by-"+n);this["hit-by-"+n]=b(h.softCollisions[n],"soft",this.collisionType)}}}}},events:{"collide-on":function(){this.owner.parent.trigger("add-collision-entity",this.owner)},"collide-off":function(){this.owner.parent.trigger("remove-collision-entity",this.owner)},"handle-logic":function(){if(this.owner.movementAbsorbed){this.owner.movementAbsorbed=false}},"prepare-for-collision":function(f){var e=this.owner.x,g=this.owner.y;if(!this.owner.movementAbsorbed&&f){this.owner.movementAbsorbed=true;if(this.owner.dx){e+=this.owner.dx*(f.delta||0)}if(this.owner.dy){g+=this.owner.dy*(f.delta||0)}}this.owner.x=e;this.owner.y=g},"relocate-entity":function(f){if(f.relative){this.owner.x=this.owner.previousX+f.x;this.owner.y=this.owner.previousY+f.y}else{this.owner.x=f.x;this.owner.y=f.y}this.aabb.reset();for(var e in this.shapes){this.shapes[e].update(this.owner.x,this.owner.y);this.aabb.include(this.shapes[e].getAABB())}this.owner.previousX=this.owner.x;this.owner.previousY=this.owner.y}},methods:{getAABB:function(){return this.aabb},getPreviousAABB:function(){return this.prevAABB},getShapes:function(){return this.shapes},getPrevShapes:function(){return this.prevShapes},prepareCollision:function(e,g){var f=this.prevShapes;this.owner.x=e;this.owner.y=g;this.prevShapes=this.shapes;this.shapes=f;this.prevAABB.set(this.aabb);this.aabb.reset();for(var e=0;e<this.shapes.length;e++){this.shapes[e].update(this.owner.x,this.owner.y);this.aabb.include(this.shapes[e].getAABB())}},movePreviousX:function(e){this.prevAABB.moveX(e);for(var f=0;f<this.prevShapes.length;f++){this.prevShapes[f].setXWithEntityX(e)}}}})})();(function(){var b=[],d=0,c=[];return a.createComponentClass({id:"collision-tiles",constructor:function(e){this.collisionMap=e.collisionMap||[];this.tileWidth=e.tileWidth||this.owner.tileWidth||10;this.tileHeight=e.tileHeight||this.owner.tileHeight||10;this.tileHalfWidth=this.tileWidth/2;this.tileHalfHeight=this.tileHeight/2},methods:{getShape:function(g,e,h){var f=null;if(d<b.length){f=b[d];d+=1;f.update(e*this.tileWidth+this.tileHalfWidth,h*this.tileHeight+this.tileHalfHeight)}else{b.push(new a.classes.collisionShape(null,{x:e*this.tileWidth+this.tileHalfWidth,y:h*this.tileHeight+this.tileHalfHeight,type:"rectangle",width:this.tileWidth,height:this.tileHeight},"tiles"));f=b[d]}return f},addShape:function(f,g,e,h){if(this.collisionMap[e][h]>-1){f.push(this.getShape(g,e,h))}else{if(this.collisionMap[e][h]<-1){switch(this.collisionMap[e][h]){case -2:if(g.bottom<=h*this.tileHeight){f.push(this.getShape(g,e,h))}break;case -3:if(g.left>=(e+1)*this.tileWidth){f.push(this.getShape(g,e,h))}break;case -4:if(g.top>=(h+1)*this.tileHeight){f.push(this.getShape(g,e,h))}break;case -5:if(g.right<=e*this.tileWidth){f.push(this.getShape(g,e,h))}break}}}return f}},publicMethods:{getAABB:function(){return{left:0,top:0,right:this.tileWidth*this.collisionMap.length,bottom:this.tileHeight*this.collisionMap.length[0]}},isTile:function(e,f){return !((e<0)||(f<0)||(e>=this.collisionMap.length)||(f>=this.collisionMap[0].length)||(this.collisionMap[e][f]===-1))},getTileShapes:function(h,m){var g=Math.max(Math.floor(h.left/this.tileWidth),0),k=Math.max(Math.floor(h.top/this.tileHeight),0),n=Math.min(Math.ceil(h.right/this.tileWidth),this.collisionMap.length),e=Math.min(Math.ceil(h.bottom/this.tileHeight),this.collisionMap[0].length),l=0,i=0,f=c;c.length=0;d=0;for(l=g;l<n;l++){for(i=k;i<e;i++){this.addShape(f,m,l,i)}}return f}}})})();a.components["logic-fps-counter"]=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.addListeners(["handle-logic","time-elapsed"]);this.counter={text:""};this.times={};this.timeElapsed=false;this.ticks=e.ticks||30;this.count=this.ticks};var c=b.prototype;c["handle-logic"]=function(){if(!a.game.settings.debug&&this.owner.parent){this.owner.parent.removeEntity(this.owner)}if(this.timeElapsed){this.timeElapsed=false;this.count--;if(!this.count){this.count=this.ticks;var e=Math.floor(createjs.Ticker.getMeasuredFPS())+" FPS<br />";for(var d in this.times){e+="<br />"+d+": "+Math.round(this.times[d]/this.ticks)+"ms";this.times[d]=0}this.counter.text=e;this.owner.trigger("update-content",this.counter)}}};c["time-elapsed"]=function(d){if(d){if(d.name){if((d.name==="Engine Total")&&!this.timeElapsed){this.timeElapsed=true}if(!this.times[d.name]){this.times[d.name]=0}this.times[d.name]+=d.time}}};c.destroy=function(){this.counter=undefined;this.removeListeners(this.listeners)};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();(function(){return a.createComponentClass({id:"render-destroy-me",constructor:function(b){this.animationId=b.animationId||"";this.animationIds;if(b.animationId){this.animationIds=[b.animationId]}else{if(b.animationIds){this.animationIds=b.animationIds}else{this.animationIds=[]}}},events:{"animation-ended":function(c){for(var b=0;b<this.animationIds.length;b++){if(this.animationIds[b]==c){this.owner.parent.removeEntity(this.owner)}}}}})})();a.components["entity-linker"]=(function(){var c=function(e){if(typeof e==="string"){return function(h,f){var g=0;for(;g<this.links.length;g++){this.links[g].trigger(e,h,f)}}}else{return function(h,f){var g=0;for(var k in e){for(g=0;g<this.links.length;g++){this.links[g].trigger(e[k],h,f)}}}}},b=function(e,g){this.owner=e;this.listeners=[];this.addListeners(["adopted","link-entity","unlink-entity"]);if(g.events){for(var h in g.events){this[h]=c(g.events[h]);this.addListener(h)}}this.linkId=g.linkId||this.owner.linkId||"linked";if(!this.owner.linkId){this.owner.linkId=this.linkId}this["to-"+this.linkId+"-entities"]=c("from-"+this.linkId+"-entities");this.addListener("to-"+this.linkId+"-entities");this["from-"+this.linkId+"-entities"]=function(i){this.owner.trigger(i.message,i.value,i.debug)};this.addListener("from-"+this.linkId+"-entities");this.links=[];if(this.owner.linkEntities){for(var f in this.owner.linkEntities){this.links.push(this.owner.linkEntities[f])}}this.message={message:"",value:null};this.linkMessage={entity:this.owner,linkId:this.linkId,reciprocate:false};if(this.owner.parent){this["adopted"]()}};var d=b.prototype;d.adopted=function(e){var f=this.owner.parent;while(f.parent){f=f.parent}this.linkMessage.reciprocate=true;f.trigger("link-entity",this.linkMessage,true)};d["link-entity"]=function(g){var e=0,f=false;if((g.linkId===this.linkId)&&(g.entity!==this.owner)){for(;e<this.links.length;e++){if(this.links[e]===g.entity){f=true;break}}if(!f){this.links.push(g.entity);if(g.reciprocate){this.linkMessage.reciprocate=false;g.entity.trigger("link-entity",this.linkMessage)}}}};d["unlink-entity"]=function(f){var e=0;for(;e<this.links.length;e++){if(f.entity===this.links[e]){this.links.splice(e,1);break}}};d.destroy=function(){var e=0;for(;e<this.links.length;e++){this.links[e].trigger("unlink-entity",this.linkMessage)}this.links.length=0;this.removeListeners(this.listeners)};d.addListeners=function(f){for(var e in f){this.addListener(f[e])}};d.removeListeners=function(f){for(var e in f){this.removeListener(e,f[e])}};d.addListener=function(f,h){var e=this,g=h||function(k,i){e[f](k,i)};this.owner.bind(f,g);this.listeners[f]=g};d.removeListener=function(e,f){this.owner.unbind(e,f)};return b})();a.components["logic-carrier"]=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.addListeners(["load","carry-me","release-me"])};var c=b.prototype;c.load=function(d){if(!this.owner.trigger("add-collision-entity",this.owner)){this.owner.addComponent(new a.components["collision-group"](this.owner,{}));this.owner.trigger("add-collision-entity",this.owner)}};c["carry-me"]=function(d){this.owner.trigger("add-collision-entity",d.entity)};c["release-me"]=function(d){this.owner.trigger("remove-collision-entity",d.entity)};c.destroy=function(){this.removeListeners(this.listeners)};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();a.components["logic-portable"]=(function(){var b=function(d,e){this.owner=d;this.listeners=[];this.addListeners(["handle-logic","hit-solid"]);this.portableDirections=e.portableDirections||{down:true};this.carrier=this.lastCarrier=undefined;this.message={entity:this.owner}};var c=b.prototype;c["handle-logic"]=function(d){if(this.carrierConnected){if(this.carrier!=this.lastCarrier){if(this.lastCarrier){this.lastCarrier.trigger("release-me",this.message)}this.carrier.trigger("carry-me",this.message)}this.carrierConnected=false}else{if(this.carrier){this.carrier.trigger("release-me",this.message);this.carrier=undefined}}this.lastCarrier=this.carrier};c["hit-solid"]=function(d){if(d.y>0){this.updateCarrier(d.entity,"down")}else{if(d.y<0){this.updateCarrier(d.entity,"up")}else{if(d.x<0){this.updateCarrier(d.entity,"left")}else{if(d.x>0){this.updateCarrier(d.entity,"right")}}}}};c.updateCarrier=function(d,e){if(this.portableDirections[e]){if(d){if(d!==this.carrier){this.carrier=d}this.carrierConnected=true}}};c.destroy=function(){this.removeListeners(this.listeners)};c.addListeners=function(e){for(var d in e){this.addListener(e[d])}};c.removeListeners=function(e){for(var d in e){this.removeListener(d,e[d])}};c.addListener=function(e,g){var d=this,f=g||function(i,h){d[e](i,h)};this.owner.bind(e,f);this.listeners[e]=f};c.removeListener=function(d,e){this.owner.unbind(d,e)};return b})();(function(){var d=function(f,e){if(e===" "){return f+"default"}else{return f+e}},c=function(l,g,k,m){var f="",h=[],e=null;if(!g[" "]){g[" "]=g["default"]}if(Array.isArray(l)){for(f in l){h.push(b(l[f],g,k,m))}e=h.splice(0,1)[0];e.next=h;return e}else{return b(l,g,k,m)}},b=function(n,o,p,k){var h=0,f={},g=0,e="",l="",m=n.voice;if(typeof n.sound==="string"){f.sound=n.sound;f.events=[]}else{for(h in n.sound){f[h]=n.sound[h]}if(f.events){f.events=f.events.slice()}else{f.events=[]}}if(m){m+=" ";for(h=0;h<m.length;h++){l=m[h];if(l!==e){e=l;f.events.push({time:g,event:d(p,l)})}g+=k}}return f};return a.createComponentClass({id:"voice-over",constructor:function(g){var f="",e={audioMap:{},aliases:g.aliases},h={spriteSheet:g.spriteSheet,acceptInput:g.acceptInput,scaleX:g.scaleX,scaleY:g.scaleY,rotate:g.rotate,mirror:g.mirror,flip:g.flip,hidden:g.hidden,animationMap:{},pins:g.pins,pinTo:g.pinTo,aliases:g.aliases};this.message=(g.messagePrefix||"voice-over")+"-";for(f in g.animationMap){h.animationMap[d(this.message,f)]=g.animationMap[f]}h.animationMap["default"]=g.animationMap["default"];console.log(h);this.owner.addComponent(new a.components["render-animation"](this.owner,h));for(f in g.voiceoverMap){e.audioMap[f]=c(g.voiceoverMap[f],g.animationMap,this.message,g.frameLength||100)}console.log(e);this.owner.addComponent(new a.components.audio(this.owner,e))},events:{load:function(e){this.owner.removeComponent(this)}}})})();(function(){var c=function(d){var e=function(g,f){if(f&&!g.message){return{event:g.event,message:f,delay:g.delay,repeat:g.repeat}}else{return g}};if(d.singleInstance){return function(g){var f=0,h=true;for(;f<this.queue.length;f++){if(this.queue[f].event===d.event){h=false}}if(h){this.queue.push(e(d,g));this.queueTimes.push(d.delay)}}}else{return function(f){this.queue.push(e(d,f));this.queueTimes.push(d.delay)}}},b=function(d){return function(){var e=this.queue.length-1;for(;e>-1;e--){if(this.queue[e]===d){this.queueTimes.splice(e,1);this.queue.splice(e,1)}}}};return a.createComponentClass({id:"logic-delay-message",constructor:function(d){this.queueTimes=[];this.queue=[];if(d.events){for(var e in d.events){this[e]=c(d.events[e]);this.addListener(e);if(d.events[e].cancelEvent){this[d.events[e].cancelEvent]=b(d.events[e]);this.addListener(d.events[e].cancelEvent)}}}},events:{"handle-logic":function(e){var d=this.queue.length-1;for(;d>-1;d--){this.queueTimes[d]-=e.delta;if(this.queueTimes[d]<=0){this.owner.trigger(this.queue[d].event,this.queue[d].message);if(this.queue[d].repeat){this.queueTimes[d]+=this.queue[d].delay}else{this.queueTimes.splice(d,1);this.queue.splice(d,1)}}}}},methods:{destroy:function(){this.queueTimes.length=0;this.queue.length=0}}})})();(function(){return a.createComponentClass({id:"logic-rebounder",constructor:function(b){this.owner.dx=this.owner.dx||0;this.owner.dy=this.owner.dy||0;this.owner.mass=this.owner.mass||b.mass||1;this.elasticity=b.elasticity||0.8;this.v=new a.classes.vector2D(0,0);this.incidentVector=new a.classes.vector2D(0,0);this.staticCollisionOccurred=false;this.nonStaticCollisionOccurred=false;this.staticHitThisTick=null;this.hitThisTick=[];this.otherVelocityData=null;this.otherV=new a.classes.vector2D(0,0);this.otherVelocityData=[]},events:{"handle-logic":function(b){this.staticHitThisTick=null;this.hitThisTick.length=0;this.otherVelocityData.length=0},"hit-static":function(c){var b=0;if(c.x){this.staticHitThisTick=c.entity}else{if(c.y){if(c.entity==this.staticHitThisTick){this.staticHitThisTick=null;return}this.staticHitThisTick=null}}this.v.set(this.owner.dx,this.owner.dy);this.incidentVector.set(c.direction.x,c.direction.y);b=this.v.scalarProjection(this.incidentVector);if(!isNaN(b)){this.incidentVector.scale(b*(1+this.elasticity));this.v.subtractVector(this.incidentVector)}this.owner.dx=this.v.x;this.owner.dy=this.v.y},"hit-non-static":function(k){var g=k.entity;var d=false;var h=0;var e=0;var c=0;var b=0;var f=0;for(var i=0;i<this.hitThisTick.length;i++){if(g===this.hitThisTick[i]){return}}this.hitThisTick.push(g);for(var i=0;i<this.otherVelocityData.length;i++){if(g===this.otherVelocityData[i].entity){this.otherV.set(this.otherVelocityData[i].vX,this.otherVelocityData[i].vY);d=true;break}}if(!d){this.otherV.set(g.dx,g.dy);g.triggerEvent("share-velocity",this.owner)}this.v.set(this.owner.dx,this.owner.dy);this.incidentVector.set(k.direction.x,k.direction.y);c=this.v.scalarProjection(this.incidentVector);c=(isNaN(c))?0:c;b=this.otherV.scalarProjection(this.incidentVector);b=(isNaN(b))?0:b;f=(c*(this.owner.mass-g.mass)+2*g.mass*b)/(this.owner.mass+g.mass);this.incidentVector.scale(f-c);this.owner.dx+=this.incidentVector.x;this.owner.dy+=this.incidentVector.y},"share-velocity":function(b){this.otherVelocityData.push({entity:b,vX:b.dx,vY:b.dy})}},methods:{destroy:function(){this.v=null;this.otherV=null;this.incidentVector=null;this.hitThisTick=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"ai-chaser",constructor:function(b){this.target=null;this.piOverTwo=Math.PI/2;this.prevAngle=0;this.chasing=true},events:{"handle-ai":function(){if(this.target&&this.chasing){this.owner.trigger("move");var d=0;var c=this.target.x-this.owner.x;var b=this.target.y-this.owner.y;if(c==0){if(b>0){d=this.piOverTwo}else{if(b<0){d=-this.piOverTwo}else{d=this.prevAngle;this.owner.trigger("stop")}}}else{d=Math.atan(b/c);if(c<0){d=Math.PI+d}}this.owner.trigger("set-angle",d);this.prevAngle=d}else{this.owner.trigger("stop")}},"set-target":function(b){this.target=b},"start-chasing":function(){this.chasing=true},"stop-chasing":function(){this.chasing=false}},methods:{destroy:function(){this.target=null}}})})();(function(){return a.createComponentClass({id:"logic-spawner",constructor:function(c){this.state=this.owner.state;this.stateName=c.state||"spawning";var d=this.owner.spawneeClass||c.spawneeClass;this.entityClass=a.game.settings.entities[d];this.speed=c.speed||this.owner.speed||0;this.state[this.stateName]=false;this.spawneeProperties={x:0,y:0,z:0,dx:0,dy:0};var e;if(c.passOnProperties){for(var b=0;b<c.passOnProperties.length;b++){e=c.passOnProperties[b];if(this.owner[e]){this.spawneeProperties[e]=this.owner[e]}}}this.propertiesContainer={properties:this.spawneeProperties};this.offsetX=this.owner.offsetX||c.offsetX||0;this.offsetY=this.owner.offsetY||c.offsetY||0;this.firing=false},events:{"handle-logic":function(){var d=0;var b=0;var c=this.state;if(this.firing){this.spawneeProperties.x=this.owner.x;this.spawneeProperties.y=this.owner.y;b=(this.entityClass.properties&&this.entityClass.properties.z)?this.entityClass.properties.z:0;this.spawneeProperties.z=this.owner.z+b;d=this.offsetX;if(c.left){d*=-1}this.spawneeProperties.x+=d;d=this.offsetY;if(c.top){d*=-1}this.spawneeProperties.y+=d;if(this.speed){if(c.top){this.spawneeProperties.dy=-this.speed}else{if(c.bottom){this.spawneeProperties.dy=this.speed}else{delete this.spawneeProperties.dy}}if(c.left){this.spawneeProperties.dx=-this.speed}else{if(c.right){this.spawneeProperties.dx=this.speed}else{delete this.spawneeProperties.dx}}}this.owner.parent.addEntity(new a.classes.entity(this.entityClass,this.propertiesContainer))}if(c[this.stateName]!==this.firing){c[this.stateName]=this.firing}this.firing=false},spawn:function(b){this.firing=!b||(b.pressed!==false)}}})})();(function(){var d=function(g,o,l,f,h,i){var n=0;var m=0;var k=g.slice();if(i=="horizontal"){for(m=h-1;m>=0;m--){for(n=m*f,z=0;n<(m+1)*f;n++,z++){k.splice(((m+1)*o)+z,0,l[n])}}return k}else{if(i=="vertical"){return g.concat(l)}}},c=function(l,n,h,f){var g=0;var k=l.slice();var m=null;for(;g<n.length;g++){m={};for(j in n[g]){m[j]=n[g][j]}if(f=="horizontal"){m.x+=h}else{if(f=="vertical"){m.y+=h}}k.push(m)}return k},e=function(l,k,f){var h=0;var g=0;if(!l.tilewidth&&!l.tileheight){l.tilewidth=k.tilewidth;l.tileheight=k.tileheight}else{if(l.tilewidth!=k.tilewidth||l.tileheight!=k.tileheight){console.warn("Tiled-Loader: Your map has segments with different tile sizes. All tile sizes must match. Segment: "+k)}}if(f=="horizontal"){if(l.height==0){l.height=k.height}else{if(l.height!=k.height){console.warn("Tiled-Loader: You are trying to merge segments with different heights. All segments need to have the same height. Level: "+l+" Segment: "+k)}}}else{if(f=="vertical"){if(l.width==0){l.width=k.width}else{if(l.width!=k.width){console.warn("Tiled-Loader: You are trying to merge segments with different widths. All segments need to have the same width. Level: "+l+" Segment: "+k)}}}}for(;h<k.layers.length;h++){if(!l.layers[h]){l.layers[h]={};for(g in k.layers[h]){l.layers[h][g]=k.layers[h][g]}}else{if(l.layers[h].type==k.layers[h].type){if(l.layers[h].data&&k.layers[h].data){if(f=="horizontal"){l.layers[h].data=d(l.layers[h].data,l.width,k.layers[h].data,k.width,l.height,f);l.layers[h].width+=k.width}else{if(f=="vertical"){l.layers[h].data=d(l.layers[h].data,l.height,k.layers[h].data,k.height,l.width,f);l.layers[h].height+=k.height}}}else{if(l.layers[h].objects&&k.layers[h].objects){if(f=="horizontal"){l.layers[h].objects=c(l.layers[h].objects,k.layers[h].objects,l.width*l.tilewidth,f)}else{if(f=="vertical"){l.layers[h].objects=c(l.layers[h].objects,k.layers[h].objects,l.height*l.tileheight,f)}}}}}else{console.warn("Tiled-Loader: The layers in your level segments do not match. Level: "+l+" Segment: "+k)}}}if(f=="horizontal"){l.width+=k.width}else{if(f=="vertical"){l.height+=k.height}}for(h in k){if(!l[h]){l[h]=k[h]}}},b=function(k){var g=0;var f=0;var h=a.game.settings.levels;var m={height:0,width:0,layers:[]};var n={height:0,width:0,layers:[]};var l=k[g].length;for(;g<k.length;g++){if(l!=k[g].length){console.warn("Tiled-Loader: Your map is not square. Maps must have an equal number of segments in every row.")}m={height:0,width:0,layers:[]};for(f=0;f<k[g].length;f++){if(typeof k[g][f]==="string"){e(m,h[k[g][f]],"horizontal")}else{e(m,k[g][f],"horizontal")}}e(n,m,"vertical")}return n};return a.createComponentClass({id:"level-builder",constructor:function(f){this.levelTemplate=this.owner.levelTemplate||f.levelTemplate;if((this.owner.useUniques||f.useUniques)===false){this.useUniques=false}else{this.useUniques=true}this.levelPieces=this.owner.levelPieces||f.levelPieces;this.levelMessage={level:null,persistentData:null}},events:{"scene-loaded":function(k){var g=null,h=null;this.levelMessage.persistentData=k;this.levelTemplate=k.levelTemplate||this.levelTemplate;this.useUniques=k.useUniques||this.useUniques;h=k.levelPieces||this.levelPieces;this.levelPieces={};if(h){for(var f in h){if(typeof h[f]=="string"){this.levelPieces[f]=h[f]}else{if(h[f].length){this.levelPieces[f]=[];for(var i=0;i<h[f].length;i++){this.levelPieces[f].push(h[f][i])}}else{console.warn("Level Builder: Level pieces of incorrect type: "+h[f])}}}}if(this.levelTemplate){if(typeof this.levelTemplate=="string"){this.levelMessage.level=[this.getLevelPiece(this.levelTemplate)]}else{if(this.levelTemplate.length){this.levelMessage.level=[];for(var f=0;f<this.levelTemplate.length;f++){g=this.levelTemplate[f];if(typeof g=="string"){this.levelMessage.level[f]=this.getLevelPiece(g)}else{if(g.length){this.levelMessage.level[f]=[];for(var i=0;i<g.length;i++){this.levelMessage.level[f][i]=this.getLevelPiece(g[i])}}else{console.warn("Level Builder: Template row is neither a string or array. What is it?")}}}}else{console.warn("Level Builder: Template is neither a string or array. What is it?")}}}else{console.warn("Level Builder: There is no level template.")}if(this.levelMessage.level){this.levelMessage.level=b(this.levelMessage.level);this.owner.triggerEvent("load-level",this.levelMessage)}}},methods:{getLevelPiece:function(g){var i=this.levelPieces[g]||g;var f=null;var h=0;if(i){if(typeof i=="string"){if(this.useUniques){f=i;this.levelPieces[g]=null;return f}else{return i}}else{if(i.length){h=Math.floor(Math.random()*i.length);if(this.useUniques){return(this.levelPieces[g].splice(h,1))[0]}else{return i[h]}}else{console.warn("Level Builder: There are no MORE level pieces of type: "+g)}}}else{console.warn("Level Builder: There are no level pieces of type: "+g)}return null},destroy:function(){this.levelMessage.level=null;this.levelMessage.persistentData=null;this.levelMessage=null}},publicMethods:{mergeLevels:function(f){return b(f)}}})})();(function(){return a.createComponentClass({id:"logic-attached-entity",constructor:function(d){this.entityType=this.owner.entityType||d.entityType;this.entityProperties=this.owner.entityProperties||d.entityProperties||{x:0,y:0,z:0};this.offsetX=this.owner.offsetX||d.offsetX||0;this.offsetY=this.owner.offsetY||d.offsetY||0;var c=this.owner.randomizedXRange||d.randomizedXRange||0;var b=this.owner.randomizedYRange||d.randomizedYRange||0;this.offsetX+=Math.floor(Math.random()*(c+1));this.offsetY+=Math.floor(Math.random()*(b+1));this.attachedEntity=null},events:{adopted:function(b){this.entityProperties.x=this.owner.x+this.offsetX;this.entityProperties.y=this.owner.y+this.offsetY;this.entityProperties.z=this.owner.z+1;this.entityProperties.orientation=this.owner.orientation;this.attachedEntity=this.owner.parent.addEntity(new a.classes.entity(a.settings.entities[this.entityType],{properties:this.entityProperties}))},"handle-logic":function(b){if(this.attachedEntity&&!this.attachedEntity.components.length){this.attachedEntity=null}else{if(this.attachedEntity){this.attachedEntity.x=this.owner.x+this.offsetX;this.attachedEntity.y=this.owner.y+this.offsetY;this.attachedEntity.orientation=this.owner.orientation}}}},methods:{destroy:function(){this.entityProperties=null;if(this.attachedEntity&&this.attachedEntity.parent){try{this.attachedEntity.parent.removeEntity(this.attachedEntity)}catch(b){}}this.attachedEntity=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-hero",constructor:function(b){var c=this.state=this.owner.state;c.swing=false;c.swingHit=false;this.teleportDestination=undefined;this.justTeleported=false},events:{"handle-logic":function(){},"portal-waiting":function(b){b.trigger("activate-portal")}}})})();(function(){return a.createComponentClass({id:"logic-rafter",constructor:function(b){this.manager=null;this.owner.orientation=0;this.v=new a.classes.vector2D(0,0);this.incidentVector=new a.classes.vector2D(0,0);this.vR=0;this.paddlePush=0.07;this.paddleTwist=Math.PI/12;this.rFriction=Math.PI;this.baseRFriction=Math.PI/1024;this.pRight=false;this.pRightRepeatTimer=0;this.pLeft=false;this.controlsLocked=true;this.pRightHeld=false;this.pLeftHeld=false;this.pRightRepeatTime=0;this.pLeftRepeatTime=0;this.pRepeatTime=5;this.topBoundaryActive=true;this.boundaryCurrent=0.3;this.boundaryCurrentTop=0;this.boundaryCurrentBottom=Infinity;this.currentMessage={x:0,y:0};this.borderCurrentOffset=-20;this.nodes=[];this.lookAheadDistance=300;this.closestNodeIndex=0;this.lastPaddleSound=-1;this.soundMessage={volume:1};this.hitThisTick=[];this.waitForRehit=0;this.waitForRehitTime=3},events:{"peer-entity-added":function(c){var d=false;if(c.type=="path-node"){for(var b=0;b<this.nodes.length;b++){if(c.y>this.nodes[b].y){this.nodes.splice(b,0,c);d=true;break}}if(!d){this.nodes.push(c)}}},"handle-logic":function(e){var c=e.delta/100;var b=0;this.v.set(this.owner.dx,this.owner.dy);if(this.vR!=0){b=(Math.pow(this.vR,2)*this.rFriction+this.baseRFriction)*c;if(this.vR>b){this.vR-=b}else{if(this.vR<-b){this.vR+=b}else{this.vR=0}}}if(this.pLeftHeld){this.pLeftRepeatTime+=c;if(this.pLeftRepeatTime>=this.pRepeatTime){this.pLeftRepeatTime=0;this.pLeft=true}}else{this.pLeftRepeatTime=0}if(this.pRightHeld){this.pRightRepeatTime+=c;if(this.pRightRepeatTime>=this.pRepeatTime){this.pRightRepeatTime=0;this.pRight=true}}else{this.pRightRepeatTime=0}var d=Math.floor(Math.random()*4);if(d==this.lastPaddleSound){d=Math.floor(Math.random()*4)}this.lastPaddleSound=d;if(this.pLeft&&this.pRight){this.v.add(this.paddlePush*Math.sin(this.owner.orientation),-this.paddlePush*Math.cos(this.owner.orientation));this.owner.triggerEvent("paddling-both");this.owner.triggerEvent("audio-paddle-"+d)}else{if(this.pLeft){this.v.add(this.paddlePush*Math.sin(this.owner.orientation),-this.paddlePush*Math.cos(this.owner.orientation));this.vR+=this.paddleTwist;this.owner.triggerEvent("paddling-left");this.owner.triggerEvent("audio-paddle-"+d)}else{if(this.pRight){this.v.add(this.paddlePush*Math.sin(this.owner.orientation),-this.paddlePush*Math.cos(this.owner.orientation));this.vR-=this.paddleTwist;this.owner.triggerEvent("paddling-right");this.owner.triggerEvent("audio-paddle-"+d)}}}this.owner.orientation+=this.vR*c;this.v.rotate(this.vR*c);this.owner.dx=this.v.x;this.owner.dy=this.v.y;this.pLeft=false;this.pRight=false;this.pLeftHeld=false;this.pRightHeld=false;if(this.owner.y<this.boundaryCurrentTop&&this.topBoundaryActive){this.currentMessage.x=0;this.currentMessage.y=this.boundaryCurrent;this.owner.triggerEvent("add-local-current",this.currentMessage)}else{if(this.owner.y>this.boundaryCurrentBottom){this.determineCurrent();this.owner.triggerEvent("add-local-current",this.currentMessage)}}this.hitThisTick.length=0;if(this.waitForRehit>0){this.waitForRehit-=c;if(this.waitForRehit<0){this.waitForRehit=0}}},"paddle-on-left":function(b){if(!this.controlsLocked){if(!b||(b.triggered!==false)){this.pLeft=true}if(!b||(b.pressed!==false)){this.pLeftHeld=true}}},"paddle-on-right":function(b){if(!this.controlsLocked){if(!b||(b.triggered!==false)){this.pRight=true}if(!b||(b.pressed!==false)){this.pRightHeld=true}}},"spin-raft":function(b){this.vR+=b},"hit-static":function(g){var c=0;var f=0;var b=0.1;var e=0.03;var d=0.2;if(!this.waitForRehit){this.waitForRehit=this.waitForRehitTime;this.v.set(this.owner.dx,this.owner.dy);this.incidentVector.set(g.direction.x,g.direction.y);c=Math.abs(this.v.scalarProjection(this.incidentVector));if(!isNaN(c)){if(c>b){c=b}else{if(c<e){return}}this.soundMessage.volume=((c-e)/(b-e))*d;f=Math.floor(Math.random()*3);this.owner.triggerEvent("audio-collision-"+f,this.soundMessage)}}},"hit-non-static":function(i){var e=0;var h=0;var d=0.1;var g=0.03;var f=0.2;var c=i.entity;if(!this.waitForRehit){this.waitForRehit=this.waitForRehitTime;for(var b=0;b<this.hitThisTick.length;b++){if(c===this.hitThisTick[b]){return}}this.hitThisTick.push(c);this.v.set(this.owner.dx,this.owner.dy);this.incidentVector.set(i.direction.x,i.direction.y);e=Math.abs(this.v.scalarProjection(this.incidentVector));if(!isNaN(e)){if(e>d){e=d}else{if(e<g){return}}this.soundMessage.volume=((e-g)/(d-g))*f;h=Math.floor(Math.random()*3);this.owner.triggerEvent("audio-collision-"+h,this.soundMessage)}}},"add-manager":function(b){this.manager=b},"lock-controls":function(b){this.controlsLocked=true},"unlock-controls":function(b){this.controlsLocked=false},"remove-top-boundary":function(b){this.topBoundaryActive=false},"camera-update":function(b){this.boundaryCurrentTop=b.viewportTop-this.borderCurrentOffset;this.boundaryCurrentBottom=b.viewportTop+b.viewportHeight+this.borderCurrentOffset}},methods:{determineCurrent:function(){var d=0;var c=0;var h=0;var g=Infinity;var e=null;var f=null;for(var b=this.closestNodeIndex;b<this.nodes.length;b++){f=this.nodes[b];if(this.owner.y>f.y&&this.owner.y-this.lookAheadDistance<f.y){d=f.x-this.owner.x;c=f.y-this.owner.y;h=d*d+c*c;if(h<g){e=f;this.closestNodeIndex=b;g=h}}else{if(this.owner.y-this.lookAheadDistance>f.y){break}}}if(e&&this.owner.y>this.boundaryCurrentBottom+50){if(e.x>this.owner.x){this.currentMessage.x=this.boundaryCurrent;this.currentMessage.y=-this.boundaryCurrent}else{this.currentMessage.x=-this.boundaryCurrent;this.currentMessage.y=-this.boundaryCurrent}}else{this.currentMessage.x=0;this.currentMessage.y=-this.boundaryCurrent}},destroy:function(){this.manager=null;this.v=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-turtle",constructor:function(b){this.owner.orientation=b.orientation||Math.PI;this.vDir=new a.classes.vector2D(0,-1);this.vMag=0.0008;this.originalDirection=Math.PI;this.swerve=Math.PI/8;this.rate=0.0007;this.pulse=0},events:{"handle-logic":function(d){var b=d.delta;var c=0;this.pulse+=this.rate*b;this.pulse=this.pulse%(2*Math.PI);c=Math.sin(this.pulse);this.direction=c*this.swerve+this.originalDirection;this.owner.orientation=this.direction;this.vDir.set(0,-1);this.vDir.rotate(this.direction);this.vDir.scale(this.vMag);this.owner.dx+=this.vDir.x;this.owner.dy+=this.vDir.y}},methods:{destroy:function(){}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-log",constructor:function(b){this.offsetTop=-100;this.destroyMe=false},events:{"handle-logic":function(b){if(this.destroyMe){this.owner.parent.removeEntity(this.owner)}},"camera-update":function(b){if(b.viewportTop+this.offsetTop>this.owner.y){this.destroyMe=true}}},methods:{destroy:function(){}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-insect",constructor:function(b){this.manager=null;this.owner.state.collected=false;this.owner.state["collected-by-don"]=false;this.owner.state["collected-by-buddy"]=false;this.owner.state.idle=false;this.growBy=1.5;this.opacitySwitch=0.75;this.owner.orientation=Math.random()*2*Math.PI;this.timingOffset=Math.random()*500;this.deathTimer=500;this.deathTimerStart=this.deathTimer},events:{"peer-entity-added":function(b){if(b.type=="game-manager"||b.type=="tutorial-manager"){this.manager=b}},"handle-logic":function(d){var c=d.delta;var b=0;if(this.timingOffset>0){this.timingOffset-=c;if(this.timingOffset<=0){this.owner.state.idle=true}}if(this.owner.state.collected){this.deathTimer-=c;if(this.deathTimer<=0){this.owner.parent.removeEntity(this.owner)}else{b=this.deathTimer/this.deathTimerStart;this.owner.scaleX=1+((1-b)*this.growBy);this.owner.scaleY=1+((1-b)*this.growBy);if(b<=this.opacitySwitch){this.owner.opacity=b/this.opacitySwitch}}}},collect:function(b){if(!this.owner.state.collected){this.owner.triggerEvent("stop-chasing");this.owner.state.collected=true;if(b.entity.type=="rafter-don"){this.owner.state["collected-by-don"]=true;this.manager.triggerEvent("collected-insect","don");this.owner.triggerEvent("audio-collect-0")}else{if(b.entity.type=="rafter-buddy"||b.entity.type=="rafter-buddy-robot"){this.owner.state["collected-by-buddy"]=true;if(b.entity.type=="rafter-buddy"){this.manager.triggerEvent("collected-insect","buddy")}else{this.manager.triggerEvent("collected-insect","buddy-robot")}this.owner.triggerEvent("audio-collect-1")}}this.owner.z+=100}}},methods:{destroy:function(){this.manager=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-lakitu",constructor:function(b){this.moving=(typeof this.owner.moving!="undefined")?this.owner.moving:true;this.movementSpeed=this.owner.speed||0.02;this.levelHeight=0;this.halfLevelWidth=0;this.halfScreenHeight=0;this.initialMoveComplete=false},events:{"camera-loaded":function(b){this.levelHeight=b.height;this.halfLevelWidth=b.width/2},"camera-update":function(b){if(!this.initialMoveComplete){this.halfScreenHeight=b.viewportHeight/2}},"handle-logic":function(c){var b=c.delta;if(!this.initialMoveComplete){this.initialMoveComplete=true;this.owner.y=this.levelHeight-this.halfScreenHeight;this.owner.x=this.halfLevelWidth}else{if(this.moving){this.owner.y-=this.movementSpeed*b;if(this.owner.y<=this.halfScreenHeight){this.owner.y=this.halfScreenHeight;this.moving=false}}}},move:function(b){this.moving=true},stop:function(b){this.moving=false}},methods:{},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-bumper",constructor:function(b){this.flow=b.flow;this.y=this.owner.y},events:{"handle-logic":function(c){var b=c.delta;this.y+=this.flow*b;this.owner.y=this.y}},methods:{destroy:function(){}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-game-manager",constructor:function(b){this.don=null;this.donScore=0;this.buddy=null;this.buddyScore=0;this.lakitu=null;this.levelHeight=0;this.riverProgressMessage={attribute:"bottom",value:"0%"};this.eventScheduler=null;this.buttonState={highlight:false,show:false};this.arrowState={show:false};this.controlsLastUsedP1=0;this.controlsLastUsedP2=0;this.controlsReminderAlarm=20000;this.controlReminderActive=false;this.hideControlReminder=false;this.reminderForP1=false;this.reminderForP2=false;this.sinceLastInsect=0;this.insectReminderAlarm=50000;this.rapidPercentage=(b.rapidPercentage||100)/100;this.insectPercentage=(b.insectPercentage||100)/100;this.rapidsSpawned=0;this.insectsSpawned=0;this.rapidsUsed=0;this.insectsUsed=0;this.entitiesToRemove=[];this.gameOver=false},events:{"world-loaded":function(c){this.levelHeight=c.height;var b=this.owner.parent.addEntity(new a.classes.entity(a.settings.entities["ready-set-go"],{properties:null}));b.triggerEvent("set-manager",this.owner)},"peer-entity-added":function(b){if(b.type=="rafter-don"){this.don=b;this.don.triggerEvent["add-manager",this]}else{if(b.type=="rafter-buddy"||b.type=="rafter-buddy-robot"){this.buddy=b;this.buddy.triggerEvent["add-manager",this]}else{if(b.type=="lakitu"){this.lakitu=b}else{if(b.type=="event-scheduler"){this.eventScheduler=b}else{if(b.type==="rapid"){this.rapidsSpawned+=1;if((this.rapidsUsed/this.rapidsSpawned)<this.rapidPercentage){this.rapidsUsed+=1}else{this.entitiesToRemove.push(b)}}else{if((b.type==="caterpillar")||(b.type==="bee")||(b.type==="bee-flying")||(b.type==="butterfly")||(b.type==="butterfly-flying")||(b.type==="dragonfly")||(b.type==="dragonfly-flying")){this.insectsSpawned+=1;if((this.insectsUsed/this.insectsSpawned)<this.insectPercentage){this.insectsUsed+=1}else{this.entitiesToRemove.push(b)}}}}}}}},"handle-logic":function(d){var b=0,c=d.delta;this.riverProgressMessage.value=((1-((this.lakitu.y-15)/this.levelHeight))*100)+"%";this.owner.trigger("set-progress",this.riverProgressMessage);if(this.entitiesToRemove.length){for(;b<this.entitiesToRemove.length;b++){this.owner.parent.removeEntity(this.entitiesToRemove[b])}this.entitiesToRemove.length=0}if(!this.gameOver){if(this.owner.parent.playerCount==1){this.controlsLastUsedP1+=c;if(!this.controlReminderActive&&this.controlsLastUsedP1>this.controlsReminderAlarm){this.controlReminderActive=true;this.reminderForP1=true;if(a.settings.supports.mobile){this.eventScheduler.triggerEvent("queue","remember-controls-mobile-1p")}else{this.eventScheduler.triggerEvent("queue","remember-controls-desktop-1p")}}}else{this.controlsLastUsedP1+=c;this.controlsLastUsedP2+=c;if(!this.controlReminderActive&&(this.controlsLastUsedP1>this.controlsReminderAlarm||this.controlsLastUsedP2>this.controlsReminderAlarm)){this.controlReminderActive=true;if(this.controlsLastUsedP1>this.controlsReminderAlarm){this.reminderForP1=true}else{this.reminderForP2=true}if(a.settings.supports.mobile){this.eventScheduler.triggerEvent("queue","remember-controls-mobile-2p")}else{this.eventScheduler.triggerEvent("queue","remember-controls-desktop-2p")}}}}if(this.hideControlReminder){this.hideControlReminder=false;this.controlReminderActive=false;if(a.settings.supports.mobile){this.owner.triggerEvent("hide-arrows")}else{this.owner.triggerEvent("hide-controls");this.owner.triggerEvent("hide-arrows")}}this.sinceLastInsect+=c;if(this.sinceLastInsect>this.insectReminderAlarm&&!this.gameOver){this.sinceLastInsect=0;this.owner.triggerEvent("remember-insects")}},"collected-insect":function(b){if(b!="buddy-robot"){this.sinceLastInsect=0}if(b=="don"){this.donScore++;this.owner.triggerEvent("update-score-don",this.donScore)}else{if(b=="buddy"||b=="buddy-robot"){this.buddyScore++;this.owner.triggerEvent("update-score-buddy",this.buddyScore)}}},"unlock-controls":function(){this.don.triggerEvent("unlock-controls");this.buddy.triggerEvent("unlock-controls")},"finish-line-crossed":function(){if(!this.gameOver){this.gameOver=true;this.don.triggerEvent("lock-controls");this.buddy.triggerEvent("lock-controls");this.don.triggerEvent("remove-top-boundary");this.buddy.triggerEvent("remove-top-boundary");this.hideControlReminder=true;var b="";if(this.buddyScore>this.donScore){b="buddy";if(this.owner.parent.playerCount==1){this.eventScheduler.triggerEvent("force-queue","buddy-wins-1p")}else{this.eventScheduler.triggerEvent("force-queue","buddy-wins-2p")}}else{if(this.donScore>this.buddyScore){b="don";if(this.owner.parent.playerCount==1){this.eventScheduler.triggerEvent("force-queue","don-wins-1p")}else{this.eventScheduler.triggerEvent("force-queue","don-wins-2p")}}else{b="tie";this.eventScheduler.triggerEvent("force-queue","tie-wins")}}this.owner.triggerEvent("start-end",b)}},"p1-paddled":function(b){this.controlsLastUsedP1=0;if(this.controlReminderActive&&this.reminderForP1){this.reminderForP1=false;this.hideControlReminder=true;this.controlsLastUsedP2=0}},"p2-paddled":function(b){this.controlsLastUsedP2=0;if(this.controlReminderActive&&this.reminderForP2){this.reminderForP2=false;this.hideControlReminder=true;this.controlsLastUsedP1=0}},"show-controls":function(){this.buttonState.show=true;this.owner.triggerEvent("update-p1-left-button",this.buttonState);this.owner.triggerEvent("update-p1-right-button",this.buttonState);this.owner.triggerEvent("update-p2-left-button",this.buttonState);this.owner.triggerEvent("update-p2-right-button",this.buttonState)},"hide-controls":function(){this.buttonState.show=false;this.owner.triggerEvent("update-p1-left-button",this.buttonState);this.owner.triggerEvent("update-p1-right-button",this.buttonState);this.owner.triggerEvent("update-p2-left-button",this.buttonState);this.owner.triggerEvent("update-p2-right-button",this.buttonState)},"show-arrows":function(){this.arrowState.show=true;this.owner.triggerEvent("update-don-tutorial-arrow",this.arrowState);this.owner.triggerEvent("update-buddy-tutorial-arrow",this.arrowState)},"hide-arrows":function(){this.arrowState.show=false;this.owner.triggerEvent("update-don-tutorial-arrow",this.arrowState);this.owner.triggerEvent("update-buddy-tutorial-arrow",this.arrowState)}},methods:{destroy:function(b){this.don=null;this.buddy=null;this.lakitu=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-tutorial-manager",constructor:function(b){this.insectCount=0;this.buttonState={highlight:false,show:true};this.arrowState={show:false};this.tutorialStarted=false;this.tutorialDelay=2000},events:{"scene-loaded":function(b){this.owner.triggerEvent("update-p1-left-button",this.buttonState);this.owner.triggerEvent("update-p1-right-button",this.buttonState);this.owner.triggerEvent("update-p2-left-button",this.buttonState);this.owner.triggerEvent("update-p2-right-button",this.buttonState)},"peer-entity-added":function(b){if(b.type=="rafter-don"||b.type=="rafter-buddy"){b.triggerEvent("unlock-controls");b.triggerEvent("set-global-current",{x:0,y:0})}},"handle-logic":function(c){var b=c.delta;if(!this.tutorialStarted){this.tutorialDelay-=b;if(this.tutorialDelay<=0){this.tutorialStarted=true;if(this.owner.parent.playerCount==1){if(a.settings.supports.mobile){this.owner.triggerEvent("controls-1p-mobile")}else{this.owner.triggerEvent("controls-1p-desktop")}}else{if(a.settings.supports.mobile){this.owner.triggerEvent("controls-2p-mobile")}else{this.owner.triggerEvent("controls-2p-desktop")}}}}},"go-to-game":function(){if(this.owner.parent.playerCount==1){this.owner.triggerEvent("set-scene","scene-single-player")}else{this.owner.triggerEvent("set-scene","scene-multi-player")}this.tutorialStarted=true;this.owner.triggerEvent("audio-stop");this.owner.triggerEvent("new-scene")},"collected-insect":function(){this.insectCount++;if(this.insectCount==3){this["go-to-game"]()}},"p1-left-button":function(b){if(b.triggered){this.buttonState.highlight=true;this.owner.triggerEvent("update-p1-left-button",this.buttonState)}if(b.released){this.buttonState.highlight=false;this.owner.triggerEvent("update-p1-left-button",this.buttonState)}},"p1-right-button":function(b){if(b.triggered){this.buttonState.highlight=true;this.owner.triggerEvent("update-p1-right-button",this.buttonState)}if(b.released){this.buttonState.highlight=false;this.owner.triggerEvent("update-p1-right-button",this.buttonState)}},"p2-left-button":function(b){if(b.triggered){this.buttonState.highlight=true;this.owner.triggerEvent("update-p2-left-button",this.buttonState)}if(b.released){this.buttonState.highlight=false;this.owner.triggerEvent("update-p2-left-button",this.buttonState)}},"p2-right-button":function(b){if(b.triggered){this.buttonState.highlight=true;this.owner.triggerEvent("update-p2-right-button",this.buttonState)}if(b.released){this.buttonState.highlight=false;this.owner.triggerEvent("update-p2-right-button",this.buttonState)}},"show-don-arrow":function(){this.buttonState.highlight=true;this.owner.triggerEvent("update-p1-left-button",this.buttonState);this.owner.triggerEvent("update-p1-right-button",this.buttonState)},"show-buddy-arrow":function(){this.buttonState.highlight=true;this.owner.triggerEvent("update-p2-left-button",this.buttonState);this.owner.triggerEvent("update-p2-right-button",this.buttonState)},"hide-don-arrow":function(){this.buttonState.highlight=false;this.owner.triggerEvent("update-p1-left-button",this.buttonState);this.owner.triggerEvent("update-p1-right-button",this.buttonState)},"hide-buddy-arrow":function(){this.buttonState.highlight=false;this.owner.triggerEvent("update-p2-left-button",this.buttonState);this.owner.triggerEvent("update-p2-right-button",this.buttonState)}},methods:{destroy:function(){}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-ready-set-go",constructor:function(b){this.manager=null;this.growBy=1.05;this.opacitySwitch=0.4;this.initialPause=1500;this.stageTimerInterval=1500;this.stageTimer=this.stageTimerInterval;this.stage=0;this.owner.state["get-ready"]=true;this.owner.state["get-set"]=false;this.owner.state["get-go"]=false;this.owner.opacity=0;this.readyFired=false},events:{"handle-logic":function(d){var c=d.delta;var b=0;this.initialPause-=c;if(this.initialPause<=0){if(!this.readyFired){this.readyFired=true;this.owner.triggerEvent("audio-ready")}this.initialPause=0;this.stageTimer-=c;if(this.stageTimer<=0){this.stage++;if(this.stage==1){this.owner.triggerEvent("audio-set");this.owner.state["get-ready"]=false;this.owner.state["get-set"]=true;this.owner.state["get-go"]=false}else{if(this.stage==2){this.owner.triggerEvent("audio-go");this.owner.state["get-ready"]=false;this.owner.state["get-set"]=false;this.owner.state["get-go"]=true;this.manager.triggerEvent("unlock-controls")}else{if(this.stage>2){this.owner.parent.removeEntity(this.owner)}}}this.stageTimer=this.stageTimerInterval}else{b=this.stageTimer/this.stageTimerInterval;if(b<=this.opacitySwitch){this.owner.opacity=b/this.opacitySwitch}else{this.owner.opacity=1}if(this.stage==2){this.owner.scaleX=1+((1-b)*this.growBy);this.owner.scaleY=1+((1-b)*this.growBy)}}}},"camera-update":function(b){this.owner.x=b.viewportLeft+(b.viewportWidth/2);this.owner.y=b.viewportTop+(3*b.viewportHeight/4)},"set-manager":function(b){this.manager=b}},methods:{destroy:function(){this.manager=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-end-game-interface",constructor:function(b){this.styleMessage={attribute:"zIndex",value:11};this.stateMessage={highlight:false};this.winnerState={buddy:false,don:false};this.changeOpacity=false},events:{"handle-logic":function(b){},"start-end-sequence":function(b){if(b=="tie"){this.winnerState.don=true;this.winnerState.buddy=true}else{if(b=="don"){this.winnerState.don=true}else{this.winnerState.buddy=true}}this.owner.triggerEvent("set-icon-style",this.styleMessage);this.owner.triggerEvent("set-arrow-style",this.styleMessage);this.styleMessage.value=10;this.owner.triggerEvent("set-blind-style",this.styleMessage);this.styleMessage.attribute="opacity";this.styleMessage.value=1;this.owner.triggerEvent("set-icon-style",this.styleMessage);this.owner.triggerEvent("set-arrow-style",this.styleMessage);this.styleMessage.value=0.4;this.owner.triggerEvent("set-blind-style",this.styleMessage);this.owner.triggerEvent("set-winner-state",this.winnerState)},"go-to-options":function(){this.styleMessage.attribute="zIndex";this.styleMessage.value=-1;this.owner.triggerEvent("set-icon-style",this.styleMessage);this.owner.triggerEvent("set-arrow-style",this.styleMessage);this.styleMessage.value=11;this.owner.triggerEvent("set-options-style",this.styleMessage);this.styleMessage.attribute="opacity";this.styleMessage.value=1;this.owner.triggerEvent("set-options-style",this.styleMessage);this.owner.triggerEvent("schedule-event","post-game")},"highlight-play-again-option":function(){this.stateMessage.highlight=true;this.owner.triggerEvent("update-play-again",this.stateMessage)},"unhighlight-play-again-option":function(){this.stateMessage.highlight=false;this.owner.triggerEvent("update-play-again",this.stateMessage)},"highlight-something-else-option":function(){this.stateMessage.highlight=true;this.owner.triggerEvent("update-something-else",this.stateMessage)},"unhighlight-something-else-option":function(){this.stateMessage.highlight=false;this.owner.triggerEvent("update-something-else",this.stateMessage)}},methods:{destroy:function(){this.styleMessage=null;this.winnerState=null;this.stateMessage=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-water-current",constructor:function(b){this.owner.dx=0;this.owner.dy=0;this.globalCurrentX=b.currentX||0;this.globalCurrentY=b.currentY||0;this.localCurrentX=0;this.localCurrentY=0;this.vF=b.vF||0.015;this.sF=b.sF||0.00001;this.epsilon=0.001;this.diffVector=new a.classes.vector2D(0,0)},events:{"handle-logic":function(f){var d=f.delta;var c=0;var b=0;var e=0;if(this.localCurrentX||this.localCurrentY){c=this.localCurrentX;b=this.localCurrentY;this.localCurrentX=0;this.localCurrentY=0}else{c=this.globalCurrentX;b=this.globalCurrentY}this.diffVector.set(this.owner.dx-c,this.owner.dy-b);e=this.diffVector.magnitude();this.diffVector.normalize();e-=((Math.pow(e,2)*this.vF+this.sF)*d);if(e<0){e=0}this.diffVector.scale(e);this.owner.dx=c+this.diffVector.x;this.owner.dy=b+this.diffVector.y},"add-local-current":function(b){this.localCurrentX+=b.x||0;this.localCurrentY+=b.y||0},"set-global-current":function(b){this.globalCurrentX=b.x||0;this.globalCurrentY=b.y||0}},methods:{destroy:function(){}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-rapid",constructor:function(d){var e=this.owner.current||d.current||-0.2;this.owner.orientation=this.owner.orientation||0;var c=-e*Math.sin(this.owner.orientation);var b=e*Math.cos(this.owner.orientation);this.currentMessage={x:c,y:b}},events:{"in-rapids":function(b){b.entity.triggerEvent("add-local-current",this.currentMessage)}},methods:{destroy:function(b){this.currentMessage=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-whirlpool",constructor:function(b){this.current=this.owner.current||b.current||0.4;this.radius=this.owner.radius||b.radius||233;this.currentMessage={x:0,y:0};this.owner.orientation=this.owner.orientation||0;this.owner.scaleX=b.scale||1;this.owner.scaleY=b.scale||1;this.rotationSpeed=Math.PI/64},events:{"handle-logic":function(b){this.owner.orientation+=this.rotationSpeed},"in-whirlpool":function(f){var b=f.entity;var d,c,i,h;var e=0;var g=0;d=b.x-this.owner.x;c=b.y-this.owner.y;i=Math.sqrt(Math.pow(d,2)+Math.pow(c,2));if(i==0){return}h=Math.acos(d/i);if(c<0){h=(Math.PI*2)-h}h+=Math.PI*5/8;g=(1-i/(2*this.radius));e=this.current*g;this.currentMessage.x=e*Math.cos(h);this.currentMessage.y=e*Math.sin(h);b.triggerEvent("add-local-current",this.currentMessage)}},methods:{destroy:function(b){this.currentMessage=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"brain-scoreboard",constructor:function(b){this.message={text:""}},events:{"set-score":function(b){this.message.text=b.toString();this.owner.triggerEvent("set-score-content",this.message)}},methods:{destroy:function(){this.message=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"brain-finish-line",constructor:function(b){this.manager=null},events:{"peer-entity-added":function(b){if(b.type=="game-manager"){this.manager=b}},"hit-raft":function(c){var b=c.entity;if(b.type=="rafter-buddy"||b.type=="rafter-buddy-robot"||b.type=="rafter-don"){this.manager.triggerEvent("finish-line-crossed")}}},methods:{destroy:function(){this.manager=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"ai-rower",constructor:function(b){this.target=null;this.targetNode=null;this.targetNodeIndex=0;this.nodes=[];this.insects=[];this.maxInsectRange=62500;this.minInsectRange=14400;this.insectRange=this.maxInsectRange;this.activeRegionTop=0;this.activeRegionBottom=0;this.screenTop=0;this.screenBottom=0;this.slowInterval=1000;this.fastInterval=500;this.updateInterval=500;this.intervalTimer=0;this.perpVector=new a.classes.vector2D();this.targetVector=new a.classes.vector2D();this.inputState={pressed:false,released:false,triggered:false}},events:{"peer-entity-added":function(c){var d=false;if(c.type=="path-node"){for(var b=0;b<this.nodes.length;b++){if(c.y>this.nodes[b].y){this.nodes.splice(b,0,c);d=true;break}}if(!d){this.nodes.push(c)}}if(c.type=="butterfly"||c.type=="caterpillar"||c.type=="dragonfly"||c.type=="bee"||c.type=="butterfly-flying"||c.type=="dragonfly-flying"||c.type=="bee-flying"){for(var b=0;b<this.insects.length;b++){if(c.y>this.insects[b].y){this.insects.splice(b,0,c);d=true;break}}if(!d){this.insects.push(c)}}},"handle-ai":function(d){var c=d.delta;var b=0;this.intervalTimer+=c;this.insectRange*=1.002;if(this.insectRange>this.maxInsectRange){this.insectRange=this.maxInsectRange}if(this.target&&this.target.type=="path-node"){this.updateInterval=this.slowInterval}else{this.updateInterval=this.fastInterval}if(this.intervalTimer>=this.updateInterval){this.intervalTimer=0;this.findTarget()}if(this.target&&this.intervalTimer==0){b=this.owner.orientation+(Math.PI/2);this.perpVector.set(Math.sin(b),-Math.cos(b));this.targetVector.set(this.target.x-this.owner.x,this.target.y-this.owner.y).normalize();if(this.perpVector.dot(this.targetVector)<=0){this.inputState.triggered=false;this.inputState.pressed=false;this.inputState.released=true;this.owner.triggerEvent("paddle-on-left",this.inputState);this.inputState.triggered=true;this.inputState.pressed=true;this.inputState.released=false;this.owner.triggerEvent("paddle-on-right",this.inputState)}else{this.inputState.triggered=false;this.inputState.pressed=false;this.inputState.released=true;this.owner.triggerEvent("paddle-on-right",this.inputState);this.inputState.triggered=true;this.inputState.pressed=true;this.inputState.released=false;this.owner.triggerEvent("paddle-on-left",this.inputState)}}},"camera-update":function(b){this.activeRegionTop=b.viewportTop+(b.viewportHeight/4);this.activeRegionBottom=b.viewportTop+(b.viewportHeight*3/4);this.screenTop=b.viewportTop;this.screenBottom=b.viewportTop+b.viewportHeight},"shorten-range":function(b){this.insectRange*=0.95;if(this.insectRange<this.minInsectRange){this.insectRange=this.minInsectRange}}},methods:{findTarget:function(){var f=null;var g=0;var l=Infinity;var k=null;var e=0;var d=0;var h=0;var c=null;var b=null;for(var i=this.targetNodeIndex;i<this.nodes.length;i++){c=this.nodes[i];if(this.owner.y>c.y&&this.activeRegionTop<c.y&&this.activeRegionBottom>c.y){e=c.x-this.owner.x;d=c.y-this.owner.y;h=e*e+d*d;if(h<l){f=c;g=i;l=h}}else{if(this.activeRegionTop>c.y){break}}}if(f){this.targetNode=f;this.targetNodeIndex=g}for(var i=this.insects.length-1;i>=0;i--){if(this.insects[i].state.collected){this.insects.splice(i,1)}}l=Infinity;for(var i=0;i<this.insects.length;i++){b=this.insects[i];if(b.y<this.screenBottom&&b.y>this.screenTop){e=b.x-this.owner.x;d=b.y-this.owner.y;h=e*e+d*d;if(h<this.insectRange&&h<l){k=b;l=h}}}if(k){this.target=k}else{if(!k&&this.targetNode){this.target=this.targetNode}else{}}},destroy:function(){this.target=null;this.nodes=[];this.insects=[];this.perpVector=null;this.targetVector=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"ai-moving-bug",constructor:function(b){this.nodes=[];this.pathId=this.owner.pathId||b.pathId||0;this.firstNode=this.owner.firstNode||b.firstNode||"a";this.targetChanged=false;this.target=null},events:{"peer-entity-added":function(b){if(b.type=="insect-waypoint"&&b.pathId==this.pathId){this.nodes.push(b);if(b.id==this.firstNode){this.target=b;this.targetChanged=true}}},"handle-ai":function(b){if(this.targetChanged){this.targetChanged=false;this.owner.trigger("set-target",this.target)}},"hit-node":function(d){var b=d.entity;if(b.id==this.target.id&&b.pathId==this.owner.pathId){this.target=null;for(var c=0;c<this.nodes.length;c++){if(this.nodes[c].id==b.next){this.target=this.nodes[c];this.targetChanged=true;break}}if(!this.targetChanged){console.warn("ai-moving-bug: Next node not found")}}}},methods:{destroy:function(){this.nodes=null}}})})();(function(){return a.createComponentClass({id:"trigger-once",constructor:function(b){this.triggered=false;this.message=b.message||"fire"},events:{trigger:function(){if(!this.triggered){this.triggered=true;this.owner.triggerEvent(this.message)}}},methods:{},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-event-scheduler",constructor:function(b){this.bg=this.definition;this.eventQueue=(b.startingQueue)?b.startingQueue.slice(0):[];this.oneOffEvents=(b.oneOffEvents)?b.oneOffEvents.slice(0):[];this.ambientEvents=(b.ambientEvents)?b.ambientEvents.slice(0):[];this.remainingAmbientEvents=this.ambientEvents.slice(0);this.minBufferTime=10000;this.bufferVariance=5000;this.eventTimeBuffer=this.minBufferTime+this.bufferVariance;this.enforceBuffer=false;this.repeats=[];this.playAmbientEvents=true},events:{"handle-logic":function(f){var e=f.delta;var c=0;var b="";var d=false;if(this.eventQueue.length&&!this.enforceBuffer){this.owner.triggerEvent(this.eventQueue[0]);this.eventQueue.splice(0,1);this.enforceBuffer=true;d=true}else{if(this.playAmbientEvents){if(this.eventTimeBuffer>0){this.eventTimeBuffer-=e;if(this.eventTimeBuffer<0){if(this.eventQueue.length){this.owner.triggerEvent(this.eventQueue[0]);this.eventQueue.splice(0,1);this.enforceBuffer=true;d=true}else{if(this.ambientEvents.length||this.oneOffEvents.length){c=Math.floor(Math.random()*(this.remainingAmbientEvents.length+this.oneOffEvents.length));if(c<this.remainingAmbientEvents.length){b=this.remainingAmbientEvents.splice(c,1)[0];this.enforceBuffer=false}else{c-=this.remainingAmbientEvents.length;b=this.oneOffEvents.splice(c,1)[0];this.enforceBuffer=true}this.owner.triggerEvent(b);if(!this.remainingAmbientEvents.length){this.remainingAmbientEvents=this.ambientEvents.slice(0)}d=true}}}}}}if(d){this.eventTimeBuffer=this.minBufferTime+Math.floor(Math.random()*this.bufferVariance)}},queue:function(d){var c=true;for(var b=0;b<this.repeats.length;b++){if(d==this.repeats[b]){c=false}}if(c){this.eventQueue.push(d);this.repeats.push(d)}},"queue-if-empty":function(d){var c=true;for(var b=0;b<this.repeats.length;b++){if(d==this.repeats[b]){c=false}}if(c&&!this.eventQueue.length&&!this.enforceBuffer){this.eventQueue.push(d);this.repeats.push(d)}},"force-queue":function(b){this.owner.triggerEvent("audio-stop");this.enforceBuffer=false;this.eventQueue.splice(0,0,b)},"no-more-ambient-events":function(){this.playAmbientEvents=false},"silence-events":function(){this.owner.triggerEvent("audio-stop")}},methods:{destroy:function(){this.eventQueue=null;this.oneOffEvents=null;this.ambientEvents=null;this.remainingAmbientEvents=null;this.repeats=null}},publicMethods:{}})})();(function(){return a.createComponentClass({id:"logic-announcement",constructor:function(b){this.eventId=this.owner.eventId;this.eventScheduler=null},events:{"peer-entity-added":function(b){if(b.type=="event-scheduler"){this.eventScheduler=b}},"make-announcement":function(b){if(this.eventId&&this.eventScheduler){this.eventScheduler.triggerEvent("queue-if-empty",this.eventId)}this.owner.parent.removeEntity(this.owner)}},methods:{destroy:function(){this.eventScheduler=null}},publicMethods:{}})})()})();