/*!  2014-Oct-27 */
function logger(a){console&&console.log(a)}function addSprite(a,b,c,d,e){var f=null;return f=null===e?a.add.sprite(b,c,d):a.add.sprite(b,c,d,e),a.physics.arcade.enable(f,Phaser.Physics.Arcade),f}function assetSetup(a){audioMarkers=[[.051208,3.648941,"CASHIER-GreatJobDoMore"],[3.748431,5.075452,"CHOICE-cat-FeelsSticky"],[5.14568,6.548781,"CHOICE-cat-SmellsSweet"],[6.645345,7.804111,"CHOICE-cat-TastesSalty"],[7.941641,9.776353,"CHOICE-fdbk-HmmNotQuiteRight"],[9.894863,11.855401,"CHOICE-fdbk-OopsNotIt"],[11.990005,12.844448,"CHOICE-fdbk-ThatsIt"],[12.899314,13.877388,"CHOICE-George-happy"],[13.950543,14.881067,"CHOICE-George-Hmm"],[14.945443,15.881819,"CHOICE-George-IHearYou"],[15.949121,17.220544,"CHOICE-George-sad"],[17.297356,21.95656,"CHOICE-INeedYouToBuy"],[22.042882,23.819071,"CHOICE-right-popcorn"],[23.90393,25.478212,"CHOICE-right-tape"],[25.508937,27.554334,"CHOICE-right-tennisball"],[27.609931,29.061314,"CHOICE-WeNeedSomethingThat"],[29.119838,33.952417,"STORE-fdbk-BeenSpotted"],[34.002162,43.202059,"STORE-fdbk-OopsNoisyDucks"],[43.243025,50.062478,"STORE-fdbk-WhoopsPlaneBonk"],[50.097592,56.457635,"STORE-instruct-DontBumpDucks"],[56.501527,60.185583,"STORE-instruct-NotBeSeen"],[60.208992,61.43506,"CHOICE-cat-FeelsCold"],[61.476026,62.573342,"CHOICE-cat-FeelsFuzzy"],[62.611382,63.85217,"CHOICE-cat-FeelsPapery"],[63.887195,65.096401,"CHOICE-cat-FeelsPointy"],[65.136672,66.374444,"CHOICE-cat-FeelsSharp"],[66.435894,67.684404,"CHOICE-cat-FeelsSoft"],[67.726338,69.059211,"CHOICE-cat-FeelsSquishy"],[69.092862,70.234347,"CHOICE-cat-LooksBlue"],[70.2765,71.479158,"CHOICE-cat-LooksClear"],[71.531829,72.754971,"CHOICE-cat-LooksMetallic"],[72.838367,74.143441,"CHOICE-cat-LooksOrange"],[74.2283,75.425106,"CHOICE-cat-TastesMinty"],[75.492408,76.813576,"CHOICE-cat-TastesSour"],[76.841375,78.162543,"CHOICE-cat-TastesSweet"],[78.207899,79.25547,"CHOICE-fdbk-ThatsRight"],[79.330088,80.30743,"CHOICE-fdbk-YouGotIt"],[80.339618,82.406961,"CHOICE-right-apple"],[82.488894,84.270935,"CHOICE-right-banana"],[84.338237,89.656562,"CHOICE-right-basketball"],[89.735569,93.450349,"CHOICE-right-bell"],[93.543986,95.345047,"CHOICE-right-bread"],[95.438685,97.346552,"CHOICE-right-brick"],[97.394834,99.403653,"CHOICE-right-cantaloupe"],[99.438767,101.114003,"CHOICE-right-cap"],[101.191547,102.875561,"CHOICE-right-carrot"],[102.992608,106.906368,"CHOICE-right-cuckoo"],[106.994153,111.898424,"CHOICE-right-drill"],[111.983283,114.044774,"CHOICE-right-eggplant"],[114.141337,117.990722,"CHOICE-right-firetruck"],[118.088748,120.015635,"CHOICE-right-jar"],[120.137071,122.210267,"CHOICE-right-juice"],[122.341945,124.248348,"CHOICE-right-lemon"],[124.385879,126.543933,"CHOICE-right-newspaper"],[126.693168,128.602498,"CHOICE-right-orange"],[128.729787,130.663989,"CHOICE-right-pear"],[130.843948,132.792782,"CHOICE-right-pencil"],[132.883493,136.387588,"CHOICE-right-phone"],[136.585105,138.659764,"CHOICE-right-popsicle"],[138.84265,140.651027,"CHOICE-right-popcorn"],[140.738812,142.594007,"CHOICE-right-ribbon"],[142.734464,144.501874,"CHOICE-right-scissors"],[144.595511,147.103244,"CHOICE-right-stuffed"],[147.191029,148.793111,"CHOICE-right-tape"],[148.889674,151.057971,"CHOICE-right-teddybear"],[151.13844,153.549609,"CHOICE-right-toothpaste"],[153.637394,155.551113,"CHOICE-right-towel"],[155.638899,159.542417,"CHOICE-right-videogame"],[159.638981,164.547641,"CHOICE-right-watch"],[164.641278,166.79787,"CHOICE-right-watermelon"],[166.944179,170.419012,"CHOICE-right-whistle"],[170.537522,172.650221,"CHOICE-right-wrench"],[172.740933,174.802424,"CHOICE-right-tennisball"],[174.941417,179.061472,"CHOICE-right-toytrain"],[179.191687,184.154481,"DESCRIP-sight"],[184.245193,189.499141,"DESCRIP-smell"],[189.58839,194.851117,"DESCRIP-sound"],[194.988647,199.913401,"DESCRIP-taste"],[200.0363,205.449725,"DESCRIP-touch"],[205.538974,208.79727,"STORE-BeSneaky"],[208.886519,216.496039,"STORE-fdbk-OopsEngineBump"],[216.591139,226.107063,"STORE-fdbk-OopsNoisyClocks"],[226.289949,232.793375,"STORE-instruct-DontBumpClocks"],[233.039173,242.512667,"STORE-instruct-DontBumpDinos"],[242.737983,249.833959,"STORE-fdbk-OopsTruckBump"],[249.981731,257.518097,"STORE-fdbk-WhoopsShuttleBonk"],[257.643922,259.254782,"STORE-instruct-DontLetHerSee"],[259.387923,264.336086,"STORE-instruct-TableToAvoidEngines"],[264.485321,269.048692,"STORE-instruct-TableToAvoidCars"],[269.235967,273.85201,"STORE-instruct-TableToAvoidTrucks"],[274.040748,278.902589,"STORE-instruct-UpToAvoidPlanes"],[279.091327,283.70298,"STORE-instruct-UpToAvoidShuttles"],[283.839047,287.103196,"STORE-SneakingTime"],[287.338754,291.706071,"CHOICE-cat-SoundsLikeBasketball"],[291.941628,294.998019,"CHOICE-cat-SoundsLikeBell"],[295.186757,297.960772,"CHOICE-cat-SoundsLikeCuckoo"],[298.086597,302.196411,"CHOICE-cat-SoundsLikeDrill"],[302.33833,305.20452,"CHOICE-cat-SoundsLikeFiretruck"],[305.286453,308.006333,"CHOICE-cat-SoundsLikePhone"],[308.140937,311.507502,"CHOICE-cat-SoundsLikeTrain"],[311.642106,314.291758,"CHOICE-cat-SoundsLikeVideogame"],[314.385396,318.702968,"CHOICE-cat-SoundsLikeWatch"],[318.890244,321.779842,"CHOICE-cat-SoundsLikeWhistle"],[321.93054,327.676086,"CHOICE-GeorgeLikeToPretend"],[327.784355,330.49253,"STORE-instruct-ClickOrTapWhereGo"],[330.688584,337.292963,"STORE-instruct-DontBumpDinos"],[337.440735,340.747313,"SFX-PERIL-firetruck"],[341.446669,342.997542,"SFX-PERIL-spaceshuttle"],[343.341368,344.90102,"CASHIER-SFX-Register"],[345.143892,346.847658,"SFX-PERIL-plane"],[347.041517,349.293941,"SFX-PERIL-car"],[349.841868,352.743902,"SFX-PERIL-alarmclock"],[353.243547,354.645917,"SFX-PERIL-ducks"],[354.943655,359.145643,"SFX-PERIL-dumptruck"],[359.244402,360.74553,"STORE-instruct-DontLetHimSee"],[360.889644,362.54147,"SPLASH-ClickToStart"],[362.636571,364.286934,"SPLASH-SecretAgentGeorge"],[364.425927,365.783673,"CHOICE-cat-LooksMulticolored"],[365.872921,367.101915,"CHOICE-cat-LooksPurple"],[367.166291,368.775688,"CHOICE-cat-LooksRectangular"],[368.869325,370.086614,"CHOICE-cat-LooksRed"],[370.213903,374.350052,"CHOICE-right-toytrain"],[374.433448,375.43859,"STORE-fdbk-GoodGoing"],[375.53808,376.843154,"STORE-fdbk-NiceJob"],[376.914846,383.791359,"STORE-fdbk-OopsCarBump"],[383.946446,387.193038,"STORE-SneakToGetNeed"],[387.302769,391.13167,"STORE-YouCompletedMission"]],a.load.image("shell","assets/images/misc/blueborder.png"),a.load.image("button_start","assets/images/misc/play_btn.png"),a.load.image("titleScreenBG","assets/images/titleScreen/titleScreen_BG.png"),a.load.image("georgeTitleScreen","assets/images/titleScreen/titleScreen_george.png"),a.load.image("storeTitleScreen","assets/images/titleScreen/titleScreen_store.png"),a.load.image("titleTitleScreen","assets/images/titleScreen/title.png"),a.load.image("choiceScreen_BG","assets/images/choiceScreen/choiceScreen_BG.jpg"),a.load.image("choiceScreen_George","assets/images/choiceScreen/choiceScreen_George.png"),a.load.image("choiceScreen_thoughtBubble","assets/images/choiceScreen/choiceScreen_thoughtBubble.png"),a.load.image("ceiling_lighting","assets/images/screen_assets/ceiling_lighting.png"),a.load.image("ceiling","assets/images/screen_assets/ceiling.png"),a.load.image("floor_full","assets/images/screen_assets/floor_full.jpg"),a.load.atlasXML("game_assets","assets/images/game_assets.png","assets/images/game_assets.xml"),a.load.atlasXML("choice_screen","assets/images/choice_screen.png","assets/images/choice_screen.xml"),a.load.atlasXML("george_intro","assets/images/george_intro.png","assets/images/george_intro.xml"),a.load.image("bg_orange","assets/images/screen_assets/bg_orange.jpg"),a.load.image("bg_blue","assets/images/screen_assets/bg_blue.jpg"),a.load.image("bg_green","assets/images/screen_assets/bg_green.jpg"),a.load.image("bg_green_yellow","assets/images/screen_assets/bg_green_yellow.jpg"),a.load.image("bg_yellow","assets/images/screen_assets/bg_yellow.jpg"),a.load.image("bg_pink","assets/images/screen_assets/bg_pink.jpg"),a.load.image("bg_red","assets/images/screen_assets/bg_red.jpg"),a.load.image("bg_teal","assets/images/screen_assets/bg_teal.jpg"),a.load.image("table_green","assets/images/screen_assets/table_green.png"),a.load.image("table_brown","assets/images/screen_assets/table_brown.png"),a.load.image("table_blue","assets/images/screen_assets/table_blue.png"),a.load.image("table_small_green","assets/images/screen_assets/table_green_small.png"),a.load.image("table_small_brown","assets/images/screen_assets/table_brown_small.png"),a.load.image("table_small_blue","assets/images/screen_assets/table_blue_small.png"),a.load.image("floor_seg_00","assets/images/screen_assets/floor_seg_00.png"),a.load.image("floor_seg_01","assets/images/screen_assets/floor_seg_01.png"),a.load.image("floor_seg_02","assets/images/screen_assets/floor_seg_02.png"),a.load.image("registerPayoff_01","assets/images/payoffScreens/registerPayoff_01.jpg"),a.load.image("arrowButton","assets/images/misc/arrow.png"),a.load.audio("CASHIER-GreatJobDoMore",["assets/audio/mp3/CASHIER-GreatJobDoMore.mp3","assets/audio/ogg/CASHIER-GreatJobDoMore.ogg"]),a.load.audio("CHOICE-cat-FeelsSticky",["assets/audio/mp3/CHOICE-cat-FeelsSticky.mp3","assets/audio/ogg/CHOICE-cat-FeelsSticky.ogg"]),a.load.audio("CHOICE-cat-SmellsSweet",["assets/audio/mp3/CHOICE-cat-SmellsSweet.mp3","assets/audio/ogg/CHOICE-cat-SmellsSweet.ogg"]),a.load.audio("CHOICE-cat-TastesSalty",["assets/audio/mp3/CHOICE-cat-TastesSalty.mp3","assets/audio/ogg/CHOICE-cat-TastesSalty.ogg"]),a.load.audio("CHOICE-fdbk-HmmNotQuiteRight",["assets/audio/mp3/CHOICE-fdbk-HmmNotQuiteRight.mp3","assets/audio/ogg/CHOICE-fdbk-HmmNotQuiteRight.ogg"]),a.load.audio("CHOICE-fdbk-OopsNotIt",["assets/audio/mp3/CHOICE-fdbk-OopsNotIt.mp3","assets/audio/ogg/CHOICE-fdbk-OopsNotIt.ogg"]),a.load.audio("CHOICE-fdbk-ThatsIt",["assets/audio/mp3/CHOICE-fdbk-ThatsIt.mp3","assets/audio/ogg/CHOICE-fdbk-ThatsIt.ogg"]),a.load.audio("CHOICE-George-happy",["assets/audio/mp3/CHOICE-George-happy.mp3","assets/audio/ogg/CHOICE-George-happy.ogg"]),a.load.audio("CHOICE-George-Hmm",["assets/audio/mp3/CHOICE-George-Hmm.mp3","assets/audio/ogg/CHOICE-George-Hmm.ogg"]),a.load.audio("CHOICE-George-IHearYou",["assets/audio/mp3/CHOICE-George-IHearYou.mp3","assets/audio/ogg/CHOICE-George-IHearYou.ogg"]),a.load.audio("CHOICE-George-sad",["assets/audio/mp3/CHOICE-George-sad.mp3","assets/audio/ogg/CHOICE-George-sad.ogg"]),a.load.audio("CHOICE-INeedYouToBuy",["assets/audio/mp3/CHOICE-INeedYouToBuy.mp3","assets/audio/ogg/CHOICE-INeedYouToBuy.ogg"]),a.load.audio("CHOICE-right-popcorn",["assets/audio/mp3/CHOICE-right-popcorn.mp3","assets/audio/ogg/CHOICE-right-popcorn.ogg"]),a.load.audio("SPLASH-ClickToStart",["assets/audio/mp3/SPLASH-ClickToStart.mp3","assets/audio/ogg/SPLASH-ClickToStart.ogg"]),a.load.audio("SPLASH-SecretAgentGeorge",["assets/audio/mp3/SPLASH-SecretAgentGeorge.mp3","assets/audio/ogg/SPLASH-SecretAgentGeorge.ogg"]),a.load.audio("CHOICE-right-tape",["assets/audio/mp3/CHOICE-right-tape.mp3","assets/audio/ogg/CHOICE-right-tape.ogg"]),a.load.audio("CHOICE-right-tennisball",["assets/audio/mp3/CHOICE-right-tennisball.mp3","assets/audio/ogg/CHOICE-right-tennisball.ogg"]),a.load.audio("CHOICE-WeNeedSomethingThat",["assets/audio/mp3/CHOICE-WeNeedSomethingThat.mp3","assets/audio/ogg/CHOICE-WeNeedSomethingThat.ogg"]),a.load.audio("STORE-fdbk-BeenSpotted",["assets/audio/mp3/STORE-fdbk-BeenSpotted.mp3","assets/audio/ogg/STORE-fdbk-BeenSpotted.ogg"]),a.load.audio("STORE-fdbk-OopsNoisyDucks",["assets/audio/mp3/STORE-fdbk-OopsNoisyDucks.mp3","assets/audio/ogg/STORE-fdbk-OopsNoisyDucks.ogg"]),a.load.audio("STORE-fdbk-WhoopsPlaneBonk",["assets/audio/mp3/STORE-fdbk-WhoopsPlaneBonk.mp3","assets/audio/ogg/STORE-fdbk-WhoopsPlaneBonk.ogg"]),a.load.audio("STORE-instruct-DontBumpDucks",["assets/audio/mp3/STORE-instruct-DontBumpDucks.mp3","assets/audio/ogg/STORE-instruct-DontBumpDucks.ogg"]),a.load.audio("STORE-instruct-NotBeSeen",["assets/audio/mp3/STORE-instruct-NotBeSeen.mp3","assets/audio/ogg/STORE-instruct-NotBeSeen.ogg"]),a.load.audio("CHOICE-cat-FeelsCold",["assets/audio/mp3/CHOICE-cat-FeelsCold.mp3","assets/audio/ogg/CHOICE-cat-FeelsCold.ogg"]),a.load.audio("CHOICE-cat-FeelsFuzzy",["assets/audio/mp3/CHOICE-cat-FeelsFuzzy.mp3","assets/audio/ogg/CHOICE-cat-FeelsFuzzy.ogg"]),a.load.audio("CHOICE-cat-FeelsPapery",["assets/audio/mp3/CHOICE-cat-FeelsPapery.mp3","assets/audio/ogg/CHOICE-cat-FeelsPapery.ogg"]),a.load.audio("CHOICE-cat-FeelsPointy",["assets/audio/mp3/CHOICE-cat-FeelsPointy.mp3","assets/audio/ogg/CHOICE-cat-FeelsPointy.ogg"]),a.load.audio("CHOICE-cat-FeelsSharp",["assets/audio/mp3/CHOICE-cat-FeelsSharp.mp3","assets/audio/ogg/CHOICE-cat-FeelsSharp.ogg"]),a.load.audio("CHOICE-cat-FeelsSoft",["assets/audio/mp3/CHOICE-cat-FeelsSoft.mp3","assets/audio/ogg/CHOICE-cat-FeelsSoft.ogg"]),a.load.audio("CHOICE-cat-FeelsSquishy",["assets/audio/mp3/CHOICE-cat-FeelsSquishy.mp3","assets/audio/ogg/CHOICE-cat-FeelsSquishy.ogg"]),a.load.audio("CHOICE-cat-LooksBlue",["assets/audio/mp3/CHOICE-cat-LooksBlue.mp3","assets/audio/ogg/CHOICE-cat-LooksBlue.ogg"]),a.load.audio("CHOICE-cat-LooksClear",["assets/audio/mp3/CHOICE-cat-LooksClear.mp3","assets/audio/ogg/CHOICE-cat-LooksClear.ogg"]),a.load.audio("CHOICE-cat-LooksMetallic",["assets/audio/mp3/CHOICE-cat-LooksMetallic.mp3","assets/audio/ogg/CHOICE-cat-LooksMetallic.ogg"]),a.load.audio("CHOICE-cat-LooksOrange",["assets/audio/mp3/CHOICE-cat-LooksOrange.mp3","assets/audio/ogg/CHOICE-cat-LooksOrange.ogg"]),a.load.audio("CHOICE-cat-TastesMinty",["assets/audio/mp3/CHOICE-cat-TastesMinty.mp3","assets/audio/ogg/CHOICE-cat-TastesMinty.ogg"]),a.load.audio("CHOICE-cat-TastesSour",["assets/audio/mp3/CHOICE-cat-TastesSour.mp3","assets/audio/ogg/CHOICE-cat-TastesSour.ogg"]),a.load.audio("CHOICE-cat-TastesSweet",["assets/audio/mp3/CHOICE-cat-TastesSweet.mp3","assets/audio/ogg/CHOICE-cat-TastesSweet.ogg"]),a.load.audio("CHOICE-fdbk-ThatsRight",["assets/audio/mp3/CHOICE-fdbk-ThatsRight.mp3","assets/audio/ogg/CHOICE-fdbk-ThatsRight.ogg"]),a.load.audio("CHOICE-fdbk-YouGotIt",["assets/audio/mp3/CHOICE-fdbk-YouGotIt.mp3","assets/audio/ogg/CHOICE-fdbk-YouGotIt.ogg"]),a.load.audio("CHOICE-right-apple",["assets/audio/mp3/CHOICE-right-apple.mp3","assets/audio/ogg/CHOICE-right-apple.ogg"]),a.load.audio("CHOICE-right-banana",["assets/audio/mp3/CHOICE-right-banana.mp3","assets/audio/ogg/CHOICE-right-banana.ogg"]),a.load.audio("CHOICE-right-basketball",["assets/audio/mp3/CHOICE-right-basketball.mp3","assets/audio/ogg/CHOICE-right-basketball.ogg"]),a.load.audio("CHOICE-right-bell",["assets/audio/mp3/CHOICE-right-bell.mp3","assets/audio/ogg/CHOICE-right-bell.ogg"]),a.load.audio("CHOICE-right-bread",["assets/audio/mp3/CHOICE-right-bread.mp3","assets/audio/ogg/CHOICE-right-bread.ogg"]),a.load.audio("CHOICE-right-brick",["assets/audio/mp3/CHOICE-right-brick.mp3","assets/audio/ogg/CHOICE-right-brick.ogg"]),a.load.audio("CHOICE-right-cantaloupe",["assets/audio/mp3/CHOICE-right-cantaloupe.mp3","assets/audio/ogg/CHOICE-right-cantaloupe.ogg"]),a.load.audio("CHOICE-right-cap",["assets/audio/mp3/CHOICE-right-cap.mp3","assets/audio/ogg/CHOICE-right-cap.ogg"]),a.load.audio("CHOICE-right-carrot",["assets/audio/mp3/CHOICE-right-carrot.mp3","assets/audio/ogg/CHOICE-right-carrot.ogg"]),a.load.audio("CHOICE-right-cuckoo",["assets/audio/mp3/CHOICE-right-cuckoo.mp3","assets/audio/ogg/CHOICE-right-cuckoo.ogg"]),a.load.audio("CHOICE-right-drill",["assets/audio/mp3/CHOICE-right-drill.mp3","assets/audio/ogg/CHOICE-right-drill.ogg"]),a.load.audio("CHOICE-right-eggplant",["assets/audio/mp3/CHOICE-right-eggplant.mp3","assets/audio/ogg/CHOICE-right-eggplant.ogg"]),a.load.audio("CHOICE-right-firetruck",["assets/audio/mp3/CHOICE-right-firetruck.mp3","assets/audio/ogg/CHOICE-right-firetruck.ogg"]),a.load.audio("CHOICE-right-jar",["assets/audio/mp3/CHOICE-right-jar.mp3","assets/audio/ogg/CHOICE-right-jar.ogg"]),a.load.audio("CHOICE-right-juice",["assets/audio/mp3/CHOICE-right-juice.mp3","assets/audio/ogg/CHOICE-right-juice.ogg"]),a.load.audio("CHOICE-right-lemon",["assets/audio/mp3/CHOICE-right-lemon.mp3","assets/audio/ogg/CHOICE-right-lemon.ogg"]),a.load.audio("CHOICE-right-newspaper",["assets/audio/mp3/CHOICE-right-newspaper.mp3","assets/audio/ogg/CHOICE-right-newspaper.ogg"]),a.load.audio("CHOICE-right-orange",["assets/audio/mp3/CHOICE-right-orange.mp3","assets/audio/ogg/CHOICE-right-orange.ogg"]),a.load.audio("CHOICE-right-pear",["assets/audio/mp3/CHOICE-right-pear.mp3","assets/audio/ogg/CHOICE-right-pear.ogg"]),a.load.audio("CHOICE-right-pencil",["assets/audio/mp3/CHOICE-right-pencil.mp3","assets/audio/ogg/CHOICE-right-pencil.ogg"]),a.load.audio("CHOICE-right-phone",["assets/audio/mp3/CHOICE-right-phone.mp3","assets/audio/ogg/CHOICE-right-phone.ogg"]),a.load.audio("CHOICE-right-popsicle",["assets/audio/mp3/CHOICE-right-popsicle.mp3","assets/audio/ogg/CHOICE-right-popsicle.ogg"]),a.load.audio("CHOICE-right-popcorn",["assets/audio/mp3/CHOICE-right-popcorn.mp3","assets/audio/ogg/CHOICE-right-popcorn.ogg"]),a.load.audio("CHOICE-right-ribbon",["assets/audio/mp3/CHOICE-right-ribbon.mp3","assets/audio/ogg/CHOICE-right-ribbon.ogg"]),a.load.audio("CHOICE-right-scissors",["assets/audio/mp3/CHOICE-right-scissors.mp3","assets/audio/ogg/CHOICE-right-scissors.ogg"]),a.load.audio("CHOICE-right-stuffed",["assets/audio/mp3/CHOICE-right-stuffed.mp3","assets/audio/ogg/CHOICE-right-stuffed.ogg"]),a.load.audio("CHOICE-right-tape",["assets/audio/mp3/CHOICE-right-tape.mp3","assets/audio/ogg/CHOICE-right-tape.ogg"]),a.load.audio("CHOICE-right-teddybear",["assets/audio/mp3/CHOICE-right-teddybear.mp3","assets/audio/ogg/CHOICE-right-teddybear.ogg"]),a.load.audio("CHOICE-right-toothpaste",["assets/audio/mp3/CHOICE-right-toothpaste.mp3","assets/audio/ogg/CHOICE-right-toothpaste.ogg"]),a.load.audio("CHOICE-right-towel",["assets/audio/mp3/CHOICE-right-towel.mp3","assets/audio/ogg/CHOICE-right-towel.ogg"]),a.load.audio("CHOICE-right-videogame",["assets/audio/mp3/CHOICE-right-videogame.mp3","assets/audio/ogg/CHOICE-right-videogame.ogg"]),a.load.audio("CHOICE-right-watch",["assets/audio/mp3/CHOICE-right-watch.mp3","assets/audio/ogg/CHOICE-right-watch.ogg"]),a.load.audio("CHOICE-right-watermelon",["assets/audio/mp3/CHOICE-right-watermelon.mp3","assets/audio/ogg/CHOICE-right-watermelon.ogg"]),a.load.audio("CHOICE-right-whistle",["assets/audio/mp3/CHOICE-right-whistle.mp3","assets/audio/ogg/CHOICE-right-whistle.ogg"]),a.load.audio("CHOICE-right-wrench",["assets/audio/mp3/CHOICE-right-wrench.mp3","assets/audio/ogg/CHOICE-right-wrench.ogg"]),a.load.audio("CHOICE-right-tennisball",["assets/audio/mp3/CHOICE-right-tennisball.mp3","assets/audio/ogg/CHOICE-right-tennisball.ogg"]),a.load.audio("CHOICE-right-toytrain",["assets/audio/mp3/CHOICE-right-toytrain.mp3","assets/audio/ogg/CHOICE-right-toytrain.ogg"]),a.load.audio("DESCRIP-sight",["assets/audio/mp3/DESCRIP-sight.mp3","assets/audio/ogg/DESCRIP-sight.ogg"]),a.load.audio("DESCRIP-smell",["assets/audio/mp3/DESCRIP-smell.mp3","assets/audio/ogg/DESCRIP-smell.ogg"]),a.load.audio("DESCRIP-sound",["assets/audio/mp3/DESCRIP-sound.mp3","assets/audio/ogg/DESCRIP-sound.ogg"]),a.load.audio("DESCRIP-taste",["assets/audio/mp3/DESCRIP-taste.mp3","assets/audio/ogg/DESCRIP-taste.ogg"]),a.load.audio("DESCRIP-touch",["assets/audio/mp3/DESCRIP-touch.mp3","assets/audio/ogg/DESCRIP-touch.ogg"]),a.load.audio("STORE-BeSneaky",["assets/audio/mp3/STORE-BeSneaky.mp3","assets/audio/ogg/STORE-BeSneaky.ogg"]),a.load.audio("STORE-fdbk-OopsEngineBump",["assets/audio/mp3/STORE-fdbk-OopsEngineBump.mp3","assets/audio/ogg/STORE-fdbk-OopsEngineBump.ogg"]),a.load.audio("STORE-fdbk-OopsNoisyClocks",["assets/audio/mp3/STORE-fdbk-OopsNoisyClocks.mp3","assets/audio/ogg/STORE-fdbk-OopsNoisyClocks.ogg"]),a.load.audio("STORE-instruct-DontBumpClocks",["assets/audio/mp3/STORE-instruct-DontBumpClocks.mp3","assets/audio/ogg/STORE-instruct-DontBumpClocks.ogg"]),a.load.audio("STORE-instruct-DontBumpDinos",["assets/audio/mp3/STORE-instruct-DontBumpDinos.mp3","assets/audio/ogg/STORE-instruct-DontBumpDinos.ogg"]),a.load.audio("STORE-fdbk-OopsTruckBump",["assets/audio/mp3/STORE-fdbk-OopsTruckBump.mp3","assets/audio/ogg/STORE-fdbk-OopsTruckBump.ogg"]),a.load.audio("STORE-fdbk-WhoopsShuttleBonk",["assets/audio/mp3/STORE-fdbk-WhoopsShuttleBonk.mp3","assets/audio/ogg/STORE-fdbk-WhoopsShuttleBonk.ogg"]),a.load.audio("STORE-instruct-DontLetHerSee",["assets/audio/mp3/STORE-instruct-DontLetHerSee.mp3","assets/audio/ogg/STORE-instruct-DontLetHerSee.ogg"]),a.load.audio("STORE-instruct-TableToAvoidEngines",["assets/audio/mp3/STORE-instruct-TableToAvoidEngines.mp3","assets/audio/ogg/STORE-instruct-TableToAvoidEngines.ogg"]),a.load.audio("STORE-instruct-TableToAvoidCars",["assets/audio/mp3/STORE-instruct-TableToAvoidCars.mp3","assets/audio/ogg/STORE-instruct-TableToAvoidCars.ogg"]),a.load.audio("STORE-instruct-TableToAvoidTrucks",["assets/audio/mp3/STORE-instruct-TableToAvoidTrucks.mp3","assets/audio/ogg/STORE-instruct-TableToAvoidTrucks.ogg"]),a.load.audio("STORE-instruct-UpToAvoidPlanes",["assets/audio/mp3/STORE-instruct-UpToAvoidPlanes.mp3","assets/audio/ogg/STORE-instruct-UpToAvoidPlanes.ogg"]),a.load.audio("STORE-instruct-UpToAvoidShuttles",["assets/audio/mp3/STORE-instruct-UpToAvoidShuttles.mp3","assets/audio/ogg/STORE-instruct-UpToAvoidShuttles.ogg"]),a.load.audio("STORE-SneakingTime",["assets/audio/mp3/STORE-SneakingTime.mp3","assets/audio/ogg/STORE-SneakingTime.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeBasketball",["assets/audio/mp3/CHOICE-cat-SoundsLikeBasketball.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeBasketball.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeBell",["assets/audio/mp3/CHOICE-cat-SoundsLikeBell.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeBell.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeCuckoo",["assets/audio/mp3/CHOICE-cat-SoundsLikeCuckoo.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeCuckoo.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeDrill",["assets/audio/mp3/CHOICE-cat-SoundsLikeDrill.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeDrill.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeFiretruck",["assets/audio/mp3/CHOICE-cat-SoundsLikeFiretruck.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeFiretruck.ogg"]),a.load.audio("CHOICE-cat-SoundsLikePhone",["assets/audio/mp3/CHOICE-cat-SoundsLikePhone.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikePhone.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeTrain",["assets/audio/mp3/CHOICE-cat-SoundsLikeTrain.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeTrain.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeVideogame",["assets/audio/mp3/CHOICE-cat-SoundsLikeVideogame.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeVideogame.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeWatch",["assets/audio/mp3/CHOICE-cat-SoundsLikeWatch.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeWatch.ogg"]),a.load.audio("CHOICE-cat-SoundsLikeWhistle",["assets/audio/mp3/CHOICE-cat-SoundsLikeWhistle.mp3","assets/audio/ogg/CHOICE-cat-SoundsLikeWhistle.ogg"]),a.load.audio("CHOICE-GeorgeLikeToPretend",["assets/audio/mp3/CHOICE-GeorgeLikeToPretend.mp3","assets/audio/ogg/CHOICE-GeorgeLikeToPretend.ogg"]),a.load.audio("STORE-instruct-ClickOrTapWhereGo",["assets/audio/mp3/STORE-instruct-ClickOrTapWhereGo.mp3","assets/audio/ogg/STORE-instruct-ClickOrTapWhereGo.ogg"]),a.load.audio("STORE-instruct-DontBumpDinos",["assets/audio/mp3/STORE-instruct-DontBumpDinos.mp3","assets/audio/ogg/STORE-instruct-DontBumpDinos.ogg"]),a.load.audio("SFX-PERIL-firetruck",["assets/audio/mp3/SFX-PERIL-firetruck.mp3","assets/audio/ogg/SFX-PERIL-firetruck.ogg"]),a.load.audio("SFX-PERIL-spaceshuttle",["assets/audio/mp3/SFX-PERIL-spaceshuttle.mp3","assets/audio/ogg/SFX-PERIL-spaceshuttle.ogg"]),a.load.audio("CASHIER-SFX-Register",["assets/audio/mp3/CASHIER-SFX-Register.mp3","assets/audio/ogg/CASHIER-SFX-Register.ogg"]),a.load.audio("SFX-PERIL-plane",["assets/audio/mp3/SFX-PERIL-plane.mp3","assets/audio/ogg/SFX-PERIL-plane.ogg"]),a.load.audio("SFX-PERIL-car",["assets/audio/mp3/SFX-PERIL-car.mp3","assets/audio/ogg/SFX-PERIL-car.ogg"]),a.load.audio("SFX-PERIL-alarmclock",["assets/audio/mp3/SFX-PERIL-alarmclock.mp3","assets/audio/ogg/SFX-PERIL-alarmclock.ogg"]),a.load.audio("SFX-PERIL-ducks",["assets/audio/mp3/SFX-PERIL-ducks.mp3","assets/audio/ogg/SFX-PERIL-ducks.ogg"]),a.load.audio("SFX-PERIL-dumptruck",["assets/audio/mp3/SFX-PERIL-dumptruck.mp3","assets/audio/ogg/SFX-PERIL-dumptruck.ogg"]),a.load.audio("STORE-instruct-DontLetHimSee",["assets/audio/mp3/STORE-instruct-DontLetHimSee.mp3","assets/audio/ogg/STORE-instruct-DontLetHimSee.ogg"]),a.load.audio("CHOICE-cat-LooksMulticolored",["assets/audio/mp3/CHOICE-cat-LooksMulticolored.mp3","assets/audio/ogg/CHOICE-cat-LooksMulticolored.ogg"]),a.load.audio("CHOICE-cat-LooksPurple",["assets/audio/mp3/CHOICE-cat-LooksPurple.mp3","assets/audio/ogg/CHOICE-cat-LooksPurple.ogg"]),a.load.audio("CHOICE-cat-LooksRectangular",["assets/audio/mp3/CHOICE-cat-LooksRectangular.mp3","assets/audio/ogg/CHOICE-cat-LooksRectangular.ogg"]),a.load.audio("CHOICE-cat-LooksRed",["assets/audio/mp3/CHOICE-cat-LooksRed.mp3","assets/audio/ogg/CHOICE-cat-LooksRed.ogg"]),a.load.audio("CHOICE-right-toytrain",["assets/audio/mp3/CHOICE-right-toytrain.mp3","assets/audio/ogg/CHOICE-right-toytrain.ogg"]),a.load.audio("STORE-fdbk-GoodGoing",["assets/audio/mp3/STORE-fdbk-GoodGoing.mp3","assets/audio/ogg/STORE-fdbk-GoodGoing.ogg"]),a.load.audio("STORE-fdbk-NiceJob",["assets/audio/mp3/STORE-fdbk-NiceJob.mp3","assets/audio/ogg/STORE-fdbk-NiceJob.ogg"]),a.load.audio("STORE-fdbk-OopsCarBump",["assets/audio/mp3/STORE-fdbk-OopsCarBump.mp3","assets/audio/ogg/STORE-fdbk-OopsCarBump.ogg"]),a.load.audio("STORE-SneakToGetNeed",["assets/audio/mp3/STORE-SneakToGetNeed.mp3","assets/audio/ogg/STORE-SneakToGetNeed.ogg"]),a.load.audio("STORE-YouCompletedMission",["assets/audio/mp3/STORE-YouCompletedMission.mp3","assets/audio/ogg/STORE-YouCompletedMission.ogg"]),a.load.onLoadStart.add(function(){}),a.load.onFileComplete.add(function(){document.getElementById("loadingPercent").innerHTML="Loading "+.01*a.load.progress,document.getElementById("loadingPercentImg").style.width=2.16*a.load.progress+"px"}),a.load.onLoadComplete.add(function(){document.getElementById("loading").style.display="none"})}function getlevelFromFactory(a,b,c,d,e,f,g,h){var i=null;switch(a){case"level1":i=new levels.FloorLevel1(b,c,d,e,f,g,h),i.playerCanGoUp=!1,i.playerIsClimbing=!1;break;case"level2":i=new levels.FloorLevel2(b,c,d,e,f,g,h),i.playerCanGoUp=!1,i.playerIsClimbing=!1;break;case"level3":i=new levels.FloorLevel3(b,c,d,e,f,g,h),i.playerCanGoUp=!1,i.playerIsClimbing=!1;break;case"level4":i=new levels.FloorLevel4(b,c,d,e,f,g,h),i.playerCanGoUp=!0,i.playerIsClimbing=!1;break;case"level5":i=new levels.FloorLevel5(b,c,d,e,f,g,h),i.playerCanGoUp=!1,i.playerIsClimbing=!1;break;case"level6":i=new levels.FloorLevel6(b,c,d,e,f,g,h),i.playerCanGoUp=!1,i.playerIsClimbing=!1;break;case"level7":i=new levels.FloorLevel7(b,c,d,e,f,g,h),i.playerCanGoUp=!0,i.playerIsClimbing=!1}return i.create(),i.onGameSuccess=function(){function a(){gameModel.currentLevelIndex=c.nextLevelIndex,c.isMissionComplete===!1?gameModel.showIntroDisplay():h.playAudio("STORE-YouCompletedMission")}var c=this;gameModel.floorActionEnded=!0,h.onGoalAudio();var d=b.add.tween();d.delay(1e3),d.onComplete.add(a,this),d.start()},i.onGameFail=function(){function a(){gameModel.currentLevelIndex=c.prevLevelIndex,gameModel.callResetLevel()}var c=this;gameModel.floorActionEnded=!0,h.stopAudio();var d=b.add.tween();d.delay(1e3),d.onComplete.add(a,this),d.start()},i}function populateAssetList(a){var b,c,d,e,f,g,h,i,j,k,l={},m=a.length,n=0;for(n;m>n;n++)switch(a[n]){case"bgColorAsset":b=getRandomItemFromArray(localBGColorImgs,backgroundColorImgs),l.bgColorAsset=b;break;case"boxColorAsset":c=getRandomItemFromArray(localBoxImgs,boxImgs),l.boxColorAsset=c;break;case"podiumColorAsset":d=getRandomItemFromArray(localPodiumImgs,podiumImgs),l.podiumColorAsset=d;break;case"tableColorAsset":e=getRandomItemFromArray(localTableImgs,tableImgs),l.tableColorAsset=e;break;case"tableSmallColorAsset":f=getRandomItemFromArray(localTableSmallImgs,smallTableImgs),l.tableSmallColorAsset=f;break;case"obstacleAsset":if(g=getRandomItemFromArray(localToyVechicalImgs,floorVechicleImgs),l.obstacleAsset=g,l.obstacleAudio=sfx_peril[g],l.instructionAudio=instructOfObstacles[g],l.failObstacleAudio=fdbkAudioOfObstacles[g],null===l.obstacleAudio||void 0===l.obstacleAudio)throw"objectResult.obstacleAudio currentToyVechicalImg = "+g;if(null===l.instructionAudio||void 0===l.instructionAudio)throw"objectResult.instructionAudio currentToyVechicalImg = "+g;if(null===l.failObstacleAudio||void 0===l.failObstacleAudio)throw"objectResult.failAudio currentToyVechicalImg = "+g;break;case"obstacleCharactersAsset":if(h=getRandomItemFromArray(localFloorImgs,floorImgs),l.obstacleCharactersAsset=h,l.obstacleCharactersAudio=sfx_peril[h],l.instructionAudio=instructOfObstacles[h],l.failCharactersAudio=fdbkAudioOfObstacles[h],null===l.obstacleCharactersAudio||void 0===l.obstacleCharactersAudio)throw"objectResult.obstacleAudio currentFloorImg = "+h;if(null===l.instructionAudio||void 0===l.instructionAudio)throw"objectResult.instructionAudio currentFloorImg = "+h;if(null===l.failCharactersAudio||void 0===l.failCharactersAudio)throw"objectResult.failAudio currentToyVechicalImg = "+g;break;case"guardAsset":i=getRandomItemFromArray(localGuardImgs,guardImgs),l.guardAsset=i,l.instructionAudio=instructOfObstacles[i];break;case"climbLightAsset":j=getRandomItemFromArray(localLightImgs,lightImgs),l.shortClimbLightAsset="short_climb_"+j,l.longClimbLightAsset="long_climb_"+j;break;case"obstacleAirAsset":k=getRandomItemFromArray(localAirToyImgs,airToyImgs),l.obstacleAirAsset=k,l.obstacleAirAudio=sfx_peril[k],l.instructionAudio=instructOfObstacles[k],l.failObstacleAirAudio=fdbkAudioOfObstacles[k]}return l}function populateSelectionDisplayItem(a,b){var c=null;switch(a){case"sight":c=sense_sight_cat[b];break;case"smell":c=sense_smell_cat[b];break;case"sound":c=sense_sound_cat[b];break;case"taste":c=sense_taste_cat[b];break;case"feel":c=sense_feel_cat[b]}return c}function getSenseValue(a){var b;switch(a){case"sight":b=getRandomItemFromArray(localSenseSight,sense_sight);break;case"sweet":b=getRandomItemFromArray(localSenseSweet,sense_sweet);break;case"sound":b=getRandomItemFromArray(localSenseSound,sense_sound);break;case"smell":b=getRandomItemFromArray(localSenseSmell,sense_smell);break;case"taste":b=getRandomItemFromArray(localSenseTaste,sense_taste);break;case"feel":b=getRandomItemFromArray(localSenseFeel,sense_feel)}return b}function getRandomItemFromArray(a,b){var c="";if(a.length<=0){var d=b.length,e=0;for(e;d>e;e++)a.push(b[e])}var f=Math.round(Math.random()*(a.length-1));return c=a.splice(f,1)[0]}var gameLib={};gameLib.TitleScreenDisplay=function(a,b){this.game=a,this.audioMgr=b,this.titleScreenGrp=null,this.buttonStart=null,this.backgroundImg=null,this.georgeImg=null,this.storeImg=null,this.titleImg=null},gameLib.TitleScreenDisplay.prototype={create:function(){var a=-80,b=-20;this.titleScreenGrp=this.game.add.group(),this.backgroundImg=this.titleScreenGrp.create(14,6,"titleScreenBG"),this.storeImg=this.titleScreenGrp.create(79+a,80+b,"storeTitleScreen"),this.georgeImg=this.titleScreenGrp.create(225+a,290+b,"georgeTitleScreen"),this.georgeImg.y=this.georgeImg.y+200,this.titleImg=this.titleScreenGrp.create(363+a+248.5,99+b+80,"titleTitleScreen"),this.titleImg.anchor.setTo(.5,.5),this.titleImg.scale.x=0,this.titleImg.scale.y=0,useMouse===!1&&(this.touchToStartText=this.game.add.text(625,380,"Touch to Start",{font:"24px Arial",fill:"#FFFFFF"}),this.titleScreenGrp.add(this.touchToStartText)),this.buttonStart=this.titleScreenGrp.create(665+a,370+b,"button_start"),this.buttonStart.alpha=0,this.buttonStart.bringToTop(),this.showDisplay(!1)},showDisplay:function(a){this.titleScreenGrp.alpha=a===!0?1:0},start:function(){var a=this.game.add.tween(this.titleImg.scale).delay(100).to({x:1.5,y:1.5},300,Phaser.Easing.Linear.None).to({x:1,y:1},300,Phaser.Easing.Linear.None);a.start();var b=this.game.add.tween(this.georgeImg).to({y:this.georgeImg.y-200},1e3,Phaser.Easing.Linear.In);
b.start(),this.audioMgr.playAudio("SPLASH-SecretAgentGeorge",!1)},displayPlayButton:function(){var a=this;a.audioMgr.currentAudioMarker="SPLASH-ClickToStart",a.audioMgr.loopAudio=!1,a.audioMgr.playAudio(),this.buttonStart.alpha=1,this.buttonStart.inputEnabled=!0,this.buttonStart.events.onInputDown.add(function(){this.audioMgr.isAudioPlaying!==!0&&(a.onHandlePlayButton(),a.buttonStart.inputEnabled=!1,this.buttonStart.events.onInputDown.removeAll(a),a.titleScreenGrp.remove(a.buttonStart),useMouse===!1&&a.titleScreenGrp.remove(a.touchToStartText))},this)},destroy:function(){this.titleScreenGrp.destroy()}},gameLib.TitleScreenDisplay.prototype.playAudio=function(){console.log("overrite playAudio()")},gameLib.TitleScreenDisplay.prototype.stopAudio=function(){console.log("overrite stopAudio()")},gameLib.TitleScreenDisplay.prototype.onHandlePlayButton=function(){console.log("overrite onHandlePlayButton()")},gameLib.SelectionDisplay=function(a,b){this.game=a,this.audioMgr=b,this.itemSelectionGrp=null,this.thoughtBubbleImg=null,this.georgeImg=null,this.backgroundImg=null,this.sensesGrp=null,this.hideXPos=1500,this.showXPos=0,this.viewStateLevel=0,this.ifFirstTime=!0,this.enabled=!1,this.correctSelection="",this.selections=[],this.hintAudio="",this.correctSelectionAudio="",this.descriptSenseAudio="",this.selection1Img=null,this.selection2Img=null,this.selection3Img=null,this.originHintAudioList=["CHOICE-WeNeedSomethingThat"],this.hintAudioList=[],this.hasSenseDescriptionPlayed=!1,this.timerEvent=null,this.descriptAudioPauseSecs=600,this.hintAudioPauseSecs=500},gameLib.SelectionDisplay.prototype={create:function(){this.itemSelectionGrp=this.game.add.group(),this.backgroundImg=this.itemSelectionGrp.create(0,0,"choiceScreen_BG"),this.backgroundImg.x=10,this.backgroundImg.y=10,this.thoughtBubbleImg=this.itemSelectionGrp.create(0,0,"choiceScreen_thoughtBubble"),this.thoughtBubbleImg.x=this.backgroundImg.width/2-this.thoughtBubbleImg.width/2,this.thoughtBubbleImg.alpha=0,this.georgeImg=addSprite(this.game,0,0,"george_intro"),this.georgeImg.animations.add("enter",Phaser.Animation.generateFrameNames("george_enter_",1,20,"",2),30,!1),this.georgeImg.animations.add("exits",Phaser.Animation.generateFrameNames("george_exits_",3,14,"",2),30,!1),this.georgeImg.animations.add("talking",Phaser.Animation.generateFrameNames("george_talking_",1,6,"",2),30,!1),this.georgeImg.inputEnabled=!0,this.georgeImg.alpha=1,this.itemSelectionGrp.add(this.georgeImg),this.georgeImg.x=this.backgroundImg.width/2-125,this.georgeImg.y=this.backgroundImg.height-250+10,this.itemSelectionGrp.x=this.hideXPos,this.georgeImg.events.onInputDown.add(function(){var a=getRandomItemFromArray(this.hintAudioList,this.originHintAudioList);this.audioMgr.playAudio(a)},this)},pulseImage:function(a){this.game.add.tween(a.scale).to({x:1.1,y:1.1},300,Phaser.Easing.Linear.None).to({x:1,y:1},300,Phaser.Easing.Linear.None).start()},selectItem:function(a){var b=this;this.viewStateLevel==a&&b.playLevel()},firstStart:function(){this.georgeImg.y;this.georgeImg.alpha=1,this.itemSelectionGrp.x=this.showXPos,this.game.add.tween(this.backgroundImg).to({alpha:1},400,Phaser.Easing.Linear.None).start(),this.georgeImg.play("enter"),this.audioMgr.playAudio("CHOICE-GeorgeLikeToPretend")},hideDisplay:function(){this.itemSelectionGrp.x=this.hideXPos,this.resetGroups()},showDisplay:function(a,b){this.game.add.tween(this.thoughtBubbleImg).to({alpha:1},400,Phaser.Easing.Linear.None).start(),this.hasSenseDescriptionPlayed=b,this.itemSelectionGrp.x=this.showXPos,this.resetGroups(),this.sensesGrp=this.game.add.group(),this.sensesGrp.alpha=0,this.sensesGrp.x=this.hideXPos,this.correctSelection=a.correctSelection,this.correctSelectionAudio=a.correctResponseAudio,this.selections=a.selections,this.hintAudio=a.hintAudio,this.descriptSenseAudio=a.descriptSenseAudio;var c=0,d=this.selections.length;for(c=0;d>c;c++)switch(c){case 0:this.selection1Img=this.createItem(this.selections[0]),this.sensesGrp.add(this.selection1Img);break;case 1:this.selection2Img=this.createItem(this.selections[1]),this.sensesGrp.add(this.selection2Img);break;case 2:this.selection3Img=this.createItem(this.selections[2]),this.sensesGrp.add(this.selection3Img)}this.sensesGrp.x=this.showXPos,this.enabled=!1},createItem:function(a){var b=this,c=40,d=40,e=this.game.add.sprite(0,0,"choice_screen",a.choiceAsset);return e.inputEnabled=!0,e.name=a.selectName,e.anchor.setTo(.5,.5),e.events.onInputDown.add(function(a){b.enabled===!0&&(b.pulseImage(e),b.audioMgr.stopAudio(),a.name==this.correctSelection?b.audioMgr.correctSelection():b.audioMgr.incorrectSelection())},this),e.x=c+a.XPosOffset+e.width/5,e.y=d+a.YPosOffset+e.height/5,e},resetGroups:function(){this.correctSelection="",this.selections=[],null!==this.selection1Img&&(this.selection1Img.destroy(),this.selection1Img=null),null!==this.selection2Img&&(this.selection2Img.destroy(),this.selection2Img=null),null!==this.selection3Img&&(this.selection3Img.destroy(),this.selection3Img=null),null!==this.sensesGrp&&(this.sensesGrp.destroy(),this.sensesGrp=null)},giveHint:function(){this.georgeImg.play("enter");var a=getRandomItemFromArray(this.hintAudioList,this.originHintAudioList);this.audioMgr.playAudio(a)},onAudioStop:function(){var a=this;switch(this.audioMgr.currentAudioMarker){case"CHOICE-GeorgeLikeToPretend":this.georgeImg.play("talking"),this.audioMgr.playAudio("CHOICE-George-IHearYou");break;case"CHOICE-George-IHearYou":this.audioMgr.playAudio("CHOICE-INeedYouToBuy");break;case"CHOICE-INeedYouToBuy":this.georgeImg.play("talking"),this.audioMgr.playAudio("CHOICE-George-Hmm"),this.dispatchEvent("EVENT_SHOW_INTRO_DISPLAY");break;case"CHOICE-George-Hmm":case"CHOICE-George-sad":var b=getRandomItemFromArray(this.hintAudioList,this.originHintAudioList);this.audioMgr.playAudio(b);break;case"CHOICE-IGiveYouAHint":break;case"CHOICE-NowWeNeedSomethingThat":case"CHOICE-WeNeedSomethingThat":case"CHOICE-WhichDoYouThink":case"CHOICE-WhichOfTheseThings":this.timerEvent=this.game.time.events.add(this.hintAudioPauseSecs,this.onHintAudioPause,this);break;case"CHOICE-cat-SmellsSweet":case"CHOICE-cat-LooksYellow":case"CHOICE-cat-TastesSalty":case"CHOICE-cat-FeelsSticky":case"CHOICE-cat-FeelsCold":case"CHOICE-cat-FeelsFuzzy":case"CHOICE-cat-FeelsPapery":case"CHOICE-cat-FeelsPointy":case"CHOICE-cat-FeelsSharp":case"CHOICE-cat-FeelsSoft":case"CHOICE-cat-FeelsSquishy":case"CHOICE-cat-LooksBlue":case"CHOICE-cat-LooksClear":case"CHOICE-cat-LooksMetallic":case"CHOICE-cat-LooksMulticolored":case"CHOICE-cat-LooksOrange":case"CHOICE-cat-LooksPurple":case"CHOICE-cat-LooksRectangular":case"CHOICE-cat-LooksRed":case"CHOICE-cat-LooksWooden":case"CHOICE-cat-TastesMinty":case"CHOICE-cat-TastesSalty":case"CHOICE-cat-TastesSour":case"CHOICE-cat-TastesSweet":case"CHOICE-cat-SoundsLikeThis":case"CHOICE-cat-SoundsLikeBasketball":case"CHOICE-cat-SoundsLikeBell":case"CHOICE-cat-SoundsLikeCuckoo":case"CHOICE-cat-SoundsLikeDrill":case"CHOICE-cat-SoundsLikeFiretruck":case"CHOICE-cat-SoundsLikePhone":case"CHOICE-cat-SoundsLikeTrain":case"CHOICE-cat-SoundsLikeVideogame":case"CHOICE-cat-SoundsLikeWatch":case"CHOICE-cat-SoundsLikeWhistle":this.game.add.tween(this.sensesGrp).to({alpha:1},400,Phaser.Easing.Linear.None).start(),this.hasSenseDescriptionPlayed===!1?this.timerEvent=this.game.time.events.add(this.descriptAudioPauseSecs,this.onDescriptAudioPause,this):this.enabled=!0;break;case this.descriptSenseAudio:this.dispatchEvent("EVENT_ENABLE_INTRO_DISPLAY");break;case"CHOICE-right-donut":case"CHOICE-right-popcorn":case"CHOICE-right-tape":case"CHOICE-right-tennisball":case"CHOICE-right-toytrain":case"CHOICE-right-apple":case"CHOICE-right-ax":case"CHOICE-right-banana":case"CHOICE-right-bananabread":case"CHOICE-right-basketball":case"CHOICE-right-bell":case"CHOICE-right-bread":case"CHOICE-right-brick":case"CHOICE-right-cantaloupe":case"CHOICE-right-cap":case"CHOICE-right-carrot":case"CHOICE-right-cheese":case"CHOICE-right-cuckoo":case"CHOICE-right-drill":case"CHOICE-right-eggplant":case"CHOICE-right-firetruck":case"CHOICE-right-flower":case"CHOICE-right-jar":case"CHOICE-right-juice":case"CHOICE-right-lemon":case"CHOICE-right-newspaper":case"CHOICE-right-orange":case"CHOICE-right-pear":case"CHOICE-right-pencil":case"CHOICE-right-phone":case"CHOICE-right-popsicle":case"CHOICE-right-ribbon":case"CHOICE-right-saw":case"CHOICE-right-scissors":case"CHOICE-right-spoon":case"CHOICE-right-stuffed":case"CHOICE-right-teddybear":case"CHOICE-right-toothpaste":case"CHOICE-right-towel":case"CHOICE-right-videogame":case"CHOICE-right-watch":case"CHOICE-right-watermelon":case"CHOICE-right-whistle":case"CHOICE-right-wrench":this.georgeImg.play("talking"),this.audioMgr.playAudio("CHOICE-George-happy");break;case"CHOICE-George-happy":this.timerEvent=this.game.time.events.add(this.descriptAudioPauseSecs,this.onNextLevelPause,this),this.georgeImg.play("exits"),this.game.add.tween(this.sensesGrp).to({alpha:0},400,Phaser.Easing.Linear.None).start(),this.game.add.tween(this.thoughtBubbleImg).to({alpha:0},400,Phaser.Easing.Linear.None).start();break;case"CHOICE-fdbk-ThatsIt":a.enabled=!1,this.audioMgr.playAudio(this.correctSelectionAudio);break;case"CHOICE-fdbk-OopsNotIt":case"CHOICE-fdbk-HmmNotQuiteRight":this.georgeImg.play("talking"),this.audioMgr.incorrectGeorgeResponse()}},onHintAudioPause:function(){this.stopTimer(),this.audioMgr.playAudio(this.hintAudio)},onDescriptAudioPause:function(){this.stopTimer(),this.audioMgr.playAudio(this.descriptSenseAudio),this.hasSenseDescriptionPlayed=!0},onNextLevelPause:function(){this.stopTimer(),this.dispatchEvent("EVENT_RESET_LEVEL")},stopTimer:function(){this.game.time.events.remove(this.timerEvent),this.timerEvent=null}},gameLib.SelectionDisplay.prototype.playLevel=function(){return""},gameLib.SelectionDisplay.prototype.dispatchEvent=function(){return"must override this function"};var gameLib=gameLib||{};gameLib.EndDisplay=function(a,b){this.game=a,this.audioMgr=b;this.end_game=null,this.hideEndXPos=1500,this.showEndXPos=12,this.timerEvent=null,this.timerDuration=1500,this.pulsingButttonMaxCount=3,this.pulsingButttonCount=0,this.enable=!1},gameLib.EndDisplay.prototype={create:function(){var a=this;this.end_game=this.game.add.sprite(this.hideEndXPos,10,"registerPayoff_01"),this.end_game.alpha=0,this.endlevelButton=this.game.add.sprite(this.hideEndXPos,10,"arrowButton"),this.endlevelButton.alpha=0,this.endlevelButton.inputEnabled=!0,this.endlevelButton.events.onInputDown.add(function(){a.enable===!0&&a.nextLevel()})},showDisplay:function(a){a===!0?(this.enable=!0,this.endlevelButton.x=this.showEndXPos+700,this.endlevelButton.y=400,this.end_game.x=this.showEndXPos,this.game.add.tween(this.end_game).to({alpha:1,delay:1e3},400,Phaser.Easing.Cubic.IN).start(),this.timerEvent=this.game.time.events.add(this.timerDuration,this.onEndOfSeries,this),this.pulsingButttonCount=0):(this.enable=!1,this.game.add.tween(this.endlevelButton).to({alpha:0,delay:1e3},400,Phaser.Easing.Cubic.IN).start(),this.game.add.tween(this.end_game).to({alpha:0,delay:1e3},400,Phaser.Easing.Cubic.IN).start(),this.timerEvent=this.game.time.events.add(this.timerDuration,this.onTimerFailed,this))},onTimerFailed:function(){this.game.time.events.remove(this.timerEvent),this.timerEvent=null,this.end_game.x=this.hideEndXPos,this.endlevelButton.x=this.hideEndXPos},onEndOfSeries:function(){this.game.time.events.remove(this.timerEvent),this.timerEvent=null,this.audioMgr.playAudio("CASHIER-SFX-Register")},handleAudioStop:function(a){switch(a){case"CASHIER-SFX-Register":this.audioMgr.playAudio("CASHIER-GreatJobDoMore");break;case"CASHIER-GreatJobDoMore":this.game.add.tween(this.endlevelButton).to({alpha:1,delay:3e3},1e3,Phaser.Easing.Cubic.IN).start(),this.pulseImage(this.endlevelButton),this.timerEvent=this.game.time.events.add(this.timerDuration,this.onPulseTime,this)}},onPulseTime:function(){this.game.time.events.remove(this.timerEvent),this.pulsingButttonCount<this.pulsingButttonMaxCount&&(this.pulseImage(this.endlevelButton),this.timerEvent=this.game.time.events.add(this.timerDuration,this.onPulseTime,this)),this.pulsingButttonCount=this.pulsingButttonCount+1},pulseImage:function(a){this.game.add.tween(a.scale).to({x:1.2,y:1.2,delay:3500},300,Phaser.Easing.Linear.None).to({x:1,y:1},300,Phaser.Easing.Linear.None).start()},clearDisplay:function(){}},gameLib.EndDisplay.prototype.nextLevel=function(){return""},gameLib.Player=function(a,b){this.game=a,this.playerIsClimbing=!1,this.playerCanGoUp=!1,this.climbAnimating=!1,this.useMouse=b,this.inputPosX=0,this.inputPosY=0,this.inputReady=!0,this.hitGround=!0,this.playerX=0,this.playerY=0,this.playerYtimer=0,this.maxYPos=353,this.inputYMin=420,this.isFacingRight=!0,this.sprite=addSprite(this.game,25,260,"game_assets"),this.sprite.body.setSize(35,92,17.5,0),this.sprite.animations.add("climb",Phaser.Animation.generateFrameNames("george_climb_",1,3,"",2),11,!0),this.sprite.animations.add("climb_left",Phaser.Animation.generateFrameNames("george_climb_",3,3,"",2),11,!0),this.sprite.animations.add("climb_right",Phaser.Animation.generateFrameNames("george_climb_",1,1,"",2),11,!0),this.sprite.animations.add("climb_center",Phaser.Animation.generateFrameNames("george_climb_",2,2,"",2),11,!0),this.sprite.animations.add("left",Phaser.Animation.generateFrameNames("george_walk_left_",0,3,"",2),11,!0),this.sprite.animations.add("right",Phaser.Animation.generateFrameNames("george_walk_right_",0,3,"",2),11,!0),this.sprite.animations.add("idle",Phaser.Animation.generateFrameNames("george_idle_",0,0,"",2),11,!1),this.sprite.animations.add("jump_left",Phaser.Animation.generateFrameNames("george_jumps_left_",0,0,"",2),11,!1),this.sprite.animations.add("jump_right",Phaser.Animation.generateFrameNames("george_jumps_right_",0,0,"",2),11,!1),this.sprite.animations.add("crouch_jump",Phaser.Animation.generateFrameNames("george_crouch_jump_",0,1,"",2),11,!1),this.sprite.animations.add("swing_left",Phaser.Animation.generateFrameNames("george_swings_left_",0,7,"",2),11,!1),this.sprite.animations.add("swing_right",Phaser.Animation.generateFrameNames("george_swings_right_",0,7,"",2),11,!1),this.sprite.name="player",this.sprite.play("idle"),this.upTween=null,this.game.input.onUp.add(this.handleOnUp),this.game.input.onDown.add(this.handleOnDown)},gameLib.Player.prototype.handleOnUp=function(){isInputDown=!1},gameLib.Player.prototype.handleOnDown=function(){isInputDown=!0},gameLib.Player.prototype.setPosition=function(a,b){this.sprite.x=a,this.sprite.y=b,this.defaultDisplayState()},gameLib.Player.prototype.resetCharacter=function(){this.sprite.body.bounce.y=.2,this.sprite.body.gravity.y=300,this.sprite.body.collideWorldBounds=!0,this.sprite.x=25,this.sprite.y=342,this.sprite.alpha=1,this.defaultDisplayState(),this.inputPosX=this.sprite.x,this.inputPosY=this.sprite.y},gameLib.Player.prototype.defaultDisplayState=function(){this.sprite.play("idle")},gameLib.Player.prototype.jump=function(){function a(){e.onComplete.remove(a,b),b.game.tweens.remove(e);var f=Math.abs(this.sprite.x-this.inputPosX);logger("distance : "+f),0===f&&(Math.round(this.sprite.y)-c===0&&b.sprite.play("idle"),d===!1&&(logger("thisRef.sprite.y "+Math.round(b.sprite.y)),d=!0))}var b=this,c=234,d=!1;this.sprite.body.velocity.y=-100,this.sprite.body.gravity.y=300,this.playerX<Math.round(this.sprite.x)?this.sprite.play("jump_right"):this.playerX>Math.round(this.sprite.x)&&this.sprite.play("jump_left");var e=this.game.add.tween();e.delay(500),e.onComplete.add(a,this),e.start()},gameLib.Player.prototype.regularControls=function(){this.sprite.body.velocity.x=0,this.playerYMove=325;var a=0,b=0,c=null,d=0,e=0,f=0,g=0;if(this.climbAnimating===!0&&this.playerCanGoUp===!0&&this.sprite.y<=this.maxYPos-100?Math.abs(this.sprite.y-this.inputPosY)>25&&(this.sprite.animations.play("climb"),this.hitGround=!1):this.playerCanGoUp===!0&&this.determineViewState(),isInputDown===!0&&this.inputReady===!0){if(this.inputReady===!1)return;if(d=Math.round(this.game.input.activePointer.x-40),e=Math.round(this.game.input.activePointer.y),f=Math.round(this.game.input.activePointer.x-40),g=Math.round(this.game.input.activePointer.y),this.playerX=Math.round(this.sprite.x),this.playerY=Math.round(this.sprite.y),this.inputReady=!1,this.useMouse?(this.inputPosX=d,this.inputPosY=e):(this.inputPosX=f,this.inputPosY=g),this.inputPosY>=this.inputYMin)return;a=4*Math.abs(this.inputPosX-this.playerX),this.inputPosX=this.inputPosX.clamp(0,900),c=this.game.add.tween(this.sprite).to({x:this.inputPosX},a,Phaser.Easing.Linear.None),c.onComplete.add(this.movingIdleTweenComplete,this),c.start(),this.determineViewState(),this.playerCanGoUp===!0&&this.playerY<=this.maxYPos&&(b=4*Math.abs(this.inputPosY-this.playerY),this.playerY<=365&&this.playerIsClimbing===!1&&(this.inputPosY=this.inputPosY.clamp(250,365)),this.climbAnimating=!0,this.upTween=this.game.add.tween(this.sprite).to({y:this.inputPosY},b,Phaser.Easing.Linear.None),this.upTween.onUpdateCallback(this.upTweenUpdate,this),this.upTween.onComplete.add(this.upTweenComplete,this),this.upTween.start())}this.currentPosX=this.sprite.x,this.currentPosY=this.sprite.y,this.playerCanGoUp===!1&&this.handlePlayerGoingUp()},gameLib.Player.prototype.handlePlayerGoingUp=function(){isInputDown===!1&&(this.inputReady=!0)},gameLib.Player.prototype.handlePlayerOnGround=function(){this.hitGround===!1&&this.sprite.y>this.maxYPos-100&&(this.hitGround=!0,this.inputPosX=this.playerX),this.handlePlayerGoingUp()},gameLib.Player.prototype.movingIdleTweenComplete=function(){this.determineViewState(),this.game.tweens.remove(this.movingIdleTweenComplete)},gameLib.Player.prototype.upTweenUpdate=function(){this.sprite.y>this.maxYPos&&(this.sprite.y=this.maxYPos)},gameLib.Player.prototype.upTweenComplete=function(){this.climbAnimating=!1,this.sprite.body.velocity.y=0,this.determineViewState(),this.game.tweens.remove(this.upTween)},gameLib.Player.prototype.determineViewState=function(){{var a=Math.abs(this.sprite.x-this.inputPosX);Math.abs(this.sprite.y-this.inputPosY)}if(!(this.inputPosY>418)){var b=0;this.playerIsClimbing===!0&&(b=42),b>=a?this.playerIsClimbing===!0?this.sprite.animations.play("climb_center"):this.playerCanGoUp===!0?this.sprite.y>=this.maxYPos-10?this.defaultDisplayState():this.sprite.play(this.isFacingRight===!0?"jump_right":"jump_left"):this.defaultDisplayState():this.inputPosX<this.playerX?(this.isFacingRight=!1,this.sprite.animations.play(this.playerIsClimbing===!1?"left":"swing_left")):this.inputPosX>this.playerX?(this.isFacingRight=!0,this.sprite.animations.play(this.playerIsClimbing===!1?"right":"swing_right")):this.defaultDisplayState()}},gameLib.GameModel=function(){this.floorActionEnded=!0,this.floorActionStarting=!0,this.currentLevelIndex=1,this.currentLevel=null,this.selectionDisplay=null,this.firstTimeThur=!0},gameLib.GameModel.prototype.showIntroDisplay=function(){return"override this function"},gameLib.GameModel.prototype.callResetLevel=function(){return"override this function"},gameLib.SenseModel=function(a,b,c,d,e){this.selections=a,this.correctSelection=b,this.hintAudio=c,this.descriptSenseAudio=d,this.correctResponseAudio=e},gameLib.SelectionVO=function(a,b,c,d){this.choiceAsset=a,this.XPosOffset=b,this.YPosOffset=c,this.selectName=d};var gameLib=gameLib||{};gameLib.AudioManager=function(a){function b(){null!==this.audioInstance&&(this.audioInstance.volume=0)}function c(){null!==this.audioInstance&&(this.audioInstance.volume=this.volumeMax)}this.game=a,this.isAudioPlaying=!1,this.currentAudioMarker="",this.audioArrayObj=[],this.volumeMax=1;for(var d=0;d<audioMarkers.length;d++){var e=audioMarkers[d];this.audioArrayObj.push({marker:e[2],audioObj:this.game.sound.add(e[2])}),this.audioArrayObj[d].audioObj.onStop.add(this.onAudioStop,this),this.audioArrayObj[d].audioObj.onPlay.add(this.onPlay,this)}this.game.onPause.add(b,this),this.game.onResume.add(c,this),this.incorrectSelectionNum=Math.round(1*Math.random())},gameLib.AudioManager.prototype={playAudio:function(a,b){this.isAudioPlaying!==!0&&(void 0!==a&&(this.currentAudioMarker=a),this.loopAudio=void 0!==b?b:!1,this.getAudioFromMarker(this.currentAudioMarker),this.audioInstance.play("",0,1,this.loopAudio))},getAudioFromMarker:function(a){for(var b=audioMarkers.length-1;b>=0;b--){var c=this.audioArrayObj[b];if(c.marker==a){this.audioInstance=c.audioObj,this.currentAudioMarker=c.marker;break}}},stopAudio:function(){this.currentAudioMarker="",this.loopAudio=!1,this.audioInstance.stop()},thisMarkerComplete:function(){logger("onMarkerComplete")},incorrectSelection:function(){0===this.incorrectSelectionNum?(this.incorrectSelectionNum=1,this.playAudio("CHOICE-fdbk-OopsNotIt")):(this.incorrectSelectionNum=0,this.playAudio("CHOICE-fdbk-HmmNotQuiteRight"))},correctSelection:function(){this.playAudio("CHOICE-fdbk-ThatsIt")},incorrectGeorgeResponse:function(){var a=Math.round(1*Math.random());logger("incorrectGeorgeResponse - randomNum "+a),this.playAudio(0===a?"CHOICE-George-sad":"CHOICE-George-Hmm")},onGoalAudio:function(){var a=Math.round(1*Math.random());logger("randomNum "+a),this.playAudio(0===a?"STORE-fdbk-NiceJob":"STORE-fdbk-GoodGoing")},onAudioStop:function(){switch(logger("onAudioStop currentAudioMarker: "+this.currentAudioMarker),this.isAudioPlaying=!1,this.currentAudioMarker){case"SPLASH-SecretAgentGeorge":this.dispatchEvent("EVENT_DISPLAY_PLAY_BUTTON");break;case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":case"STORE-fdbk-BeenSpotted":case"STORE-instruct-NotBeSeen":case"STORE-instruct-DontLetHimSee":case"STORE-instruct-TableforCarUpForPlane":case"STORE-instruct-TableToAvoidCars":case"STORE-instruct-DontBumpDucks":case"STORE-instruct-DontLetHerSee":case"STORE-instruct-DontBumpClocks":case"STORE-instruct-DontBumpDinos":case"STORE-instruct-FloorToAvoidPlanes":case"STORE-instruct-FloorToAvoidShuttles":case"STORE-instruct-TableToAvoidEngines":case"STORE-instruct-TableToAvoidTrucks":case"STORE-instruct-UpToAvoidPlanes":case"STORE-instruct-UpToAvoidShuttles":case sfx_peril.alarm_clocks:case sfx_peril.rubber_ducks:case sfx_peril.toy_car:case sfx_peril.toy_truck:case sfx_peril.fire_truck:case sfx_peril.toy_plane_blue:case sfx_peril.toy_plane_yellow:case sfx_peril.redtoy_shuttle:case"SFX-PERIL-dumptruck":case fdbkAudioOfObstacles.redtoy_shuttle:case fdbkAudioOfObstacles.toy_plane_blue:case fdbkAudioOfObstacles.toy_plane_yellow:case fdbkAudioOfObstacles.rubber_ducks:case fdbkAudioOfObstacles.alarm_clocks:case fdbkAudioOfObstacles.fire_truck:case fdbkAudioOfObstacles.toy_truck:case fdbkAudioOfObstacles.toy_car:case"CASHIER-SFX-Register":case"CASHIER-GreatJobDoMore":case"STORE-instruct-ClickOrTapWhereGo":this.dispatchEvent("EVENT_CURRENT_LEVEL_HANDLE_AUDIO_STOP",this.currentAudioMarker);break;case"STORE-YouCompletedMission":this.dispatchEvent("EVENT_COMPLETED_MISSION");break;case"CASHIER-GreatJobDoMore":logger("Level Complete");break;default:logger("onAudioStop default/NotHandled currentAudioMarker: "+this.currentAudioMarker),this.dispatchEvent("EVENT_CALL_OUTSIDE_TAG")}},onPlay:function(){logger("onPlay"),this.isAudioPlaying=!0}},gameLib.AudioManager.dispatchEvent=function(){return"must override this function"};var levels={};levels.Level=function(a,b,c,d,e,f,g){this.game=a,this.audioMgr=g,this.player=b,this.arrow=null,this.playerCanGoUp=!1,this.playerIsClimbing=!1,this.pulseTween=null,this.enableLevel=!1,this.pulseTween=null,this.nextLevelIndex=c,this.prevLevelIndex=d,this.isMissionComplete=e,this.assetList=f,this.goalItemOffsetPosX=795,this.goalItemOffsetPosY=340,this.hasStarted=!1},levels.Level.prototype.validateAssetList=function(){for(var a=arguments[0],b=1,c="";b<arguments.length;b++)if(logger("required property: "+arguments[b]),c=arguments[b],void 0===a[c])throw"ERROR validateAssetList : "+c+" is null."},levels.Level.prototype.onGameFail=function(){logger("overrite onGameFail()")},levels.Level.prototype.onGameSuccess=function(){logger("overrite onGameSucess()")},levels.Level.prototype.controls=function(){logger("overrite controls()")},levels.Level.prototype.specialControls=function(){logger("overrite specialControls()")},levels.Level.prototype.pulseImg=function(a){this.pulseTween=this.game.add.tween(a.scale),this.pulseTween.delay(1e3),this.pulseTween.to({x:1.25,y:1.25},300,Phaser.Easing.Linear.None),this.pulseTween.to({x:1,y:1},300,Phaser.Easing.Linear.None),this.pulseTween.onComplete.add(this.pulseImgComplete,this),this.pulseTween.start()},levels.Level.prototype.pulseImgComplete=function(){logger("overrite pulseImgComplete()")},levels.Level.prototype.create=function(){logger("overrite create()")},levels.Level.prototype.render=function(){logger("overrite render()")},levels.Level.prototype.resetLevel=function(){logger("overrite resetLevel()")},levels.Level.prototype.clearLevel=function(){logger("overrite clearLevel()")},levels.Level.prototype.setupCollision=function(){logger("overrite setupCollision()")},levels.Level.prototype.onUpdate=function(){logger("overrite onUpdate()")},levels.Level.prototype.handleAudioStop=function(){logger("overrite handleAudioStop()")},levels.Level.prototype.introDescription=function(){return""},levels.Level.prototype.statusStart=function(){return""},levels.Level.prototype.statusFail=function(){return""},levels.Level.prototype.statusSuccess=function(){return""},levels.Level.prototype.objectName=function(){return"levels.Level"},levels.FloorLevel1=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.boxElem1=null,this.ceilingIMG=null,this.floor=null,this.goalObject=null,this.tableEdge=null,this.cgHidden=!1,this.animationPlaying_elem1=!1,this.cgSucceeded=!1,levels.Level.call(this,a,b,c,d,e,f,g),this.enableLevel=!1,this.bgColorAsset=this.assetList.bgColorAsset,this.boxColorAsset=this.assetList.boxColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.goalAsset=this.assetList.goalAsset},levels.FloorLevel1.prototype=new levels.Level,levels.FloorLevel1.prototype.constructor=levels.FloorLevel1,levels.FloorLevel1.prototype={create:function(){logger("Level1 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","boxColorAsset","podiumColorAsset","goalAsset"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,logger("this.assetList.bgColorAsset "+this.assetList.bgColorAsset),this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling_lighting"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG),this.boxElem1=addSprite(this.game,430,380,"game_assets"),this.boxElem1.animations.add("out",Phaser.Animation.generateFrameNames(this.boxColorAsset,1,1,"",2),11,!1),this.boxElem1.animations.add("in",Phaser.Animation.generateFrameNames(this.boxColorAsset,2,2,"",2),11,!1),this.boxElem1.name="box1",this.boxElem1.anchor.setTo(.5,.5),this.boxElem1.body.setSize(125,125,0,0),this.boxElem1.play("out"),this.screenGroup.add(this.boxElem1),this.tableEdge=this.game.add.sprite(790,365,"game_assets",this.podiumColorAsset),this.screenGroup.add(this.tableEdge),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.screenGroup.add(this.goalObject),this.goalObject.anchor.setTo(.5,.5),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.floor=addSprite(this.game,0,435,"floor_full"),this.floor.body.immovable=!0,this.screenGroup.add(this.floor),this.screenGroup.alpha=0,this.player.sprite.bringToTop()},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.player.setPosition(25,342),this.cgSucceeded=!1,this.game.add.tween(this.player.sprite).delay(1e3)},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.enableLevel=!1},setupCollision:function(a){a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor)},onUpdate:function(){this.checkHitAreaBoxes(),this.enableLevel===!0&&this.player.regularControls()},checkHitAreaBoxes:function(){this.game.physics.arcade.overlap(this.player.sprite,this.boxElem1)===!0?(this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0):(this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1),this.game.physics.arcade.overlap(this.player.sprite,this.boxElem1)===!0?(this.boxElem1.play("in"),this.animationPlaying_elem1||(this.animationPlaying_elem1=!0,levels.Level.prototype.pulseImg.call(this,this.goalObject))):(this.boxElem1.play("out"),this.animationPlaying_elem1=!1)},handleAudioStop:function(a){switch(a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":gameModel.firstTimeThur===!0?(this.audioMgr.playAudio("STORE-instruct-ClickOrTapWhereGo"),gameModel.firstTimeThur=!1):this.audioMgr.playAudio("STORE-instruct-NotBeSeen");break;case"STORE-instruct-ClickOrTapWhereGo":this.audioMgr.playAudio("STORE-instruct-NotBeSeen");break;case"STORE-instruct-NotBeSeen":levels.Level.prototype.pulseImg.call(this,this.boxElem1)}},playerGuardHandler:function(){this.cgHidden||(this.enableLevel=!1,this.onGameFail())},playerGoalHandler:function(){this.cgSucceeded||(this.cgSucceeded=!0,this.enableLevel=!1,this.cgHidden=!0,logger("playerGoalHandler - Screen 1"),this.onGameSuccess())}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel1"},levels.FloorLevel2=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.boxElem1=null,this.boxElem2=null,this.guardChar=null,this.ceilingIMG=null,this.floor=null,this.goalObject=null,this.tableEdge=null,this.guardMoveX=2,this.guardMovingLeft=!1,this.cgHidden=!1,this.enableLevel=!1,this.animationPlaying_elem1=!1,this.animationPlaying_elem2=!1,this.cgSucceeded=!1,levels.Level.call(this,a,b,c,d,e,f,g),this.enableLevel=!1,this.bgColorAsset=this.assetList.bgColorAsset,this.boxColorAsset=this.assetList.boxColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.goalAsset=this.assetList.goalAsset,this.guardAsset=this.assetList.guardAsset,this.instructionAudio=this.assetList.instructionAudio},levels.FloorLevel2.prototype=new levels.Level,levels.FloorLevel2.prototype.constructor=levels.FloorLevel2,levels.FloorLevel2.prototype={create:function(){logger("Level2 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","boxColorAsset","podiumColorAsset","goalAsset","guardAsset","instructionAudio"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling_lighting"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG),this.boxElem1=addSprite(this.game,180,380,"game_assets"),this.boxElem1.animations.add("out",Phaser.Animation.generateFrameNames(this.boxColorAsset,1,1,"",2),11,!1),this.boxElem1.animations.add("in",Phaser.Animation.generateFrameNames(this.boxColorAsset,2,2,"",2),11,!1),this.boxElem1.body.setSize(125,125,0,0),this.boxElem1.name="box1",this.boxElem1.anchor.setTo(.5,.5),this.boxElem1.play("out"),this.screenGroup.add(this.boxElem1),this.tableEdge=this.game.add.sprite(790,365,"game_assets",this.podiumColorAsset),this.screenGroup.add(this.tableEdge),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.goalObject.anchor.setTo(.5,.5),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.screenGroup.add(this.goalObject),this.boxElem2=addSprite(this.game,470,380,"game_assets"),this.boxElem2.animations.add("out",Phaser.Animation.generateFrameNames(this.boxColorAsset,1,1,"",2),11,!1),this.boxElem2.animations.add("in",Phaser.Animation.generateFrameNames(this.boxColorAsset,2,2,"",2),11,!1),this.boxElem2.body.setSize(125,125,0,0),this.boxElem2.name="box2",this.boxElem2.anchor.setTo(.5,.5),this.boxElem2.play("out"),this.screenGroup.add(this.boxElem2),this.guardChar=addSprite(this.game,350,235,"game_assets",this.guardAsset),this.guardChar.name="guard",this.guardChar.scale.x=1,this.guardChar.body.setSize(this.guardChar.width,235,-this.guardChar.width/2,0),this.screenGroup.add(this.guardChar),this.floor=addSprite(this.game,0,435,"floor_full"),this.floor.body.immovable=!0,this.screenGroup.add(this.floor),this.screenGroup.alpha=0,this.player.sprite.bringToTop()
},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.player.setPosition(25,342),this.cgSucceeded=!1,this.game.add.tween(this.player.sprite).delay(1e3),this.guardChar.x=350,this.guardChar.scale.x=-1,this.guardMovingLeft=!1},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.enableLevel=!1},setupCollision:function(a){a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor)},onUpdate:function(a){this.checkHitAreaBoxes(),a||this.game.physics.arcade.overlap(this.player.sprite,this.guardChar,this.playerGuardHandler,null,this),this.enableLevel===!0&&(this.guardMovingLeft?this.guardChar.x>0?this.guardChar.x-=this.guardMoveX:(this.guardChar.scale.x=-1,this.guardChar.x=200,this.guardMovingLeft=!1):this.guardChar.x<=900?this.guardChar.x+=this.guardMoveX:(this.guardChar.scale.x=1,this.guardChar.x=750,this.guardMovingLeft=!0),this.player.regularControls())},checkHitAreaBoxes:function(){this.animationPlaying_elem2===!1&&(this.game.physics.arcade.overlap(this.player.sprite,this.boxElem1)===!0?(this.boxElem1.play("in"),this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0,this.animationPlaying_elem1||(this.animationPlaying_elem1=!0,levels.Level.prototype.pulseImg.call(this,this.boxElem2))):(this.boxElem1.play("out"),this.animationPlaying_elem1=!1,this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1)),this.animationPlaying_elem1===!1&&(this.game.physics.arcade.overlap(this.player.sprite,this.boxElem2)===!0?(this.boxElem2.play("in"),this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0,this.animationPlaying_elem2||(this.animationPlaying_elem2=!0,levels.Level.prototype.pulseImg.call(this,this.goalObject))):(this.boxElem2.play("out"),this.animationPlaying_elem2=!1,this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1))},handleAudioStop:function(a){switch(a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":this.hasStarted===!1?(this.audioMgr.playAudio(this.instructionAudio),this.hasStarted=!0):levels.Level.prototype.pulseImg.call(this,this.boxElem1);break;case this.instructionAudio:levels.Level.prototype.pulseImg.call(this,this.boxElem1);break;case"STORE-fdbk-BeenSpotted":this.onTimerFailed()}},playerGuardHandler:function(){this.cgHidden||this.enableLevel===!0&&(this.enableLevel=!1,this.audioMgr.playAudio("STORE-fdbk-BeenSpotted",!1))},onTimerFailed:function(){this.onGameFail()},playerGoalHandler:function(){this.cgSucceeded||(this.enableLevel=!1,this.cgSucceeded=!0,this.cgHidden=!0,this.audioMgr.stopAudio(),this.onGameSuccess())}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel2"},levels.FloorLevel3=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.tableElem=null,this.obstacleCharacter=null,this.ceilingIMG=null,this.floor=null,this.goalObject=null,this.toyMovingLeft=!1,this.toyMoveX=3,this.tableEdge=null,this.enableLevel=!1,this.isOnTable=!1,this.cgSucceeded=!1,levels.Level.call(this,a,b,c,d,e,f,g),this.enableLevel=!1,this.bgColorAsset=this.assetList.bgColorAsset,this.tableColorAsset=this.assetList.tableColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.goalAsset=this.assetList.goalAsset,this.obstacleAsset=this.assetList.obstacleAsset,this.obstacleAudio=this.assetList.obstacleAudio,this.instructionAudio=this.assetList.instructionAudio,this.failObstacleAudio=this.assetList.failObstacleAudio,this.goalItemOffsetPosX=725,this.goalItemOffsetPosY=275,this.onTableYPos=345},levels.FloorLevel3.prototype=new levels.Level,levels.FloorLevel3.prototype.constructor=levels.FloorLevel3,levels.FloorLevel3.prototype={create:function(){logger("Level3 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","tableColorAsset","podiumColorAsset","goalAsset","obstacleAsset","obstacleAudio","instructionAudio","failObstacleAudio"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling_lighting"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG),this.tableElem=addSprite(this.game,450,386,this.tableColorAsset),this.tableElem.body.immovable=!0,this.tableElem.anchor.setTo(.5,.5),this.screenGroup.add(this.tableElem),this.tableEdge=this.game.add.sprite(785,355,"game_assets",this.podiumColorAsset),this.screenGroup.add(this.tableEdge),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.screenGroup.add(this.goalObject),this.obstacleCharacter=addSprite(this.game,-200,344,"game_assets",this.obstacleAsset),this.obstacleCharacter.scale.x=-1,this.obstacleCharacter.body.setSize(25,112,-11,0),this.screenGroup.add(this.obstacleCharacter),this.floor=addSprite(this.game,0,435,"floor_full"),this.floor.body.immovable=!0,this.floor.body.allowGravity=!1,this.screenGroup.add(this.floor),this.screenGroup.alpha=0,this.player.sprite.bringToTop()},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.player.setPosition(25,342),this.cgSucceeded=!1,this.obstacleCharacter.x=1100,this.toyMovingLeft=!1,this.enableLevel=!1,this.isOnTable=!1},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.enableLevel=!1},setupCollision:function(a){a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor)},onUpdate:function(a){this.game.physics.arcade.collide(this.player.sprite,this.tableElem),this.enableLevel===!0&&(a||(this.game.physics.arcade.overlap(this.player.sprite,this.obstacleCharacter,this.playerToyHandler,null,this),this.game.physics.arcade.overlap(this.player.sprite,this.tableElem)&&(this.isOnTable||(this.isOnTable=!0,this.player.jump())),this.player.sprite.y<this.onTableYPos&&(this.isOnTable=!1)),this.toyMovingLeft?this.obstacleCharacter.x>-400?this.obstacleCharacter.x-=this.toyMoveX:(this.obstacleCharacter.scale.x=-1,this.obstacleCharacter.x=-200,this.toyMovingLeft=!1,this.audioMgr.playAudio(this.obstacleAudio,!1)):this.obstacleCharacter.x<=1200?this.obstacleCharacter.x+=this.toyMoveX:(this.obstacleCharacter.scale.x=1,this.obstacleCharacter.x=1100,this.toyMovingLeft=!0,this.audioMgr.playAudio(this.obstacleAudio,!1)),this.player.regularControls())},checkHitAreaBoxes:function(){this.animationPlaying_elem2===!1&&(this.game.physics.arcade.overlap(this.player.sprite,this.boxElem1)?(this.boxElem1.play("in"),this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0,this.animationPlaying_elem1||(this.animationPlaying_elem1=!0,levels.Level.prototype.pulseImg.call(this,this.boxElem2))):(this.boxElem1.play("out"),this.animationPlaying_elem1=!1,this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1)),this.animationPlaying_elem1===!1&&(this.game.physics.arcade.overlap(this.player.sprite,this.boxElem2)?(this.boxElem2.play("in"),this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0,this.animationPlaying_elem2||(this.animationPlaying_elem2=!0,levels.Level.prototype.pulseImg.call(this,this.goalObject))):(this.boxElem2.play("out"),this.animationPlaying_elem2=!1,this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1))},handleAudioStop:function(a){switch(a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":this.hasStarted===!1?(this.audioMgr.playAudio(this.instructionAudio),this.hasStarted=!0):levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.instructionAudio:levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.failObstacleAudio:this.onTimerFailed()}},playerToyHandler:function(){this.audioMgr.stopAudio(),this.enableLevel===!0&&(this.audioMgr.playAudio(this.failObstacleAudio,!1),this.enableLevel=!1)},onTimerFailed:function(){this.onGameFail()},playerGoalHandler:function(){this.cgSucceeded||(this.enableLevel=!1,this.cgSucceeded=!0,this.audioMgr.stopAudio(),this.onGameSuccess())}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel3"},levels.FloorLevel4=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.climbLightsLong1=null,this.climbLights1=null,this.climbLights2=null,this.climbLights3=null,this.climbLights4=null,this.climbLights5=null,this.goalObject=null,this.obstacleCharacters=null,this.obstacleSoundPlayed=!1,this.isOffLights=!0,this.animationPlaying=!1,this.cgSucceeded=!1,this.enableLevel=!1,this.tableEdge=null,levels.Level.call(this,a,b,c,d,e,f,g),this.bgColorAsset=this.assetList.bgColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.goalAsset=this.assetList.goalAsset,this.obstacleCharactersAsset=this.assetList.obstacleCharactersAsset,this.obstacleCharactersAudio=this.assetList.obstacleCharactersAudio,this.instructionAudio=this.assetList.instructionAudio,this.shortClimbLightAsset=this.assetList.shortClimbLightAsset,this.longClimbLightAsset=this.assetList.longClimbLightAsset,this.failCharactersAudio=this.assetList.failCharactersAudio},levels.FloorLevel4.prototype=new levels.Level,levels.FloorLevel4.prototype.constructor=levels.FloorLevel4,levels.FloorLevel4.prototype={create:function(){logger("Level4 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","podiumColorAsset","goalAsset","obstacleCharactersAsset","obstacleCharactersAudio","instructionAudio","shortClimbLightAsset","longClimbLightAsset","failCharactersAudio"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG);var a=125;this.climbLights1=addSprite(this.game,620,a,"game_assets",this.shortClimbLightAsset),this.climbLights1.body.setSize(50,130,0,-30),this.climbLights1.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights1),this.climbLights2=addSprite(this.game,540,a,"game_assets",this.shortClimbLightAsset),this.climbLights2.body.setSize(50,130,0,-30),this.climbLights2.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights2),this.climbLights3=addSprite(this.game,465,a,"game_assets",this.shortClimbLightAsset),this.climbLights3.body.setSize(50,130,0,-30),this.climbLights3.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights3),this.climbLights4=addSprite(this.game,385,a,"game_assets",this.shortClimbLightAsset),this.climbLights4.body.setSize(50,130,0,-30),this.climbLights4.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights4),this.climbLights5=addSprite(this.game,310,a,"game_assets",this.shortClimbLightAsset),this.climbLights5.body.setSize(50,130,0,-30),this.climbLights5.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights5),this.climbLightsLong1=addSprite(this.game,245,a+55,"game_assets",this.longClimbLightAsset),this.climbLightsLong1.body.setSize(10,200,0,0),this.climbLightsLong1.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLightsLong1),this.climbLightsLong2=addSprite(this.game,680,a+55,"game_assets",this.longClimbLightAsset),this.climbLightsLong2.body.setSize(10,200,0,0),this.climbLightsLong2.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLightsLong2),this.tableEdge=addSprite(this.game,785,375,"game_assets",this.podiumColorAsset),this.screenGroup.add(this.tableEdge),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.goalObject.anchor.setTo(.5,.5),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.screenGroup.add(this.goalObject),this.obstacleCharacters=addSprite(this.game,325,415,"game_assets",this.obstacleCharactersAsset),this.screenGroup.add(this.obstacleCharacters),this.floor=this.game.add.group(),this.floor.physicsBodyType=Phaser.Physics.Arcade;var b=addSprite(this.game,0,445,"floor_seg_00");b.body.immovable=!0,this.floor.add(b);var c=addSprite(this.game,295,465,"floor_seg_01");c.body.immovable=!0,this.floor.add(c);var d=addSprite(this.game,615,445,"floor_seg_02");d.body.immovable=!0,this.floor.add(d),this.floor.alpha=0,this.screenGroup.alpha=0,this.player.sprite.body.gravity.y=300,this.player.sprite.bringToTop()},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.floor.alpha=1,this.player.setPosition(25,342),this.cgSucceeded=!1,this.obstacleSoundPlayed=!1,this.isOnTable=!1,this.isOffLights=!0},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.floor.alpha=0,this.enableLevel=!1},setupCollision:function(a){function b(){gameModel.currentLevel instanceof levels.FloorLevel4&&gameModel.currentLevel.enableLevel===!0&&gameModel.currentLevel.player.handlePlayerOnGround()}a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor,b)},onUpdate:function(a){a||this.game.physics.arcade.overlap(this.player.sprite,this.obstacleCharacters,this.playerFloorHandler,null,this),this.enableLevel===!0&&this.testLights(this.game,this.player.sprite)},handleAudioStop:function(a){switch(logger("handleAudioStop "+a),a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":this.hasStarted===!1?(this.audioMgr.playAudio(this.instructionAudio),this.hasStarted=!0):levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.instructionAudio:levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.obstacleCharactersAudio:this.audioMgr.playAudio(this.failCharactersAudio,!1);break;case this.failCharactersAudio:this.onTimerFailed()}},testLights:function(){var a=-10;this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong1)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights1)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights2)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights3)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights4)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights5)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong2)?(this.player.sprite.body.gravity.y=0,this.player.sprite.body.gravity.x=0,this.player.sprite.body.collideWorldBounds=!1,this.player.playerIsClimbing=!0,this.enableLevel===!0&&(this.player.regularControls(),this.player.handlePlayerOnGround()),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights1)&&(this.player.sprite.x=this.climbLights1.x-this.climbLights1.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights2)&&(this.player.sprite.x=this.climbLights2.x-this.climbLights2.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights3)&&(this.player.sprite.x=this.climbLights3.x-this.climbLights3.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights4)&&(this.player.sprite.x=this.climbLights4.x-this.climbLights4.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights5)&&(this.player.sprite.x=this.climbLights5.x-this.climbLights5.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong1)&&(this.player.sprite.x=this.climbLightsLong1.x-this.climbLightsLong1.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong2)&&(this.player.sprite.x=this.climbLightsLong2.x-this.climbLightsLong2.width/2+a)):(this.player.sprite.body.bounce.y=.2,this.player.sprite.body.gravity.y=300,this.player.sprite.body.collideWorldBounds=!0,this.player.playerIsClimbing=!1,this.enableLevel===!0&&this.player.regularControls())},playerFloorHandler:function(){this.enableLevel===!0&&(this.enableLevel=!1,this.player.defaultDisplayState(),this.audioMgr.playAudio(this.obstacleCharactersAudio,!1))},onTimerFailed:function(){this.onGameFail()},playerGoalHandler:function(){if(!this.cgSucceeded){if(this.enableLevel===!1)return;this.player.defaultDisplayState(),this.cgSucceeded=!0,this.enableLevel=!1,this.onGameSuccess()}}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel4"},levels.FloorLevel5=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.climbLightsLong1=null,this.climbLightsLong2=null,this.climbLights1=null,this.climbLights2=null,this.climbLights3=null,this.goalObject=null,this.tableEdge=null,this.toyMovingLeft=!1,this.toyMoveX=3,this.airToyMovingLeft=!1,this.airToyMoveX=3,this.obstacleCharacter=null,this.obstacleAirCharacter=null,this.isOnTable=!1,this.animationPlaying=!1,this.cgSucceeded=!1,this.enableLevel=!1,levels.Level.call(this,a,b,c,d,e,f,g),this.enableLevel=!1,this.bgColorAsset=this.assetList.bgColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.tableSmallColorAsset=this.assetList.tableSmallColorAsset,this.goalAsset=this.assetList.goalAsset,this.obstacleAirAsset=this.assetList.obstacleAirAsset,this.obstacleAirAudio=this.assetList.obstacleAirAudio,this.obstacleAsset=this.assetList.obstacleAsset,this.obstacleAudio=this.assetList.obstacleAudio,this.failObstacleAirAudio=this.assetList.failObstacleAirAudio,this.instructionAudio="STORE-instruct-TableforCarUpForPlane",this.shortClimbLightAsset=this.assetList.shortClimbLightAsset,this.longClimbLightAsset=this.assetList.longClimbLightAsset,this.failObstacleAudio=this.assetList.failObstacleAudio},levels.FloorLevel5.prototype=new levels.Level,levels.FloorLevel5.prototype.constructor=levels.FloorLevel5,levels.FloorLevel5.prototype={create:function(){logger("Level5 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","podiumColorAsset","tableSmallColorAsset","goalAsset","obstacleAirAsset","obstacleAirAudio","failObstacleAirAudio","obstacleAsset","obstacleAudio","instructionAudio","shortClimbLightAsset","longClimbLightAsset","failObstacleAudio"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG),this.tableElem=addSprite(this.game,240,404.5,this.tableSmallColorAsset),this.tableElem.body.immovable=!0,this.tableElem.anchor.setTo(.5,.5),this.screenGroup.add(this.tableElem);var a=100,b=125;this.climbLights1=addSprite(this.game,615+a,b,"game_assets",this.shortClimbLightAsset),this.climbLights1.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights1),this.climbLights2=addSprite(this.game,535+a,b,"game_assets",this.shortClimbLightAsset),this.climbLights2.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights2),this.climbLights3=addSprite(this.game,460+a,b,"game_assets",this.shortClimbLightAsset),this.climbLights3.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights3),this.climbLightsLong1=addSprite(this.game,410+a,b+55,"game_assets",this.longClimbLightAsset),this.climbLightsLong1.body.setSize(10,200,0,0),this.climbLightsLong1.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLightsLong1),this.climbLightsLong2=addSprite(this.game,680+a,b+55,"game_assets",this.longClimbLightAsset),this.climbLightsLong2.body.setSize(10,200,0,0),this.climbLightsLong2.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLightsLong2),this.obstacleAirCharacter=addSprite(this.game,-100,185,"game_assets",this.obstacleAirAsset),this.screenGroup.add(this.obstacleAirCharacter),this.obstacleAirCharacter.scale.x=-1,this.obstacleAirCharacter.body.setSize(25,50,-11,10),this.tableEdge=this.game.add.sprite(785,375,"game_assets",this.podiumColorAsset),this.screenGroup.add(this.tableEdge),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.goalObject.anchor.setTo(.5,.5),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.screenGroup.add(this.goalObject),this.obstacleCharacter=addSprite(this.game,-200,350,"game_assets",this.obstacleAsset),this.obstacleCharacter.scale.x=-1,this.obstacleCharacter.body.setSize(25,80,-11,8),this.screenGroup.add(this.obstacleCharacter),this.floor=addSprite(this.game,0,445,"floor_full"),this.floor.body.immovable=!0,this.screenGroup.add(this.floor),this.screenGroup.alpha=0,this.player.sprite.body.gravity.y=300,this.player.sprite.bringToTop()},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.floor.alpha=1,this.player.setPosition(25,350),this.cgSucceeded=!1,this.isOnTable=!1,this.obstacleCharacter.x=1100,this.toyMovingLeft=!1,this.obstacleAirCharacter.x=-1e3,this.obstacleAirCharacter.scale.x=-1,this.airToyMovingLeft=!1},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.enableLevel=!1},setupCollision:function(a){a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor),this.game.physics.arcade.collide(this.player.sprite,this.tableElem)},onUpdate:function(a){this.enableLevel===!0&&(a||(this.game.physics.arcade.overlap(this.player.sprite,this.obstacleCharacter,this.playerObstacleHandler,null,this),this.toyMovingLeft?this.obstacleCharacter.x>-400?this.obstacleCharacter.x-=this.toyMoveX:(this.obstacleCharacter.scale.x=-1,this.obstacleCharacter.x=-200,this.toyMovingLeft=!1,this.enableLevel===!0&&this.audioMgr.playAudio(this.obstacleAudio,!1)):this.obstacleCharacter.x<=1200?this.obstacleCharacter.x+=this.toyMoveX:(this.obstacleCharacter.scale.x=1,this.obstacleCharacter.x=1100,this.toyMovingLeft=!0,this.enableLevel===!0&&this.audioMgr.playAudio(this.obstacleAudio,!1)),this.game.physics.arcade.overlap(this.player.sprite,this.obstacleAirCharacter,this.playerAirObstacleHandler,null,this),this.airToyMovingLeft?this.obstacleAirCharacter.x>-400?this.obstacleAirCharacter.x-=this.airToyMoveX:(this.obstacleAirCharacter.scale.x=-1,this.obstacleAirCharacter.x=-200,this.airToyMovingLeft=!1):this.obstacleAirCharacter.x<=1200?this.obstacleAirCharacter.x+=this.airToyMoveX:(this.obstacleAirCharacter.scale.x=1,this.obstacleAirCharacter.x=1100,this.airToyMovingLeft=!0),this.game.physics.arcade.overlap(this.player.sprite,this.tableElem)&&(this.isOnTable||(this.isOnTable=!0,this.player.jump())),this.player.sprite.y<345&&(this.isOnTable=!1)),this.player.sprite.x>400?(this.player.playerCanGoUp=!0,this.testLights(this.game,this.player)):(this.player.playerCanGoUp=!1,this.player.regularControls()))},handleAudioStop:function(a){switch(a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":this.audioMgr.playAudio(this.instructionAudio);break;case this.obstacleAudio:this.audioMgr.playAudio(this.obstacleAirAudio,!1);break;case this.instructionAudio:levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.failObstacleAudio:case this.failObstacleAirAudio:this.onTimerFailed()}},testLights:function(a,b){var c=-10;this.game.physics.arcade.overlap(b.sprite,this.climbLightsLong1)||this.game.physics.arcade.overlap(b.sprite,this.climbLights1)||this.game.physics.arcade.overlap(b.sprite,this.climbLights2)||this.game.physics.arcade.overlap(b.sprite,this.climbLights3)||this.game.physics.arcade.overlap(b.sprite,this.climbLightsLong2)?(b.sprite.body.gravity.y=0,b.sprite.body.gravity.x=0,b.sprite.body.collideWorldBounds=!1,b.playerIsClimbing=!0,this.enableLevel&&this.player.regularControls(),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights1)&&(this.player.sprite.x=this.climbLights1.x-this.climbLights1.width/2+c),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights2)&&(this.player.sprite.x=this.climbLights2.x-this.climbLights2.width/2+c),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights3)&&(this.player.sprite.x=this.climbLights3.x-this.climbLights3.width/2+c)):(b.sprite.body.bounce.y=.2,b.sprite.body.gravity.y=300,b.sprite.body.collideWorldBounds=!0,b.playerIsClimbing=!1,this.enableLevel&&this.player.regularControls())},playerObstacleHandler:function(){this.audioMgr.stopAudio(),this.enableLevel===!0&&(this.enableLevel=!1,this.audioMgr.playAudio(this.failObstacleAudio,!1))},playerAirObstacleHandler:function(){this.audioMgr.stopAudio(),this.enableLevel===!0&&(this.enableLevel=!1,this.audioMgr.playAudio(this.failObstacleAirAudio,!1))},onTimerFailed:function(){this.onGameFail()},playerGoalHandler:function(){if(!this.cgSucceeded){if(this.enableLevel===!1)return;this.audioMgr.stopAudio(),this.cgSucceeded=!0,this.enableLevel=!1,this.onGameSuccess()}}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel5"},levels.FloorLevel6=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.tableElem1=null,this.tableElem2=null,this.obstacleCharacter=null,this.ceilingIMG=null,this.floor=null,this.goalObject=null,this.toyMovingLeft=!1,this.toyMoveX=3,this.tableEdge=null,this.enableLevel=!1,this.isOnTable=!1,this.cgSucceeded=!1,levels.Level.call(this,a,b,c,d,e,f,g),this.enableLevel=!1,this.bgColorAsset=this.assetList.bgColorAsset,this.tableSmallColorAsset=this.assetList.tableSmallColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.goalAsset=this.assetList.goalAsset,this.obstacleAsset=this.assetList.obstacleAsset,this.obstacleAudio=this.assetList.obstacleAudio,this.instructionAudio=this.assetList.instructionAudio,this.failObstacleAudio=this.assetList.failObstacleAudio,this.goalItemOffsetPosX=725,this.goalItemOffsetPosY=250,this.onTableYPos=345},levels.FloorLevel6.prototype=new levels.Level,levels.FloorLevel6.prototype.constructor=levels.FloorLevel6,levels.FloorLevel6.prototype={create:function(){logger("Level6 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","podiumColorAsset","tableSmallColorAsset","goalAsset","obstacleAsset","obstacleAudio","instructionAudio","failObstacleAudio"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling_lighting"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG),this.tableElem1=addSprite(this.game,220,404.5,this.tableSmallColorAsset),this.tableElem1.body.immovable=!0,this.tableElem1.anchor.setTo(.5,.5),this.screenGroup.add(this.tableElem1),this.tableElem2=addSprite(this.game,750,404.5,this.tableSmallColorAsset),this.tableElem2.body.immovable=!0,this.tableElem2.anchor.setTo(.5,.5),this.screenGroup.add(this.tableElem2),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.screenGroup.add(this.goalObject),this.obstacleCharacter=addSprite(this.game,-200,340,"game_assets",this.obstacleAsset),this.obstacleCharacter.scale.x=-1,this.obstacleCharacter.body.setSize(25,112,-11,0),this.screenGroup.add(this.obstacleCharacter),this.floor=addSprite(this.game,0,435,"floor_full"),this.floor.body.immovable=!0,this.floor.body.allowGravity=!1,this.screenGroup.add(this.floor),this.screenGroup.alpha=0,this.player.sprite.bringToTop()},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.player.setPosition(25,342),this.cgSucceeded=!1,this.obstacleCharacter.x=1100,this.toyMovingLeft=!1,this.enableLevel=!1,this.isOnTable=!1},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.enableLevel=!1},setupCollision:function(a){a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor),this.game.physics.arcade.collide(this.player.sprite,this.tableElem2)},onUpdate:function(a){this.game.physics.arcade.collide(this.player.sprite,this.tableElem1),this.game.physics.arcade.collide(this.player.sprite,this.tableElem2),this.enableLevel===!0&&(a||(this.game.physics.arcade.overlap(this.player.sprite,this.obstacleCharacter,this.playerObstacleHandler,null,this),this.game.physics.arcade.overlap(this.player.sprite,this.tableElem1)&&(this.isOnTable||(this.isOnTable=!0,this.player.jump())),this.game.physics.arcade.overlap(this.player.sprite,this.tableElem2)&&(this.isOnTable||(this.isOnTable=!0,this.player.jump())),this.player.sprite.y<this.onTableYPos&&(this.isOnTable=!1)),this.toyMovingLeft?this.obstacleCharacter.x>-400?this.obstacleCharacter.x-=this.toyMoveX:(this.obstacleCharacter.scale.x=-1,this.obstacleCharacter.x=-200,this.toyMovingLeft=!1,this.audioMgr.playAudio(this.obstacleAudio,!1)):this.obstacleCharacter.x<=1200?this.obstacleCharacter.x+=this.toyMoveX:(this.obstacleCharacter.scale.x=1,this.obstacleCharacter.x=1100,this.toyMovingLeft=!0,this.audioMgr.playAudio(this.obstacleAudio,!1)),this.player.regularControls())},checkHitAreaBoxes:function(){this.animationPlaying_elem2===!1&&(this.game.physics.arcade.overlap(this.player.sprite,this.boxElem1)?(this.boxElem1.play("in"),this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0,this.animationPlaying_elem1||(this.animationPlaying_elem1=!0,levels.Level.prototype.pulseImg.call(this,this.boxElem2))):(this.boxElem1.play("out"),this.animationPlaying_elem1=!1,this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1)),this.animationPlaying_elem1===!1&&(this.game.physics.arcade.overlap(this.player.sprite,this.boxElem2)?(this.boxElem2.play("in"),this.player.sprite.alpha=0,this.playerXMove=250,this.cgHidden=!0,this.animationPlaying_elem2||(this.animationPlaying_elem2=!0,levels.Level.prototype.pulseImg.call(this,this.goalObject))):(this.boxElem2.play("out"),this.animationPlaying_elem2=!1,this.player.sprite.alpha=1,this.playerXMove=150,this.cgHidden=!1))},handleAudioStop:function(a){switch(a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":this.hasStarted===!1?(this.audioMgr.playAudio(this.instructionAudio),this.hasStarted=!0):levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.instructionAudio:levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.failObstacleAudio:this.onTimerFailed()}},playerObstacleHandler:function(){this.audioMgr.stopAudio(),this.enableLevel===!0&&(this.enableLevel=!1,this.audioMgr.playAudio(this.failObstacleAudio,!1))},onTimerFailed:function(){this.audioMgr.stopAudio(),this.onGameFail()},playerGoalHandler:function(){this.cgSucceeded||(this.audioMgr.stopAudio(),this.enableLevel=!1,this.cgSucceeded=!0,this.onGameSuccess())}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel6"},levels.FloorLevel7=function(a,b,c,d,e,f,g){this.screenGroup=null,this.backgroundImg=null,this.climbLightsLong1=null,this.climbLights1=null,this.climbLights2=null,this.climbLights3=null,this.climbLights4=null,this.climbLights5=null,this.goalObject=null,this.obstacleCharacters=null,this.obstacleSoundPlayed=!1,this.isOffLights=!0,this.animationPlaying=!1,this.cgSucceeded=!1,this.enableLevel=!1,this.tableEdge=null,this.airToyMovingLeft=!1,this.airToyMoveX=3,this.obstacleAirCharacter=null,levels.Level.call(this,a,b,c,d,e,f,g),this.bgColorAsset=this.assetList.bgColorAsset,this.podiumColorAsset=this.assetList.podiumColorAsset,this.goalAsset=this.assetList.goalAsset,this.obstacleCharactersAsset=this.assetList.obstacleCharactersAsset,this.obstacleCharactersAudio=this.assetList.obstacleCharactersAudio,this.failCharactersAudio=this.assetList.failCharactersAudio,this.instructionAudio=this.assetList.instructionAudio,this.shortClimbLightAsset=this.assetList.shortClimbLightAsset,this.longClimbLightAsset=this.assetList.longClimbLightAsset,this.obstacleAirAsset=this.assetList.obstacleAirAsset,this.obstacleAirAudio=this.assetList.obstacleAirAudio,this.failObstacleAirAudio=this.assetList.failObstacleAirAudio,this.goalItemOffsetPosX=800,this.goalItemOffsetPosY=345
},levels.FloorLevel7.prototype=new levels.Level,levels.FloorLevel7.prototype.constructor=levels.FloorLevel7,levels.FloorLevel7.prototype={create:function(){logger("Level7 create"),levels.Level.prototype.validateAssetList(this.assetList,"bgColorAsset","podiumColorAsset","goalAsset","obstacleCharactersAsset","obstacleAirAsset","obstacleAirAudio","failObstacleAirAudio","obstacleCharactersAudio","instructionAudio","shortClimbLightAsset","longClimbLightAsset","failCharactersAudio"),this.screenGroup=this.game.add.group(),this.screenGroup.physicsBodyType=Phaser.Physics.Arcade,this.backgroundImg=this.game.add.sprite(10,10,this.bgColorAsset),this.screenGroup.add(this.backgroundImg),this.ceilingIMG=this.game.add.sprite(25,190,"ceiling"),this.ceilingIMG.x=10,this.ceilingIMG.y=10,this.screenGroup.add(this.ceilingIMG);var a=125;this.climbLights1=addSprite(this.game,620,a,"game_assets",this.shortClimbLightAsset),this.climbLights1.body.setSize(50,100,0,-30),this.climbLights1.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights1),this.climbLights2=addSprite(this.game,540,a,"game_assets",this.shortClimbLightAsset),this.climbLights2.body.setSize(50,100,0,-30),this.climbLights2.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights2),this.climbLights3=addSprite(this.game,465,a,"game_assets",this.shortClimbLightAsset),this.climbLights3.body.setSize(50,100,0,-30),this.climbLights3.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights3),this.climbLights4=addSprite(this.game,385,a,"game_assets",this.shortClimbLightAsset),this.climbLights4.body.setSize(50,100,0,-30),this.climbLights4.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights4),this.climbLights5=addSprite(this.game,310,a,"game_assets",this.shortClimbLightAsset),this.climbLights5.body.setSize(50,100,0,-30),this.climbLights5.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLights5),this.climbLightsLong1=addSprite(this.game,245,a+55,"game_assets",this.longClimbLightAsset),this.climbLightsLong1.body.setSize(10,200,0,0),this.climbLightsLong1.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLightsLong1),this.climbLightsLong2=addSprite(this.game,685,a+55,"game_assets",this.longClimbLightAsset),this.climbLightsLong2.body.setSize(10,200,0,0),this.climbLightsLong2.anchor.setTo(.5,.5),this.screenGroup.add(this.climbLightsLong2),this.obstacleAirCharacter=addSprite(this.game,-100,190,"game_assets",this.obstacleAirAsset),this.screenGroup.add(this.obstacleAirCharacter),this.obstacleAirCharacter.scale.x=-1,this.obstacleAirCharacter.body.setSize(25,40,-11,10),this.tableEdge=addSprite(this.game,785,375,"game_assets",this.podiumColorAsset),this.screenGroup.add(this.tableEdge),this.goalObject=addSprite(this.game,0,0,"game_assets",this.goalAsset),this.goalObject.anchor.setTo(.5,.5),this.goalObject.x=this.goalItemOffsetPosX+this.goalObject.width/5,this.goalObject.y=this.goalItemOffsetPosY+this.goalObject.height/5,this.screenGroup.add(this.goalObject),this.obstacleCharacters=addSprite(this.game,325,415,"game_assets",this.obstacleCharactersAsset),this.screenGroup.add(this.obstacleCharacters),this.floor=this.game.add.group(),this.floor.physicsBodyType=Phaser.Physics.Arcade;var b=addSprite(this.game,0,445,"floor_seg_00");b.body.immovable=!0,this.floor.add(b);var c=addSprite(this.game,295,465,"floor_seg_01");c.body.immovable=!0,this.floor.add(c);var d=addSprite(this.game,615,445,"floor_seg_02");d.body.immovable=!0,this.floor.add(d),this.floor.alpha=0,this.screenGroup.alpha=0,this.player.sprite.body.gravity.y=300,this.player.sprite.bringToTop()},render:function(){},resetLevel:function(){this.screenGroup.alpha=1,this.floor.alpha=1,this.player.setPosition(25,342),this.cgSucceeded=!1,this.obstacleSoundPlayed=!1,this.isOnTable=!1,this.isOffLights=!0,this.obstacleAirCharacter.x=-100,this.obstacleAirCharacter.scale.x=-1,this.airToyMovingLeft=!1},pulseImgComplete:function(){this.game.tweens.remove(this.pulseTween),this.pulseTween=null,this.enableLevel=!0},clearLevel:function(){this.screenGroup.alpha=0,this.floor.alpha=0,this.enableLevel=!1},setupCollision:function(a){function b(){gameModel.currentLevel instanceof levels.FloorLevel7&&gameModel.currentLevel.enableLevel===!0&&gameModel.currentLevel.player.handlePlayerOnGround()}a||this.game.physics.arcade.overlap(this.player.sprite,this.goalObject,this.playerGoalHandler,null,this),this.game.physics.arcade.collide(this.player.sprite,this.floor,b)},onUpdate:function(a){if(this.enableLevel===!0){a||(this.game.physics.arcade.overlap(this.player.sprite,this.obstacleCharacters,this.playerFloorHandler,null,this),this.game.physics.arcade.overlap(this.player.sprite,this.obstacleAirCharacter,this.playerAirObstacleHandler,null,this),this.airToyMovingLeft?this.obstacleAirCharacter.x>-400?this.obstacleAirCharacter.x-=this.airToyMoveX:(this.obstacleAirCharacter.scale.x=-1,this.obstacleAirCharacter.x=-200,this.airToyMovingLeft=!1,this.audioMgr.playAudio(this.obstacleAirAudio,!1)):this.obstacleAirCharacter.x<=1200?this.obstacleAirCharacter.x+=this.airToyMoveX:(this.obstacleAirCharacter.scale.x=1,this.obstacleAirCharacter.x=1100,this.airToyMovingLeft=!0,this.audioMgr.playAudio(this.obstacleAirAudio,!1))),this.testLights(this.game,this.player.sprite)}},handleAudioStop:function(a){switch(a){case"STORE-SneakToGetNeed":case"STORE-BeSneaky":case"STORE-SneakingTime":this.hasStarted===!1?(this.audioMgr.playAudio(this.instructionAudio),this.hasStarted=!0):(this.audioMgr.playAudio(this.obstacleAirAudio,!1),levels.Level.prototype.pulseImg.call(this,this.goalObject));break;case this.instructionAudio:this.audioMgr.playAudio(this.obstacleAirAudio,!1),levels.Level.prototype.pulseImg.call(this,this.goalObject);break;case this.obstacleCharactersAudio:this.audioMgr.playAudio(this.failCharactersAudio,!1);break;case this.failCharactersAudio:this.onTimerFailed();break;case this.failObstacleAirAudio:this.onTimerFailed()}},testLights:function(){var a=-10;this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong1)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights1)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights2)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights3)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights4)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLights5)||this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong2)?(this.player.sprite.body.gravity.y=0,this.player.sprite.body.gravity.x=0,this.player.sprite.body.collideWorldBounds=!1,this.player.playerIsClimbing=!0,this.enableLevel&&(this.player.regularControls(),this.player.handlePlayerOnGround()),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights1)&&(this.player.sprite.x=this.climbLights1.x-this.climbLights1.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights2)&&(this.player.sprite.x=this.climbLights2.x-this.climbLights2.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights3)&&(this.player.sprite.x=this.climbLights3.x-this.climbLights3.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights4)&&(this.player.sprite.x=this.climbLights4.x-this.climbLights4.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLights5)&&(this.player.sprite.x=this.climbLights5.x-this.climbLights5.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong1)&&(this.player.sprite.x=this.climbLightsLong1.x-this.climbLightsLong1.width/2+a),this.game.physics.arcade.overlap(this.player.sprite,this.climbLightsLong2)&&(this.player.sprite.x=this.climbLightsLong2.x-this.climbLightsLong2.width/2+a)):(this.player.sprite.body.bounce.y=.2,this.player.sprite.body.gravity.y=300,this.player.sprite.body.collideWorldBounds=!0,this.player.playerIsClimbing=!1,this.enableLevel&&this.player.regularControls())},playerFloorHandler:function(){this.audioMgr.stopAudio(),this.enableLevel===!0&&(this.player.defaultDisplayState(),this.audioMgr.playAudio(this.obstacleCharactersAudio,!1),this.enableLevel=!1)},playerAirObstacleHandler:function(){this.audioMgr.stopAudio(),this.enableLevel===!0&&(this.enableLevel=!1,this.audioMgr.playAudio(this.failObstacleAirAudio,!1))},onTimerFailed:function(){this.onGameFail()},playerGoalHandler:function(){if(!this.cgSucceeded){if(this.enableLevel===!1)return;this.player.defaultDisplayState(),this.audioMgr.stopAudio(),this.cgSucceeded=!0,this.enableLevel=!1,this.onGameSuccess()}}},levels.Level.prototype.objectName=function(){return"levels.FloorLevel7"};var levelSettings={currentLevels:[{levelType:"level1",nextLevelIndex:2,previousLevelIndex:1,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset"],sense:"sight"},{levelType:"level2",nextLevelIndex:3,previousLevelIndex:2,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset","guardAsset"],sense:"smell"},{levelType:"level3",nextLevelIndex:4,previousLevelIndex:3,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","obstacleAsset"],sense:"sound"},{levelType:"level4",nextLevelIndex:5,previousLevelIndex:4,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","climbLightAsset","obstacleCharactersAsset"],sense:"taste"},{levelType:"level6",nextLevelIndex:6,previousLevelIndex:5,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","tableSmallColorAsset","obstacleAsset"],sense:"feel"},{levelType:"level7",nextLevelIndex:7,previousLevelIndex:6,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","climbLightAsset","obstacleCharactersAsset","obstacleAirAsset"],sense:"sight"},{levelType:"level1",nextLevelIndex:8,previousLevelIndex:7,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset"],sense:"smell"},{levelType:"level2",nextLevelIndex:9,previousLevelIndex:8,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset","guardAsset"],sense:"sound"},{levelType:"level3",nextLevelIndex:10,previousLevelIndex:9,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","obstacleAsset"],sense:"taste"},{levelType:"level4",nextLevelIndex:11,previousLevelIndex:10,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","climbLightAsset","obstacleCharactersAsset"],sense:"feel"},{levelType:"level6",nextLevelIndex:12,previousLevelIndex:11,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","tableSmallColorAsset","obstacleAsset"],sense:"sight"},{levelType:"level7",nextLevelIndex:13,previousLevelIndex:12,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","obstacleAirAsset","climbLightAsset","obstacleCharactersAsset"],sense:"smell"},{levelType:"level1",nextLevelIndex:14,previousLevelIndex:13,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset"],sense:"sound"},{levelType:"level2",nextLevelIndex:15,previousLevelIndex:14,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset","guardAsset"],sense:"taste"},{levelType:"level3",nextLevelIndex:16,previousLevelIndex:15,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","obstacleAsset"],sense:"feel"},{levelType:"level4",nextLevelIndex:17,previousLevelIndex:16,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","climbLightAsset","obstacleCharactersAsset"],sense:"sight"},{levelType:"level6",nextLevelIndex:18,previousLevelIndex:17,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","tableSmallColorAsset","obstacleAsset"],sense:"smell"},{levelType:"level7",nextLevelIndex:19,previousLevelIndex:18,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","climbLightAsset","obstacleCharactersAsset","obstacleAirAsset"],sense:"sound"},{levelType:"level1",nextLevelIndex:20,previousLevelIndex:19,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset"],sense:"taste"},{levelType:"level2",nextLevelIndex:21,previousLevelIndex:20,isMissionComplete:!1,assetList:["bgColorAsset","boxColorAsset","podiumColorAsset","guardAsset"],sense:"feel"},{levelType:"level3",nextLevelIndex:22,previousLevelIndex:21,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","obstacleAsset"],sense:"sight"},{levelType:"level4",nextLevelIndex:23,previousLevelIndex:22,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","climbLightAsset","obstacleCharactersAsset"],sense:"smell"},{levelType:"level6",nextLevelIndex:24,previousLevelIndex:23,isMissionComplete:!1,assetList:["bgColorAsset","podiumColorAsset","tableSmallColorAsset","obstacleAsset"],sense:"sound"},{levelType:"level7",nextLevelIndex:1,previousLevelIndex:24,isMissionComplete:!0,assetList:["bgColorAsset","podiumColorAsset","tableColorAsset","climbLightAsset","obstacleCharactersAsset","obstacleAirAsset"],sense:"taste"}]},currentLevel=null,CANVAS_WIDTH=900,CANVAS_HEIGHT=506,useMouse=!0,audioMarkers=null,backgroundColorImgs=["bg_orange","bg_blue","bg_yellow","bg_red","bg_teal","bg_green"],tableImgs=["table_green","table_brown","table_blue"],smallTableImgs=["table_small_green","table_small_brown","table_small_blue"],boxImgs=["green_box_","blue_box_","brown_box_"],podiumImgs=["podium_green","podium_red","podium_teal","podium_yellow"],guardImgs=["guy","woman","woman_with_purse"],floorVechicleImgs=["toy_car","toy_truck","fire_truck"],airToyImgs=["toy_plane_blue","toy_plane_yellow","redtoy_shuttle"],floorImgs=["rubber_ducks","alarm_clocks"],lightImgs=["lights_blue","lights_green","lights_pink"],sense_sight=["stuffed_animal","brick","glass_jar","cap","blue_ribbon","wrench","eggplant","carrot"],sense_sound=["train","watch","phone","bell","drill","firetruck","cuckoo_clock","basketball","video_game","whistle"],sense_taste=["juicebox","popcorn","watermelon","lemon","pear","toothpaste"],sense_smell=["cantaloupe","banana"],sense_feel=["pencil","tape","teddy_bear","popsicle","towel","scissors","bread","newspaper","tennis_ball"],localBGColorImgs=[],localTableImgs=[],localTableSmallImgs=[],localBoxImgs=[],localPodiumImgs=[],localGuardImgs=[],localToyVechicalImgs=[],localFloorToysImg=[],localAirToyImgs=[],localLightImgs=[],localFloorImgs=[],localSenseSweet=[],localSenseSight=[],localSenseSound=[],localSenseTaste=[],localSenseSmell=[],localSenseFeel=[],fdbkAudioOfObstacles={redtoy_shuttle:"STORE-fdbk-WhoopsShuttleBonk",toy_plane_blue:"STORE-fdbk-WhoopsPlaneBonk",toy_plane_yellow:"STORE-fdbk-WhoopsPlaneBonk",rubber_ducks:"STORE-fdbk-OopsNoisyDucks",alarm_clocks:"STORE-fdbk-OopsNoisyClocks",fire_truck:"STORE-fdbk-OopsEngineBump",toy_truck:"STORE-fdbk-OopsTruckBump",toy_car:"STORE-fdbk-OopsCarBump"},instructOfObstacles={redtoy_shuttle:"STORE-instruct-UpToAvoidShuttles",toy_plane_blue:"STORE-instruct-UpToAvoidPlanes",toy_plane_yellow:"STORE-instruct-UpToAvoidPlanes",rubber_ducks:"STORE-instruct-DontBumpDucks",alarm_clocks:"STORE-instruct-DontBumpClocks",fire_truck:"STORE-instruct-TableToAvoidEngines",toy_truck:"STORE-instruct-TableToAvoidTrucks",toy_car:"STORE-instruct-TableToAvoidCars",woman:"STORE-instruct-DontLetHerSee",woman_with_purse:"STORE-instruct-DontLetHerSee",guy:"STORE-instruct-DontLetHimSee"},sfx_peril={alarm_clocks:"SFX-PERIL-alarmclock",toy_car:"SFX-PERIL-car",rubber_ducks:"SFX-PERIL-ducks",toy_truck:"SFX-PERIL-dumptruck",fire_truck:"SFX-PERIL-firetruck",toy_plane_blue:"SFX-PERIL-plane",toy_plane_yellow:"SFX-PERIL-plane",redtoy_shuttle:"SFX-PERIL-spaceshuttle"},sense_feel_cat={tape:new gameLib.SenseModel([new gameLib.SelectionVO("whistle",162,43,"select1"),new gameLib.SelectionVO("brick",346,86,"select2"),new gameLib.SelectionVO("tape",579,56,"select3")],"select3","CHOICE-cat-FeelsSticky","DESCRIP-touch","CHOICE-right-tape"),popsicle:new gameLib.SenseModel([new gameLib.SelectionVO("tennis_ball",139,13,"select1"),new gameLib.SelectionVO("popsicle",368,42,"select2"),new gameLib.SelectionVO("stuffed_animal",579,50,"select3")],"select2","CHOICE-cat-FeelsCold","DESCRIP-touch","CHOICE-right-popsicle"),tennis_ball:new gameLib.SenseModel([new gameLib.SelectionVO("cake",155,28,"select1"),new gameLib.SelectionVO("tennis_ball",646,5,"select2"),new gameLib.SelectionVO("train",355,100,"select3")],"select2","CHOICE-cat-FeelsFuzzy","DESCRIP-touch","CHOICE-right-tennisball"),newspaper:new gameLib.SenseModel([new gameLib.SelectionVO("cap",350,49,"select1"),new gameLib.SelectionVO("watermelon",572,46,"select2"),new gameLib.SelectionVO("newspaper",169,23,"select3")],"select3","CHOICE-cat-FeelsPapery","DESCRIP-touch","CHOICE-right-newspaper"),pencil:new gameLib.SenseModel([new gameLib.SelectionVO("orange",376,97,"select1"),new gameLib.SelectionVO("basketball",139,35,"select2"),new gameLib.SelectionVO("pencil",572,56,"select3")],"select3","CHOICE-cat-FeelsPointy","DESCRIP-touch","CHOICE-right-pencil"),teddy_bear:new gameLib.SenseModel([new gameLib.SelectionVO("teddy_bear",154,31,"select1"),new gameLib.SelectionVO("brick",365,61,"select2"),new gameLib.SelectionVO("whistle",645,30,"select3")],"select1","CHOICE-cat-FeelsSoft","DESCRIP-touch","CHOICE-right-teddybear"),towel:new gameLib.SenseModel([new gameLib.SelectionVO("brick",558,41,"select1"),new gameLib.SelectionVO("towel",338,89,"select2"),new gameLib.SelectionVO("pencil",120,30,"select3")],"select2","CHOICE-cat-FeelsSoft","DESCRIP-touch","CHOICE-right-towel"),bread:new gameLib.SenseModel([new gameLib.SelectionVO("bell",655,23,"select1"),new gameLib.SelectionVO("bread",160,32,"select2"),new gameLib.SelectionVO("wrench",405,68,"select1")],"select2","CHOICE-cat-FeelsSquishy","DESCRIP-touch","CHOICE-right-bread"),scissors:new gameLib.SenseModel([new gameLib.SelectionVO("cantaloupe",592,32,"select1"),new gameLib.SelectionVO("cap",138,20,"select2"),new gameLib.SelectionVO("scissors",385,64,"select1")],"select1","CHOICE-cat-FeelsSharp","DESCRIP-touch","CHOICE-right-scissors")},sense_sight_cat={blue_ribbon:new gameLib.SenseModel([new gameLib.SelectionVO("tennis_ball",548,40,"select1"),new gameLib.SelectionVO("orange",394,96,"select2"),new gameLib.SelectionVO("blue_ribbon",196,42,"select3")],"select3","CHOICE-cat-LooksBlue","DESCRIP-sight","CHOICE-right-ribbon"),glass_jar:new gameLib.SenseModel([new gameLib.SelectionVO("popcorn",160,14,"select1"),new gameLib.SelectionVO("banana_bread",346,81,"select2"),new gameLib.SelectionVO("glass_jar",639,21,"select3")],"select3","CHOICE-cat-LooksClear","DESCRIP-sight","CHOICE-right-jar"),wrench:new gameLib.SenseModel([new gameLib.SelectionVO("wrench",579,37,"select1"),new gameLib.SelectionVO("wooden_spoon",164,48,"select2"),new gameLib.SelectionVO("cheese",351,98,"select3")],"select1","CHOICE-cat-LooksMetallic","DESCRIP-sight","CHOICE-right-wrench"),stuffed_animal:new gameLib.SenseModel([new gameLib.SelectionVO("stuffed_animal",600,40,"select1"),new gameLib.SelectionVO("bread",385,82,"select2"),new gameLib.SelectionVO("apple",133,12,"select3")],"select1","CHOICE-cat-LooksMulticolored","DESCRIP-sight","CHOICE-right-stuffed"),carrot:new gameLib.SenseModel([new gameLib.SelectionVO("eggplant",169,28,"select1"),new gameLib.SelectionVO("carrot",338,81,"select2"),new gameLib.SelectionVO("newspaper",582,40,"select3")],"select2","CHOICE-cat-LooksOrange","DESCRIP-sight","CHOICE-right-carrot"),eggplant:new gameLib.SenseModel([new gameLib.SelectionVO("eggplant",169,28,"select1"),new gameLib.SelectionVO("carrot",338,81,"select2"),new gameLib.SelectionVO("newspaper",582,40,"select3")],"select1","CHOICE-cat-LooksPurple","DESCRIP-sight","CHOICE-right-eggplant"),brick:new gameLib.SenseModel([new gameLib.SelectionVO("brick",346,86,"select1"),new gameLib.SelectionVO("basketball",139,35,"select2"),new gameLib.SelectionVO("donut",584,42,"select3")],"select1","CHOICE-cat-LooksRectangular","DESCRIP-sight","CHOICE-right-brick"),cap:new gameLib.SenseModel([new gameLib.SelectionVO("glass_jar",172,24,"select1"),new gameLib.SelectionVO("lemon",610,20,"select2"),new gameLib.SelectionVO("cap",355,34,"select3")],"select3","CHOICE-cat-LooksRed","DESCRIP-sight","CHOICE-right-cap")},sense_smell_cat={cantaloupe:new gameLib.SenseModel([new gameLib.SelectionVO("drill",579,31,"select1"),new gameLib.SelectionVO("cuckoo_clock",379,38,"select2"),new gameLib.SelectionVO("cantaloupe",139,28,"select3")],"select3","CHOICE-cat-SmellsSweet","DESCRIP-smell","CHOICE-right-cantaloupe"),banana:new gameLib.SenseModel([new gameLib.SelectionVO("phone",400,35,"select1"),new gameLib.SelectionVO("pencil",141,31,"select2"),new gameLib.SelectionVO("banana",584,33,"select3")],"select3","CHOICE-cat-SmellsSweet","DESCRIP-smell","CHOICE-right-banana")},sense_sound_cat={train:new gameLib.SenseModel([new gameLib.SelectionVO("flowers",412,57,"select1"),new gameLib.SelectionVO("phone",600,40,"select2"),new gameLib.SelectionVO("train",140,35,"select3")],"select3","CHOICE-cat-SoundsLikeTrain","DESCRIP-sound","CHOICE-right-toytrain"),watch:new gameLib.SenseModel([new gameLib.SelectionVO("watermelon",127,42,"select1"),new gameLib.SelectionVO("pear",636,32,"select2"),new gameLib.SelectionVO("watch",360,43,"select3")],"select3","CHOICE-cat-SoundsLikeWatch","DESCRIP-sound","CHOICE-right-watch"),phone:new gameLib.SenseModel([new gameLib.SelectionVO("eggplant",377,36,"select1"),new gameLib.SelectionVO("carrot",126,37,"select2"),new gameLib.SelectionVO("phone",599,40,"select3")],"select3","CHOICE-cat-SoundsLikePhone","DESCRIP-sound","CHOICE-right-phone"),bell:new gameLib.SenseModel([new gameLib.SelectionVO("flowers",610,40,"select1"),new gameLib.SelectionVO("bell",404,45,"select2"),new gameLib.SelectionVO("toothpaste",117,33,"select3")],"select2","CHOICE-cat-SoundsLikeBell","DESCRIP-sound","CHOICE-right-bell"),drill:new gameLib.SenseModel([new gameLib.SelectionVO("cheese",154,42,"select1"),new gameLib.SelectionVO("juicebox",384,54,"select2"),new gameLib.SelectionVO("drill",574,35,"select3")],"select3","CHOICE-cat-SoundsLikeDrill","DESCRIP-sound","CHOICE-right-drill"),firetruck:new gameLib.SenseModel([new gameLib.SelectionVO("firetruck",332,59,"select1"),new gameLib.SelectionVO("wooden_spoon",615,30,"select2"),new gameLib.SelectionVO("watch",117,10,"select3")],"select1","CHOICE-cat-SoundsLikeFiretruck","DESCRIP-sound","CHOICE-right-firetruck"),cuckoo_clock:new gameLib.SenseModel([new gameLib.SelectionVO("cuckoo_clock",379,38,"select1"),new gameLib.SelectionVO("carrot",126,37,"select2"),new gameLib.SelectionVO("drill",574,35,"select3")],"select1","CHOICE-cat-SoundsLikeCuckoo","DESCRIP-sound","CHOICE-right-cuckoo"),basketball:new gameLib.SenseModel([new gameLib.SelectionVO("basketball",379,38,"select1"),new gameLib.SelectionVO("pear",140,37,"select2"),new gameLib.SelectionVO("towel",574,35,"select3")],"select1","CHOICE-cat-SoundsLikeBasketball","DESCRIP-sound","CHOICE-right-basketball"),video_game:new gameLib.SenseModel([new gameLib.SelectionVO("video_game",379,38,"select1"),new gameLib.SelectionVO("juicebox",126,37,"select2"),new gameLib.SelectionVO("popsicle",574,40,"select3")],"select1","CHOICE-cat-SoundsLikeVideogame","DESCRIP-sound","CHOICE-right-videogame"),whistle:new gameLib.SenseModel([new gameLib.SelectionVO("popsicle",404,45,"select1"),new gameLib.SelectionVO("whistle",630,48,"select2"),new gameLib.SelectionVO("stuffed_animal",164,40,"select3")],"select2","CHOICE-cat-SoundsLikeWhistle","DESCRIP-sound","CHOICE-right-whistle")},sense_taste_cat={juicebox:new gameLib.SenseModel([new gameLib.SelectionVO("phone",172,32,"select1"),new gameLib.SelectionVO("tape",391,81,"select2"),new gameLib.SelectionVO("juicebox",610,30,"select3")],"select3","CHOICE-cat-TastesSweet","DESCRIP-taste","CHOICE-right-juice"),popcorn:new gameLib.SenseModel([new gameLib.SelectionVO("apple",605,46,"select1"),new gameLib.SelectionVO("bread",375,57,"select2"),new gameLib.SelectionVO("popcorn",178,27,"select3")],"select3","CHOICE-cat-TastesSalty","DESCRIP-taste","CHOICE-right-popcorn"),watermelon:new gameLib.SenseModel([new gameLib.SelectionVO("tape",602,38,"select1"),new gameLib.SelectionVO("watermelon",365,98,"select2"),new gameLib.SelectionVO("teddy_bear",154,31,"select3")],"select2","CHOICE-cat-TastesSweet","DESCRIP-taste","CHOICE-right-watermelon"),lemon:new gameLib.SenseModel([new gameLib.SelectionVO("lemon",645,48,"select1"),new gameLib.SelectionVO("donut",141,44,"select2"),new gameLib.SelectionVO("cake",389,40,"select3")],"select1","CHOICE-cat-TastesSour","DESCRIP-taste","CHOICE-right-lemon"),pear:new gameLib.SenseModel([new gameLib.SelectionVO("train",325,50,"select1"),new gameLib.SelectionVO("newspaper",138,18,"select2"),new gameLib.SelectionVO("pear",636,32,"select3")],"select3","CHOICE-cat-TastesSweet","DESCRIP-taste","CHOICE-right-pear"),toothpaste:new gameLib.SenseModel([new gameLib.SelectionVO("banana",368,73,"select1"),new gameLib.SelectionVO("apple",629,27,"select2"),new gameLib.SelectionVO("toothpaste",117,33,"select3")],"select3","CHOICE-cat-TastesMinty","DESCRIP-taste","CHOICE-right-toothpaste")},gameModel=new gameLib.GameModel,audioMgr=null;window.mobilecheck=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1},useMouse=window.mobilecheck()?!1:!0,Number.prototype.clamp=function(a,b){return Math.min(Math.max(this,a),b)},function(){function a(){n=new Phaser.Game(CANVAS_WIDTH-1,CANVAS_HEIGHT-1,Phaser.CANVAS,"stageCanvas",{preload:b,create:c,render:h,update:g},!0)}function b(){assetSetup(n)}function c(){n.physics.startSystem(Phaser.Physics.ARCADE),q=new gameLib.AudioManager(n),q.dispatchEvent=function(a,b){switch(a){case"EVENT_DISPLAY_PLAY_BUTTON":titleScreen.displayPlayButton();break;case"EVENT_CURRENT_LEVEL_HANDLE_AUDIO_STOP":gameModel.currentLevel.handleAudioStop(b),o.handleAudioStop(q.currentAudioMarker);break;case"EVENT_COMPLETED_MISSION":o.showDisplay(!0,x);break;case"EVENT_CALL_OUTSIDE_TAG":r.onAudioStop()}},p=new gameLib.Player(n,useMouse),d(),r=new gameLib.SelectionDisplay(n,q),r.playLevel=j,r.create(),r.viewStateLevel=gameModel.currentLevelIndex,r.dispatchEvent=function(a){switch(a){case"EVENT_SHOW_INTRO_DISPLAY":r.showDisplay(A[gameModel.currentLevelIndex-1],x);break;case"EVENT_ENABLE_INTRO_DISPLAY":r.enabled=!0,v.bringToTop();break;case"EVENT_RESET_LEVEL":j()}},titleScreen=new gameLib.TitleScreenDisplay(n,q),titleScreen.create(),titleScreen.onHandlePlayButton=function(){var a=n.add.tween(titleScreen.titleScreenGrp).to({alpha:0},500,Phaser.Easing.Cubic.OUT);a.onComplete.add(function(){titleScreen.x=t,titleScreen.showDisplay(!1),titleScreen.destroy(),a=null}),a.start(),r.firstStart()},titleScreen.showDisplay(!0),titleScreen.start(),o=new gameLib.EndDisplay(n,q),o.create(),o.showDisplay(!1),o.nextLevel=e,v=n.add.sprite(0,0,"shell"),gameModel.currentLevelIndex=u,gameModel.currentLevel=z[gameModel.currentLevelIndex-1],gameModel.showIntroDisplay=i,gameModel.callResetLevel=j}function d(){logger("Get Levels ");for(var a=null,b=null,c=null,d=null,e=null,f=0;f<levelSettings.currentLevels.length;f++)a=levelSettings.currentLevels[f],b=getSenseValue(a.sense),c=a.assetList,d=populateAssetList(c,b),d.goalAsset=b+"_level",e=populateSelectionDisplayItem(a.sense,b),null===e&&logger("SelectionDisplayItem is null"),A.push(e),z.push(getlevelFromFactory(a.levelType,n,p,a.nextLevelIndex,a.previousLevelIndex,a.isMissionComplete,d,q));logger("GetLevels "+A.length)}function e(){o.showDisplay(!1),f(),r.viewStateLevel=gameModel.currentLevelIndex,r.showDisplay(A[gameModel.currentLevelIndex-1],x),r.giveHint(),r.enabled=!1}function f(){w+=1,x=w>y?!0:!1}function g(){gameModel.currentLevel&&gameModel.currentLevel.setupCollision(gameModel.floorActionStarting),gameModel.floorActionEnded||gameModel.currentLevel&&gameModel.currentLevel.onUpdate(gameModel.floorActionStarting)}function h(){gameModel.currentLevel&&gameModel.currentLevel.render()}function i(){r.viewStateLevel=gameModel.currentLevelIndex,f(),r.showDisplay(A[gameModel.currentLevelIndex-1],x),r.giveHint()}function j(){r&&r.hideDisplay(),s=n.time.events.add(2e3,m,this),k(),l();var a=[],b=["STORE-SneakToGetNeed","STORE-BeSneaky","STORE-SneakingTime"],c=getRandomItemFromArray(a,b);q.playAudio(c),gameModel.currentLevel&&gameModel.currentLevel.resetLevel()}function k(){gameModel.currentLevel&&(gameModel.currentLevel.clearLevel(),gameModel.currentLevel=null),gameModel.currentLevel=z[gameModel.currentLevelIndex-1],p.playerCanGoUp=gameModel.currentLevel.playerCanGoUp,p.playerIsClimbing=gameModel.currentLevel.playerIsClimbing}function l(){p.resetCharacter(),q.stopAudio(q.currentAudioMarker),gameModel.floorActionEnded=!1,gameModel.floorActionStarting=!0}function m(){gameModel.floorActionStarting=!1,n.time.events.remove(s)}var n,o,p,q,r,s,t=1500,u=1,v=null,w=1,x=!1,y=5,z=[],A=[];a()}(window);